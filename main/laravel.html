<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>laravel</title>
</head>
<body>

<style>
*{
	margin:0;
	padding:0;
	box-sizing: border-box;
}

::-webkit-scrollbar {
  width: 7px;
}

::-webkit-scrollbar {
  width: 8px;
  height: auto;
}

::-webkit-scrollbar-thumb {
  border: 0px none #ffffff;
  border-radius: 0px;
  background: #525252;
}


@font-face {
  font-family: 'wb';
  src: 
    url('../font/WebYekan.woff') format('woff');
	  font-weight: normal;
	  font-style: normal;
	  font-display: block;
}
.pre{
	text-align:center; 
	font-size:1.2rem; 
	font-weight:bold; 
	padding:8px; 
	background:#18171c;
	color:#fff;
	font-family: 'wb';
}

.or{
	color:#d14703;
}
.b{
	color:#038cc7;
}
.g{
	color:#01cd3d;
}
.red{
	color:#dc3545;
}
.ti{
	font-size:2.3rem;
}

.code{
	background:#262626;
	color:rgb(133,197,199);
	padding:12px;
	border-radius:4px;
	text-align:left;
	font-family: monospace;
	font-size:1.4rem;
	overflow:auto;
	font-style:italic;
}
.y{
	color:yellow;
}

</style>



<!-- 
	|================================================|
	|						laravel					 |
	|================================================|
<span class=""></span>
 -->
 
<div class="pre">
<p style="text-align:center"><img src="../img/Laravel.png" width="150" height="150"></p>

<i class="ti or"> {{ &nbsp; &nbsp;   laravel   &nbsp; &nbsp; }}</i>
<br />

<h2 class="y">------   Intro   ------</h2> 
<br />
<p dir="rtl">تفاوت <span style="color:#9b59b6">کتابخانه </span>و<span style="color:#d35400"> فریم ورک</span></p>

<p dir="rtl">هر دو کدهایی هستند که از<span style="color:#3498db"> قبل نوشته شده اند</span> و باعث می شوند یکسری مشکلات رایج برنامه نویسی بدون وقت اضافه برای نوشتن کدهای ازابتدا حل شوند</p>

<p>*<span style="color:#e74c3c"><strong>library</strong></span></p>

<p dir="rtl">کالکشنی از<span style="color:#f39c12"> کلاس ها و متودها</span> است.&nbsp;<br />
وقتی شما از کتابخانه استفاده میکنید در واقع این شما هستید که <span style="color:#d35400">کنترل جریان کار را در دست دارید</span> و این شما هستید که&nbsp;تعیین می کنید <span style="color:#27ae60">در کجا و کی از چه کتابخانه ای</span> استفاده شود. مثل اینکه می خواهید در کتابخانه کتاب انتخاب کنید.</p>

<p>*<span style="color:#e74c3c"><strong>Framework</strong></span></p>

<p dir="rtl"><br />
مجموعه کاملی از<span style="color:#f39c12"> لایبری ها یا کتابخانه ها</span> است.<br />
در این مورد کنترل حریان برنامه دست فریم ورک است و <span style="color:#27ae60">چارچوب و اسکلت کد شما توسط اون فریم ورک</span> تعیین می شود. این فریم ورک است که تصمیم می گیرد <span style="color:#f1c40f">کی و کجا از کدهای شما</span> استفاده کند. مثلا به شما کتابی داده می شود که شما باید جاهای خالی کتاب را پر کنید.</p>

<p dir="rtl"><br />
توجه از کتابخانه ها <span style="color:#d35400">در هر زمان و هر مرحله از پروژه که خواستید می توانید استفاده کنید</span> اما از <span style="color:#e74c3c">فریم ورک باید از همان ابتدای شروع پروژه&nbsp;استفاده کنید</span>.<br />
در یک پروژه می توانید از <span style="color:#e74c3c">چند کتابخانه</span> استفاده کنید&nbsp;اما از فریم ورک نه</p>

<p dir="rtl"><span style="color:#2ecc71">فرم&nbsp;ورک خیلی پیچیده تر است.</span><br />
فریم ورک <span style="color:#9b59b6">سرعت کدنویسی ما را چند برابر</span> می کند.کدهای منظم در فریم ورک ها بسیار بهتر است.</p>

<p dir="rtl"><br />
در ابتدای داکیومنشت <span style="color:#e67e22">لاراول</span> گفته است که به چه چیزی هاییی مثل <span style="color:#e74c3c">چه ورژنی</span> از&nbsp;<span style="color:#9b59b6">php&nbsp;&nbsp;</span>نیاز دارد. حتما آن را بررسی کنید.<br />
&nbsp;</p>
<br />

<h2 class="y">------   Laravel 8    ------</h2> 
<br />
<p dir="rtl">شکل تعریف <span style="color:#f1c40f">route </span>و<span style="color:#9b59b6"> گرفتن کنترلر</span> در لاراول 8 تغییر کرده&nbsp;</p>

<div class="code">
<p><span style="color:#d35400">Route</span>::<span style="color:#27ae60">get</span>(&#39;<span style="color:#f39c12">/users</span>&#39;, [<span style="color:#27ae60">UserController</span>::<span style="color:#9b59b6">class</span>, &#39;<span style="color:#f39c12">index</span>&#39;]);</p>
<br />
<p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/users</span>&#39;, &#39;<span style="color:#f1c40f">App\Http\Controllers\HomeController</span><span style="color:#e74c3c">@index</span>&#39;);</p>
<br /><br />
<p>&nbsp;</p>

<p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">user/{id}</span>&#39;, &#39;<span style="color:#f39c12">UserController</span><span style="color:#e74c3c">@show</span>&#39;);&nbsp; &nbsp; &nbsp; <span style="color:#7f8c8d">//&nbsp; laravel&nbsp; &nbsp;&lt;&nbsp; 8</span></p>

<p><span style="color:#7f8c8d">Route::get(&#39;user/{id}&#39;, &#39;ControllerName@MethodName&#39;);&nbsp; &nbsp;</span> &nbsp; <span style="color:#7f8c8d">//&nbsp; laravel&nbsp; &nbsp;&lt;&nbsp; 8</span></p></div> 
<p dir="rtl">اما هنوز هم می توان از <span style="color:#3498db">روش ورژن های قبلی</span> استفاده کرد تنها کافی است <span style="color:#e67e22"><code> namespace$</code></span> را به &nbsp;<span style="color:#e74c3c">RouteServiceProvider </span>اضافه کنین.</p>
<p dir="rtl">یعنی گزینه زیر را از<span style="color:#2ecc71"> کامنت بیرون بیاوریم</span></p>
<div class="code"><p><span style="color:#7f8c8d">&nbsp;//&nbsp; &nbsp;protected $namespace = &#39;App\\Http\\Controllers&#39;;</span></p></div> 
<p dir="rtl">در غیر این صورت با <span style="color:#9b59b6">ارور </span>زیر مواجه می شویم.</p>

<p>Target class [UserController] does not exist.</p>
<br /><br />

<p dir="rtl"><br />
در لاراول <span style="color:#e74c3c">8</span> هر تغییری در فایل <span style="color:#d35400">env </span>ایجاد کنیم. ارتیسان به <span style="color:#e74c3c">صورت خودکار restart </span>می شود.</p>

<p dir="rtl">&nbsp;</p>

<p dir="rtl">یک قابلیت جدید در لاراول 8 اضافه شده که امکان بیشتری به ما در<span style="color:#3498db"> مدیریت مایگریشن ها </span>می دهد. این قابلیت با زدن دستور&nbsp;</p>

<div class="code"><p>
php <span style="color:#e67e22">artisan </span><span style="color:#e74c3c">schema:dump</span></p></div>  

<p dir="rtl">
می اید تمام مایگریشن های ما را <span style="color:#f39c12">در یک فایل جمع می کند</span> و در مسیر <span style="color:#27ae60">database/schema</span> &nbsp;قرار می دهد. بعدا با دستور<span style="color:#9b59b6"> اجرای مایگریشن ها</span> <span style="color:#e74c3c">ابتدا </span>این فایل اجرا میشود و<span style="color:#e74c3c"> بعد مابقی مایگریشن هایی </span>که بعدا اضافه شدند و در این فایل نیستند.</p>
<br />
<p dir="rtl">اگر ارور داشتیم می توانیم با اضافه کردن مسیر <span style="color:#e74c3c">bin </span>مربوط به <span style="color:#f1c40f">mysql </span>به متغییرهای محیطی ویندوز در <span style="color:#f39c12">Advance&nbsp;system setting</span>&nbsp;آن را برطرف کنیم.</p><br />
<p dir="rtl"><br />
استفاده &nbsp; <span style="color:#d35400">semantic version</span> &nbsp;برای خلاصی از<span style="color:#3498db"> dependency hell</span> اجباری است.</p>

<div class="code"><p><br />
strive &nbsp;== try<br />
تلاش کردن<br />
Progressive</p>

<p>پیشرو</p>

<p>Vast<br />
وسیع</p>

<p>robust &nbsp;== strong&nbsp;</p>
</div>  

<p>&nbsp;</p>

<p dir="rtl">با لاراول به راحتی می توانیم<span style="color:#d35400"> رابط git </span>را ایجاد کنیم.</p>
<div class="code"><p>laravel <span style="color:#e74c3c">new </span>example-app <span style="color:#f39c12">--git</span></p></div>  

<p dir="rtl"><br />
یا ایجاد <span style="color:#9b59b6">ریپازیتوری گیت هاب</span></p>

<div class="code"><p>laravel <span style="color:#e74c3c">new </span>example-app <span style="color:#f39c12">--github</span></p></div> 

<p dir="rtl">بعد زدن دستور بالا و ساخته شدن ریپازیتوری. <span style="color:#9b59b6">در این ادرس</span> در دسترس است</p>

<p>https://github.com/&lt;your-account&gt;/example-app</p>

<p>&nbsp;</p>

<p dir="rtl">با دستور زیر می توانیم ریپازیتوری خود را <span style="color:#9b59b6">در زیر مجموعه &nbsp;یک کامپانی</span> دیگر بسازیم</p>
 
<div class="code"><p>laravel <span style="color:#e74c3c">new </span>example-app --<span style="color:#e67e22">github</span>=&quot;--public&quot; --<span style="color:#e67e22">organization</span>=&quot;laravel&quot;</p></div> 
<p dir="rtl">&nbsp;</p>


<p dir="rtl">تمام <span style="color:#d35400">پیکربندی </span>های آغازین مانند timezone و .. در پوشه <span style="color:#e74c3c">config</span> قرار دارند.</p>

<p dir="rtl"><br />
شروع کار</p>

<p dir="rtl">1.در آغاز شروع پروژه باید حتما دو مورد زیر را ست کنیم در مسیر <span style="color:#f1c40f">config/app.php&nbsp;</span></p>

<p><span style="color:#d35400">timezone</span> &nbsp; &nbsp; &nbsp;and &nbsp; &nbsp; &nbsp; <span style="color:#d35400">locale</span></p>

<p dir="rtl"><br />
2.بسیاری از پیکربندی های مهم داخل فایل .env تعریف شده اند تا به راحتی ان ها را در ابتدای پروژه ست کنیم.&nbsp; فایل .env حاوی<span style="color:#2ecc71"> اطلاعات مهم</span> است و نباید در اختیار سایر توسعه دهندگان یا افراد دیگر قرار بگیرد. به همین دلیل داخل <span style="color:#d35400">gitignore </span>است ان ذکر شده تا هنگام املود در git این فایل<span style="color:#9b59b6"> اپلود نشود</span></p>

<p dir="rtl">&nbsp;</p>

<p dir="rtl">هنگام <span style="color:#c0392b">deploy </span>باید لاراول خارج از پوشه<span style="color:#f39c12"> پابلیک html</span> اپلود شود و تنها <span style="color:#d35400">محتویات پابلیک</span> داخل پوشه پابلیک html قرار گیرد.</p>

<p dir="rtl"><br />
به دو شکل میشود از لاراول استفاده کرد.<br />
1. <span style="color:#f39c12">فول استک</span> که در ان فرانت اند و بک اند کامل در دست لاراول است.<br />
2. <span style="color:#f39c12">استفاده api</span> که در ان درخواست از اپلیکشن جاوااسکریپتی مانند vue به صورت<span style="color:#e74c3c"> api به route های لاراول</span> ارسال می شود.</p>
<p dir="rtl">&nbsp;</p>

<h2 class="y">------   Init &nbsp; &nbsp; Laravel   ------</h2>
<p dir="rtl">&nbsp;</p>
<p dir="rtl"><span style="color:#27ae60">1.</span> ابتدا از سایت&nbsp; <span style="color:#3498db">getcomposer.org</span> کامپوزر را دانلود و با ادرس دهی فایل<span style="color:#f1c40f"> php.exe</span>&nbsp;در پوشه ومپ یا زمپ آن را نصب می کنیم&nbsp; بعد در <span style="color:#f39c12">cmd</span>&nbsp;کلمه&nbsp;<span style="color:#9b59b6">composer&nbsp;</span>را می نویسم و اینتر می زنیم تا اطلاعات بیاید اگر اطلاعات با <span style="color:#d35400">نوشته بزرگ کامپوزر</span> آمد یعنی کامپوزر به درستی نصب شده است.</p>

<p>&nbsp;</p>
<p dir="rtl">php &nbsp;باید <span style="color:#e74c3c">بالای 7</span> باشد</p>

<p dir="rtl">به <span style="color:#f39c12">دو شکل</span> می توان لاراول را نصب کردن</p>

<p>1. <span style="color:#ff00cc">Global&nbsp; &nbsp;</span>/&nbsp; &nbsp; 2. <span style="color:#ff00cc">local&nbsp;</span></p>
<div class="code">
<p>&nbsp;<span style="color:#e67e22">Composer </span><span style="color:#d35400">global </span>require laravel/installer</p>
</div> 
<p dir="rtl">در پوشه کامپوزر در<span style="color:#e67e22"> داخل درایو سی</span> به صورت <span style="color:#9b59b6">گلوبال </span>نصب می شود و <span style="color:#2ecc71">هرجای سیستم</span> که خاستیم تنها کافی است در&nbsp; cmd&nbsp;به آنجا ببریم با&nbsp;&nbsp;cd&nbsp;&nbsp;وبعد دستور زیر را بزنیم تا <span style="color:#e74c3c">پروژه لاراولی</span> ما ایجاد شود. این روش مانند استفاده از <span style="color:#f39c12">npm </span>است.</p>
<div class="code">
<p>
laravel new Folder_mord_nazar_name (e.g. ali)</p>
</div> 
<p>&nbsp;</p>
<p>2. <span style="color:#ff00cc">local&nbsp;</span><br />
<span style="color:#e74c3c">composer </span>create-project laravel/laravel <span style="color:#27ae60">example-app</span></p>

<p dir="rtl">به جای&nbsp;<span style="color:#f1c40f">example-app&nbsp;</span><span style="color:#9b59b6">اسم پروژ</span>ه خود را قرار دهید. این روش نصب شبیه <span style="color:#e74c3c">npx </span>است.</p>

<p dir="rtl"><br />
در داخل داکیومنشن سایت&nbsp;laravel.com بخش مربوط به <span style="color:#8e44ad">لاراول با کامپوزر</span> را انتخاب ودر&nbsp;cmd وارد می کنیم.</p>
 
<div class="code">
<p>d: &nbsp;-&gt; enter</p>

<p>cd&nbsp; &nbsp;D:\wamp\www\newlaravel -&gt; enter</p>

<p>paste دستور کپی شده از سایت لاراول --&gt; Enter</p>

<p>wait for install ..</p>

<p>&nbsp;</p></div>  
<p dir="rtl">وقتی پیام&nbsp; &nbsp;application key fks;ldfksld;fk;s &nbsp; set sussefully آمد آن را <span style="color:#f1c40f">حتما کپی کرده</span> وذخیره می کنیم که کاریش داریم. بعد به پوشه محل نصب بروید و ببیندی که <span style="color:#e74c3c">حجم پوشه بالای مگابایت (35MB)</span>&nbsp;باشد تا مطمئن باشیم نصب شده. حالا در ترمینال دستور زیر را می زنیم و به روت که می دهد می رویم</p>

<div class="code"><p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#2ecc71">serve</span></p>

<p><a>http://localhost:8000/</a>&nbsp; or&nbsp;&nbsp;<a>http://127.0.0.1:8000/</a></p></div>  

<p dir="rtl">برای <span style="color:#d35400">off کردن پروژه</span> هم داخل ترمینال دستور زیر را می زنیم.</p>

<div class="code"><p>cmd &nbsp;==&gt; ctrl + c</p></div> 
<p dir="rtl">گاهی می خواهیم <span style="color:#2ecc71">چند پروژه لاراولی</span> را باهم اجرا کنیم. در نتیجه می توانیم <span style="color:#e74c3c">port دلخواه</span> برای اجرا پروژه تعیین کنیم&nbsp;</p>
<div class="code">
<p>php artisan serve&nbsp; -<span style="color:#e74c3c">-port</span>=<span style="color:#9b59b6">9002</span><br />
&nbsp;</p></div>  
<br />
<h2 class="y">------   ENV   ------</h2> 
<br />

<p dir="rtl">لاراول برای ایجاد و مدیریت <span style="color:#27ae60">فایل env</span> از کتابخانه <span style="color:#d35400">PHP dotenv</span> استفاده می کند.</p>

<p dir="rtl">
https://github .com/vlucas/phpdotenv</p>
<p dir="rtl"><br />
در زمان نصب لاراول محتویات <span style="color:#27ae60">env.example</span> به <span style="color:#9b59b6">طور خودکار</span> در <span style="color:#d35400">فایل env </span>کپی می شوند. دستور این کپی در داخل <span style="color:#e74c3c">composer.json </span>ذکر شده است.</p>


<div class="code"><p>&quot;<span style="color:#f39c12">post-root-package-install</span>&quot;: [<br />
&nbsp; &nbsp; &nbsp;&quot;<span style="color:#f39c12">@php -r \&quot;file_exists(&#39;.env&#39;) || copy(&#39;.env.example&#39;, &#39;.env&#39;);\&quot;</span>&quot;<br />
],</p></div>
 
<p dir="rtl">اطلاعات فایل <span style="color:#f39c12">env </span>را می توانیم به کمک تابع<span style="color:#e74c3c"> ()env</span>&nbsp;در فایل های دیگر فراخوانی کنیم. از آنجایی که&nbsp;<span style="color:#e74c3c">()env&nbsp;</span>هلپر فانکشن است در<span style="color:#27ae60"> هرجای پروژه لاراولی</span> به آن دسترسی داریم.</p>
<br />
<p dir="rtl">اگر به <span style="color:#f39c12">صورت تیمی</span> روی یک پروژه کار میکنید باید<span style="color:#9b59b6"> اطلاعات مورد نیاز برای اجرای برنامه</span> را داخل <span style="color:#e74c3c">env.example</span> قرار دهید تا بقیه توسعه دهندگان بدانند به کدام متغییرها برای اجرای برنامه نیاز است. &nbsp;این به این دلیل است که <span style="color:#d35400">فایل env در gitignore </span>است و محتویات ان برای سایر توسعه دهندگان در <span style="color:#2ecc71">دسترس نیست</span>.</p>

<p dir="rtl">برای تعریف متغییر <span style="color:#e74c3c">environment &nbsp;</span>سفارشی در فایل <span style="color:#3498db">env </span>بهتر است از <span style="color:#e67e22">فاصله استفاده نکنید</span> اما اگر ملزم به استفاده از فاصله هستید به روش زیر عمل کنید. با <span style="color:#e74c3c">دابل کوتیشن</span></p>




<div class="code"><p><span style="color:#3498db">APP_NAME</span>=&quot;<span style="color:#f39c12">My Application</span>&quot;</p></div> 

<p>&nbsp;</p>
<p dir="rtl">برای استفاده از متغییری که <span style="color:#d35400">قبلا تعریف کردیم</span> در متغییر <span style="color:#9b59b6">فعلی </span>که می خواهیم تعریف کنیم. روش زیر استفاده می شود</p>
<div class="code">
<p>MAIL_MAILER=smtp</p>

<p>TEST_ENV=&quot;<span style="color:#f39c12">my App-</span><span style="color:#e74c3c">${MAIL_MAILER}</span>&quot;</p>

<p>&nbsp;</p>

<p><span style="color:#3498db">dd</span>(<span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">TEST_ENV</span>&#39;));&nbsp; &nbsp;<span style="color:#7f8c8d"> //&quot;my App-smtp&quot;</span></p>

</div> 
<p>&nbsp;</p>

<p dir="rtl">هر مقداری که در <span style="color:#3498db">فایل env</span> قرار دهیم به <span style="color:#d35400">صورت خودکار</span> به <span style="color:#27ae60">string </span>تبدیل می شود. اما <span style="color:#9b59b6">Null</span> به <span style="color:#9b59b6">null </span>و <span style="color:#d35400">boolean </span>ها به <span style="color:#d35400">boolean </span>تبدیل می شوند.</p>

<div class="code"><p>retrieve&nbsp; &nbsp; بازیابی</p></div> 
<p dir="rtl"><br />
تمام <span style="color:#3498db">متغییرهای محیطی</span> بعد از دریافت <span style="color:#e67e22">request </span>داخل متغییر <span style="color:#f1c40f">گلوبال </span><span style="color:#d35400">ENV_$</span>&nbsp; قرار می گیرند که <span style="color:#16a085">اطلاعات را می توان از ان دریافت کرد</span>. اما لاراول توصیه میکند برای دریافت از هلپر فاتکشن <span style="color:#9b59b6">env </span>استفاده کنید.</p>

<div class="code"><p>&#39;<span style="color:#f39c12">debug</span>&#39; =&gt; <span style="color:#27ae60">env</span>(&#39;<span style="color:#f39c12">APP_DEBUG</span>&#39;, <span style="color:#8e44ad">false</span>),</p></div>
<p dir="rtl"><span style="color:#ff0099">پارامتر دوم</span> مقدار <span style="color:#e74c3c">دیفالت </span>است و اگر متغییر محیطی در فایل env <span style="color:#9b59b6">یافت نشد</span> این مقدار دیفالت برگشت داده می شود.</p>

<p dir="rtl">&nbsp;</p>
 <p dir="rtl">محیط فعلی اپلیکشن با <span style="color:#e74c3c">APP_ENV </span>تعیین می شود. برای دسترسی به ان باید به روش زیر عمل کنیم</p>
 
<div class="code">
<p><br />
use Illuminate\Support\Facades\App;&nbsp;</p>

<p>$<span style="color:#3498db">environment </span>= <span style="color:#16a085">App</span>::<span style="color:#d35400">environment</span>(); &nbsp;&nbsp; // "<span style="color:#f39c12">local</span>"</p>

<p>&nbsp;</p></div> 
<p dir="rtl">همچنین می توانیم پارامتر ارسال کنیم که اگر درست بود <span style="color:#9b59b6">true </span>برمی گرداند.</p>

<div class="code">

<p><span style="color:#e74c3c">if</span> (<span style="color:#2ecc71">App</span>::<span style="color:#3498db">environment</span>(&#39;<span style="color:#f39c12">local</span>&#39;)) {<br />
&nbsp; <span style="color:#7f8c8d">&nbsp; // The environment is local&nbsp;</span><br />
}&nbsp;</p>

<p><span style="color:#e74c3c">if</span> (<span style="color:#2ecc71">App</span>::<span style="color:#3498db">environment</span>([&#39;<span style="color:#f39c12">local</span>&#39;, &#39;<span style="color:#f39c12">staging</span>&#39;])) {<br />
<span style="color:#7f8c8d">&nbsp; &nbsp; &nbsp; // The environment is either local OR staging...&nbsp;</span><br />
}</p>
</div> 
<p dir="rtl">&nbsp;</p>
<p dir="rtl">به <span style="color:#e74c3c">پیکربندی ها</span> هم می توانیم به کمک <span style="color:#d35400">هلپرفانکشن config </span>دسترسی پیدا کنین. این تابع به<span style="color:#e74c3c"> پوشه کانفیگ و فایل های ان</span> اشاره می کند.</p>

<div class="code"><p><br />
$value = <span style="color:#d35400">config</span>(&#39;<span style="color:#f39c12">app.timezone</span>&#39;);&nbsp; &nbsp; &nbsp; <span style="color:#7f8c8d">&nbsp; &nbsp;//&nbsp;&quot;UTC&quot;&nbsp; or &quot;Asia/Tehran&quot; =&gt; if seted</span></p></div> 
<p>&nbsp;</p>

<p dir="rtl">همچنین می توانین <span style="color:#f1c40f">یک مقدار دیفالت</span> در نظر بگیریم که اگر پیکربندی <span style="color:#9b59b6">یافت نشد</span> آن را برگرداند.</p>

<div class="code"><p>$value = <span style="color:#d35400">config</span>(&#39;<span style="color:#f39c12">app.timezone</span>&#39;, &#39;<span style="color:#f39c12">Asia/Seoul</span>&#39;);</p></div> 
<p dir="rtl">
با روش زیر می توانیم<span style="color:#e74c3c"> پیکربتدی ها را تغییر دهیم.&nbsp;</span>البته این تغییر خود فایل کانفیگ را تغییر نمی دهد و تنها لاراول این تنظیم را در اولویت قرار می دهد و آن را در نظر می گیرد.</p>

<div class="code"><p>
<span style="color:#d35400">config</span>([&#39;<span style="color:#f39c12">app.timezone</span>&#39; =&gt; &#39;<span style="color:#f39c12">America/Chicago</span>&#39;]);</p>

<p>config([&#39;<span style="color:#f39c12">app.timezone</span>&#39; =&gt; &#39;<span style="color:#f39c12">America/Chicago</span>&#39;]);<br />
$value = config(&#39;<span style="color:#f39c12">app.timezone</span>&#39;);<br />
<span style="color:#16a085">dd</span>($value);&nbsp; &nbsp; <span style="color:#7f8c8d">//America/Chicago</span></p></div> 

<p>&nbsp;</p>
<p dir="rtl">برای <span style="color:#e74c3c">افزایش سرعت </span>برنامه باید دستور&nbsp;را بزنیم.</p>

<div class="code"><p>
<span style="color:#9b59b6">php </span><span style="color:#e67e22">artisan </span><span style="color:#e74c3c">config:cache&nbsp;</span></p></div> 

<p dir="rtl">این دستور<span style="color:#2ecc71"> تمام پیکربندی ها</span> را داخل <span style="color:#e74c3c">یک فایل کش</span> می کند و سرعت برنامه را افزایش می دهد. این دستور<span style="color:#e74c3c">فقط موقع production</span> پروژه باید زده شود و در حالت <span style="color:#f1c40f">development &nbsp;</span><span style="color:#d35400">نباید </span>ان را بزنیم چون پیکربندی ها دائم تغییر می کنند. اگر config:cache را در طول <span style="color:#e74c3c">development &nbsp;</span>پروژه اجرا کردید فایل کش می شوند و<span style="color:#d35400"> دیگر تابع .env </span>فراخوانی نمی شود برای گرفت اطلاعات جدید. &nbsp;در این صورت باید<span style="color:#f1c40f"> کش ها را پاک کنید</span> و پروژه را <span style="color:#f1c40f">restart </span>کنید</p>
<p dir="rtl">&nbsp;</p>

<p dir="rtl">فایل<span style="color:#f1c40f"> کش شده </span>را در مسیر <span style="color:#e74c3c">bootstrap/cache/config.php </span>قرار می دهد.</p>

<p dir="rtl">اگر دستور&nbsp;<span style="color:#9b59b6">php&nbsp;artisan&nbsp;config:cache&nbsp;</span> را زده باشیم<span style="color:#d35400"> دیگر تابع env کارهم نمی کند</span>. مگر این که&nbsp;<span style="color:#27ae60">bootstrap/cache/config.php</span> را <span style="color:#e74c3c">پاک </span>کنیم و برنامه را <span style="color:#f39c12">دوباره run</span>&nbsp; کنیم.</p>
<p dir="rtl">&nbsp;</p>


<h2 class="y">------   debug mode   ------</h2> 


<p><span style="color:#e74c3c"><strong>debug mode</strong></span></p>

<p dir="rtl">
این حالت در <span style="color:#f39c12">config/app.php</span> تعریف شده است و از فایل <span style="color:#2ecc71">env </span>و متغییر <span style="color:#e74c3c">APP_DEBUG </span>هم به ان دسترسی داریم.<br />
این حالت تعیین می کند که <span style="color:#9b59b6">چه مقدار اطلاعات در هنگام ارور به کاربر نمایش داده شود</span>. <span style="color:#3498db">&nbsp;صفحه ارور</span> لاراول زمانی نمایش داده می شود که این حالت <span style="color:#e67e22">true </span>باشد.</p>

<p dir="rtl">در حالت <span style="color:#f39c12">production</span> باید <span style="color:#e74c3c">APP_DEBUG</span> باید<span style="color:#d35400"> همیشه false</span> باشد. وگرنه اطلاعات حساس به کاربران نمایش داده میشود.</p>
<div class="code">
<p>
maintenance&nbsp; &nbsp; &nbsp;تعمیر &nbsp;و نگه داری</p>
</div> 
<p dir="rtl">&nbsp;</p>

<h2 class="y">------  VS code Extensions   ------</h2> 
<p>*** Extensions for laravel in <span style="color:#3498db">vscode</span></p>

<p>bracket pair colorixze &nbsp;===&gt; براکت ها را برای استفاده بهتر رنگی می کند</p>

<p>php Extension pack<br />
<span style="color:#f1c40f">vscode -icons</span></p>

<p><span style="color:#d35400">laravel extension pack</span><br />
php namespace resolver</p>

<p>electron themem<br />
&nbsp;</p>
<p dir="rtl">&nbsp;</p>

<h2 class="y">------  maintenance MODE   ------</h2> 
<p dir="rtl">&nbsp;</p>
<p dir="rtl">زمانی که برنامه در <span style="color:#e74c3c">حالت maintenance</span> است یک <span style="color:#2ecc71">view سفارشی</span> به تمام درخواست ها نمایش داده می شود. این روند کار ما را در <span style="color:#d35400">هنگام غیرفعال کردن برنامه یا اپدیت بخش های مختلف به شدت آسان می کند</span>.<br />
در حقیقت این حالت نوعی از <span style="color:#3498db">دسترس خارج کردن موقتی</span> اپلیکشن است.</p>

<p dir="rtl">حالت maintenance &nbsp;در دسته <span style="color:#f1c40f">middleware </span>ها قرار دارد و زمانی فعال است یک <span style="color:#e74c3c">exception با کد 503 پرتاب</span> می شود.</p>

<p> 503 | SERVICE UNAVAILABLE</p>
<br />
<p dir="rtl">برای<span style="color:#e67e22"> فعال کردن</span> حالت maintenance از دستور زیر استفاده میکنیم</p>

<div class="code">
<p><br />
<span style="color:#9b59b6">php </span><span style="color:#d35400">artisan</span> <span style="color:#e74c3c">down</span></p>
</div> 
<p dir="rtl">گاهی میخاهیم زمانی که در حالت maintenance &nbsp;هستیم <span style="color:#2ecc71">صفحه هر چندوقت یکبار</span> <span style="color:#f39c12">refresh </span>شود که از کد زیر استفاده میکنیم.</p>

<div class="code"><p><span style="color:#9b59b6">php</span> <span style="color:#d35400">artisan </span><span style="color:#e74c3c">down </span><span style="color:#ff0099">--refresh=15</span></p></div> 

<p dir="rtl"><br />
دستور زیر می گوید <span style="color:#2ecc71">دوباره بعد از فلان تایم دستور را اجرا کن</span> اما معمولا مرورگرها این دستور را نادیده میگیرند.</p>

<div class="code">
<p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#e74c3c">down </span><span style="color:#ff0099">--retry=60</span></p></div>

<p dir="rtl"><br />
زمانی که برنامه را در <span style="color:#f1c40f">حالت maintenance</span> &nbsp;قرار می دهیم <span style="color:#e74c3c">تمام روت ها بسته میشوند</span> و <span style="color:#9b59b6">redirect</span> &nbsp;می شوند به <span style="color:#9b59b6">یک view خاص</span> اما ما می توانیم <span style="color:#d35400">یک مسیر مخفی ایجاد کنیم</span> تا خودمان بتوانیم سایت را در حالت عادی ببینیم و اصلاحات لازم را انجام دهیم.</p> 
<div class="code"><p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#e74c3c">down </span><span style="color:#ff0099">--secret</span>=&quot;<span style="color:#f39c12">1630542a-246b-4b66-afa1-dd72a4c43515</span>&quot;</p>
<p>&nbsp;</p>
<p dir="rtl">حالا باید در مرورگر به ادرس زیر برویم</p>
<p>&nbsp;</p>
<p>https://example.com/1630542a-246b-4b66-afa1-dd72a4c43515</p>
<p>&nbsp;</p>
<p>این ادرس مانند<span style="color:#e74c3c"> روت / </span>عمل می کند و برای دیدن سایر روت ها این شکل عمل می کنیم<br /><p>&nbsp;</p>
</p></div> 
<p dir="rtl">بعد از وارد کردن <span style="color:#f39c12">secret </span>در<span style="color:#9b59b6"> url سایت برای شما </span>در<span style="color:#e74c3c"> حالت عادی</span>&nbsp; ( http://127.0.0.1:8000&nbsp; <span style="color:#7f8c8d">&amp;&amp;</span>&nbsp; http://127.0.0.1:8000/test&nbsp;)&nbsp; با <span style="color:#d35400">روت های معمول بالا</span> می آید ولی <span style="color:#e74c3c">برای سایرین در دسترس نیست</span>.</p>


<p>&nbsp;</p>
<p>&nbsp;</p>
<p dir="rtl">در مرحله اول که با این روت می رویم <span style="color:#e74c3c">ممکن است کار نکند</span> چون باید <span style="color:#f39c12">کوکی ست</span> شود دلی اگر <span style="color:#2ecc71">یکبار رفرش کنیم سایت به صورت عادی</span> برای ما اجرا می شود. به این کار <span style="color:#d35400">&nbsp;maintenance mode bypass</span>&nbsp; &nbsp;می گویند.</p>

<p dir="rtl"><br />
زمانی که از دستور<span style="color:#9b59b6"> php artisan down</span> استفاده می کنیم &nbsp;ممکن است در طول اپدیت وابستگی های کامپوزر یا ..ِ کاربران با <span style="color:#e74c3c">ارور هایی</span> مواجه شوند. این این دلیل است که باید<span style="color:#e67e22"> بخش عزیمی از لاراول</span> لود شود تا متوجه شود که در حالت maintenance &nbsp;است. &nbsp;برای این که این مشکل را نداشته باشیم لاراول این امکان را به ما می دهد که<span style="color:#2ecc71"> </span><span style="color:#2ecc71">در ابتدای چرخه لاراول</span> و بوت شدن ان<span style="color:#f1c40f"> یک view را درخواست دهیم</span> تا از همان ابتدای درخواست نمایش داده شود.</p>

<div class="code">
<p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan</span> <span style="color:#e74c3c">down </span><span style="color:#ff0099">--render</span>=&quot;<span style="color:#f39c12">errors::503</span>&quot;</p>
<br />
<p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan</span> <span style="color:#e74c3c">down </span><span style="color:#ff0099">--render</span>=&quot;<span style="color:#f39c12">errors::504</span>&quot;</p>

<br />
<p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan</span> <span style="color:#e74c3c">down </span><span style="color:#ff0099">--render</span>=&quot;<span style="color:#f39c12">errors::10025</span>&quot;</p>
<br />
<p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan</span> <span style="color:#e74c3c">down </span><span style="color:#ff0099">--render</span>=&quot;<span style="color:#f39c12">errors::dsadjkadfhakdjfhjlkafhydjsfksdlagfsdkl</span>&quot;</p>


</div> 
<p>&nbsp;</p>

<p dir="rtl">اگر نتواند view را بیاید ارور <span style="color:#f39c12">not Found View</span> می دهد.</p>

<p dir="rtl"><span style="color:#e74c3c"><strong>View سفارشی </strong></span>که برای حالت <span style="color:#f1c40f">maintenance</span>&nbsp; در نظر گرفتیم باید حتما در مسیر&nbsp;<span style="color:#e74c3c"> &nbsp;resources/view/errors/name.blade.php</span> قرار دهیم.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

<p dir="rtl">زمانی که در حالت maintenance هستیم برای <span style="color:#9b59b6">تمام درخواست ها و روت ها</span> <span style="color:#e74c3c">تنها </span>view مربوط به maintenance &nbsp;نمایش داده می شود. ما می توانیم به لاراول درخواست بدهیم که هم درخواستها و روت ها را <span style="color:#d35400">به یک ادرس خواست redirect </span>&nbsp;کند.</p>

<div class="code"><p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#e74c3c">down </span><span style="color:#ff0099">--redirect</span>=&#39;<span style="color:#f39c12">https://www.google.com</span>&#39;</p></div> 
<p dir="rtl">آدرس را باید <span style="color:#f39c12">کامل </span>بنویسید ==&gt; <span style="color:#e74c3c">https://</span>www.google.com</p>
<p>&nbsp;</p>

<p dir="rtl">برای <span style="color:#e74c3c">خارج شدن</span> از <span style="color:#9b59b6">حالت maintenance</span> &nbsp;از دستور زیر استفاده می کنیم</p>

<div class="code"><p><br />
<span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#e74c3c">up</span></p></div> 


<p dir="rtl">&nbsp;</p>

<p dir="rtl">برای ساخت <span style="color:#e74c3c">قالب سفارشی</span> برای <span style="color:#2ecc71">حالت maintenance</span> &nbsp;باید فایل زیر را ایجاد و به هر شکلی که خواستید آن را تغییر دهید</p>

<div class="code"><p><span style="color:#e67e22">resources/views/errors/503.blade.php</span></p></div> 
<p dir="rtl">وقتی برنامه در حالت maintenance &nbsp;است &nbsp;<span style="color:#e74c3c">هیچ jobs یا queue &nbsp;هندل نمی شود</span> اما بعد از خروج از این حالت برنامه ریتم عادی خود را خواهد داشت.</p>

<p dir="rtl"><br />
برای حالت maintenance &nbsp;بهتر است از <span style="color:#3498db">laravel vapor</span> &nbsp;و <span style="color:#3498db">envoyer </span>استفاده کنیم که زمان <span style="color:#e67e22">downtime </span>آن ها <span style="color:#9b59b6">0</span> است.</p>
<p dir="rtl">&nbsp;</p>

<h2 class="y">------   پوشه بندی در لاراول   ------</h2> 
<p dir="rtl">&nbsp;</p>

<div class="code"><p dir="rtl">هسته برنامه و تمام فایل های اصلی داخل این پوشه است.</p>

<p><br />
app&nbsp; &nbsp;=&gt; <span style="color:#d35400">Console &nbsp;</span>=== شامل دستورات artisan<br />
app =&gt; <span style="color:#d35400">Exception </span>==&gt; کنترل خطاها</p>

<p>app ==&gt; <span style="color:#d35400">http </span>==&gt; <span style="color:#d35400">Controllers</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; http ==&gt; <span style="color:#d35400">Middleware </span>==&gt; میان افزار و مکانیسمی برای ارسال درخواست و پاسخ ==&gt; اعمال برخی فیلترها روی کنترلر<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; http ==&gt; <span style="color:#d35400">kernel.php </span>=&gt; laravel core</p>

<p>app ==&gt;<span style="color:#d35400">Providers &nbsp;</span></p>

<p>app ===&gt; Models</p>

<p>#################################</p>

<p><span style="color:#f1c40f">bootstrap </span>==&gt;</p>

<p dir="rtl">معنی لغوی یعنی راه اندازه این پوشه با فریم ورک بوت استرپ در&nbsp;css فرق دارد و راه اندازه پروژه ما است</p>

<p><br />
bootstrap ==&gt; <span style="color:#d35400">cache </span>==&gt; تمام فایل هایی که مورد نیاز است را برای ما کش می کند.<br />
bootstrap ==&gt;<span style="color:#d35400"> app.php</span> ==&gt; شروع کننده و راه انداز پروژه ما</p>

<p>#################################<br />
<span style="color:#e74c3c">config </span>===&gt; شامل تمام فایل های پیکربندی ما&nbsp;</p>

<p>#################################<br />
<span style="color:#e74c3c">database </span>==&gt; کار و مدیریت دیتابیس</p>

<p>database ==&gt; <span style="color:#d35400">factories &nbsp;</span>==&gt; ایجاد داده های ساختگی برای جداول دیتابیس<br />
database ==&gt; <span style="color:#d35400">migrations &nbsp;</span>===&gt; طراحی جداول دستابیس به روشی بسیار ساده<br />
database ==&gt; <span style="color:#d35400">seeders </span>==&gt; تست دیتابیس</p>

<p>#################################<br />
<span style="color:#e74c3c">public </span>==&gt; .htaccess<br />
public ==&gt;<span style="color:#f39c12"> index.php</span> ==&gt; شروع درخواست های ما</p>

<p>#################################</p>

<p><span style="color:#e74c3c">resoures </span>==&gt; <span style="color:#d35400">views &nbsp;</span>==&gt; views<br />
resoures ==&gt; <span style="color:#d35400">js &nbsp;</span>==&gt; views<br />
resoures ==&gt; <span style="color:#d35400">lang &nbsp;</span>==&gt; views<br />
resoures ==&gt; <span style="color:#d35400">css &nbsp;</span>==&gt; views</p>

<p>#################################<br />
<span style="color:#e74c3c">routes </span>===&gt; مسیردهی</p>

<p>routes ===&gt; <span style="color:#e74c3c">web.php</span> &nbsp;==&gt; دستیابی به مسیرها از طریق وب<br />
routes ===&gt; <span style="color:#d35400">api.php</span> &nbsp; ==&gt; برای مسیرهایی که از طریق &nbsp;ای پی آی درخواست می شوند<br />
routes ===&gt; <span style="color:#d35400">channels.php</span> ===&gt;&nbsp;<br />
routes ===&gt; <span style="color:#d35400">console.php</span> &nbsp;===&gt; تعیین مسیرهایی که از طریق خط فرمان ارسال می شوند&nbsp;</p>

<p>#################################<br />
<span style="color:#e74c3c">storage </span>===&gt; &nbsp;فایل هایی که در حریان پروژه ساخته یا کامپایل می شوند در این پوشه قرار داده می شوند.</p>

<p>storage ===&gt; <span style="color:#d35400">app</span> ==&gt; فایل های تولید شده در حین پروژه<br />
storage ===&gt; <span style="color:#d35400">framework &nbsp;</span>==&gt; ذخیره فایل ها و کش های پروژه<br />
storage ===&gt; <span style="color:#d35400">logs </span>===&gt; &nbsp;ذخیره لاگ های پروژه</p>

<p>#################################<br />
<span style="color:#e74c3c">tests </span>==&gt; فایل های برای تست</p>

<p>#################################<br />
<span style="color:#e74c3c">vendor </span>==&gt; وقتی کامپوزر را نصب می کنیم این پوشه ایجاد میشود</p>

<p>#################################</p>

<p><span style="color:#f1c40f">.env</span> &nbsp;==&gt; تنظیمات کانفیگ<br />
<span style="color:#f39c12">server.php</span> &nbsp;==&gt; مانند یک سرور پشتیبانی عمل می کنه و باعث میشه پروژه ما ران بشه و بتوانیم آن را روی مرورگز مشاهده کنیم</p>

<p><span style="color:#f39c12">webpack.mix.js</span> ==&gt; تنظیمات پکیج میکس لاراول<br />
&nbsp;</p></div>
<p>&nbsp;</p>

<p dir="rtl">لاراول هیچ محدودیتی برای <span style="color:#9b59b6">محل قرارگیری کلاس ها</span> و فایل ها ندارد<span style="color:#3498db"> تا زمانی که کامپوزر بتواتد فایل ها و کلاس ها را لود کند.</span></p>

<p dir="rtl"><span style="color:#e67e22">هسته کدهای</span> داخل پوشه <span style="color:#e74c3c">app </span>قرار دارند و <span style="color:#f39c12">تقریبا تمام کلاس ها</span> داخل این پوشه تعریف می شوند.</p>

<p dir="rtl">پوشه boostrap شامل یک <span style="color:#2ecc71">app.php</span> است که کدهای <span style="color:#2ecc71">راه انداز</span> در آن هستند و یک پوشه کش که شامل <span style="color:#e67e22">کش های روت و سرویس ها</span> است. به طور معمولا نیازی نیست محتویات این پوشه را تغییر دهید.</p>

<p dir="rtl">پوشه <span style="color:#9b59b6">config </span>شامل <span style="color:#d35400">تمام پیکربندی های مهم برنامه </span>است که باید<span style="color:#e74c3c"> آشنایی کامل</span> با آن ها داشته باشیم</p>
<p>&nbsp;</p>


<div class="code"><p>entry&nbsp; &nbsp;ورود</p></div> 
<p dir="rtl">&nbsp;</p>

<p dir="rtl">روت هایی که در <span style="color:#d35400">web.php</span> نوشته می شوند <span style="color:#e74c3c">RouteServiceProvider </span>آنها را در گروه <span style="color:#f39c12">middleware &nbsp;web </span>قرار می دهد. در RouteServiceProvider تعیین&nbsp;شده است که <span style="color:#2ecc71">روی این روت ها</span> <span style="color:#f39c12">session state</span>, <span style="color:#e74c3c">CSRF protection</span>, and <span style="color:#f39c12">cookie</span> <span style="color:#f39c12">encryption </span>لحاظ شود.</p>

<div class="code">

<p>&nbsp;<span style="color:#27ae60">Route</span>::<span style="color:#d35400">middleware</span>(&#39;<span style="color:#f39c12">web</span>&#39;)<br />
&nbsp; &nbsp; &nbsp; &nbsp;-&gt;<span style="color:#3498db">namespace</span>($<span style="color:#e67e22">this</span>-&gt;namespace)<br />
&nbsp; &nbsp; &nbsp; &nbsp;-&gt;<span style="color:#3498db">group</span>(<span style="color:#3498db">base_path</span>(&#39;<span style="color:#f39c12">routes/web.php</span>&#39;));</p></div> 
<p>&nbsp;</p>
<p dir="rtl">
فایل <span style="color:#e74c3c">api.php</span> شامل مسیرهایی است که RouteServiceProvider در گروه<span style="color:#f39c12"> middleware api</span> قرار می دهد. این موارد با<span style="color:#e74c3c"> توکن احراز هویت</span> می شوند.</p>


<div class="code">

<p>&nbsp;<span style="color:#27ae60">Route</span>::<span style="color:#d35400">prefix</span>(&#39;<span style="color:#f39c12">api</span>&#39;)<br />
&nbsp; &nbsp;  &nbsp; &nbsp; -&gt;<span style="color:#e74c3c">middleware</span>(&#39;<span style="color:#f39c12">api</span>&#39;)<br />
&nbsp; &nbsp;  &nbsp; &nbsp; -&gt;<span style="color:#3498db">namespace</span>($<span style="color:#e74c3c">this</span>-&gt;namespace)<br />
&nbsp; &nbsp; &nbsp; &nbsp; -&gt;<span style="color:#3498db">group</span>(<span style="color:#3498db">base_path</span>(&#39;<span style="color:#f39c12">routes/api.php</span>&#39;));</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;<span style="color:#e74c3c">protected </span><span style="color:#3498db">function </span><span style="color:#27ae60">configureRateLimiting</span>()&nbsp;{<br />
&nbsp; &nbsp; &nbsp;&nbsp;<span style="color:#27ae60">RateLimiter</span>::<span style="color:#e74c3c">for</span>(&#39;<span style="color:#f39c12">api</span>&#39;, function (<span style="color:#f39c12">Request </span>$request) {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#e74c3c">return </span><span style="color:#27ae60">Limit</span>::<span style="color:#3498db">perMinute</span>(<span style="color:#9b59b6">60</span>)-&gt;<span style="color:#3498db">by</span>(<span style="color:#3498db">optional</span>($request-&gt;<span style="color:#f1c40f">user</span>())-&gt;id ?: $request-&gt;ip());<br />
&nbsp; &nbsp; &nbsp;&nbsp;});<br />
&nbsp;}</p>
</div> 
<p dir="rtl">&nbsp;</p>
<p dir="rtl">با <span style="color:#2ecc71">command line </span>&nbsp;می توان به دستورات <span style="color:#e67e22">console.php</span> &nbsp;دسترسی پیدا کرد و با درخواست های <span style="color:#f1c40f">http </span>به آن ها<span style="color:#e74c3c"> دسترسی نداریم.</span></p>

<p dir="rtl">پوشه <span style="color:#e74c3c">storage </span>شامل فایل هایی است که <span style="color:#f39c12">توسط فریم ورک ساخته شده اند</span> مانند <span style="color:#9b59b6">سشن ها- کش ها- لاگ ها- بلید های کامپایل شده</span></p>

<p dir="rtl">پوشه storage شامل<span style="color:#e74c3c"> 3</span> پوشه زیر است<br />
پوشه app &nbsp;که <span style="color:#e67e22">تمام فایل هایی که توسط برنامه ساخته شده </span>در ان قرار می گیرد.<br />
پوشه framework &nbsp;که <span style="color:#e67e22">تمام فایل های ساخته شده یا کامپایل شده لاراول</span> در آن قرار میگیرد.<br />
پوشه logs</p>

<p dir="rtl">&nbsp;</p>
<p dir="rtl">مسیر زیر می تواند برای <span style="color:#d35400">ذخیره فایل های کاربر</span> مانند <span style="color:#9b59b6">آواتار </span>استفاده شود.&nbsp;</p>

<div class="code">
<p><br />
storage/app/public</p></div> 
<p dir="rtl"><br />
فقط برای این کار باید یک <span style="color:#f39c12">لینک نمادین</span> ایجاد کنید تا به<span style="color:#e74c3c"> این پوشه اشاره کند</span> اما حالت این را داشته باشد که انگار پوشه <span style="color:#f1c40f">public </span>است.</p>

<div class="code"><p><span style="color:#7f8c8d">&nbsp;//public/storage</span></p>

<p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#e74c3c">storage:link</span></p></div> 
<p dir="rtl">در حقیقت این دستور می آید داخل پوشه <span style="color:#e74c3c">storage </span>یک پوشه <span style="color:#d35400">با نام public </span>می سازد و بعد یک <span style="color:#f39c12">shortcut </span>از آن ایجاد کرده و<span style="color:#e74c3c"> با نام storage</span> در پوشه <span style="color:#3498db">public </span>اصلی لاراول قرار می دهد. حالا هر فایلی که خواستیم می توانیم در پوشه&nbsp;<span style="color:#d35400">storage/public</span>&nbsp;یا <span style="color:#d35400">public/storage</span> قرار دهیم و بعد به راحتی با دو دستور <span style="color:#2ecc71">زیر به آن ها&nbsp;دسترسی</span> داشته باشیم.</p>
<div class="code">
<p>{{ &nbsp;<span style="color:#3498db">url</span>(&#39;<span style="color:#f39c12">/storage/111.jpg</span>&#39;) }}&nbsp; &nbsp; &nbsp; <span style="color:#7f8c8d">&nbsp; //&nbsp; for Read File&nbsp; and Show file</span></p>

<p>{{&nbsp; <span style="color:#3498db">public_path</span>(&#39;<span style="color:#f39c12">/storage</span>&#39;) }}&nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#7f8c8d"> // for Save file e.g.&nbsp; User Avatar</span></p></div> 
<p dir="rtl"><br />
اگر فایل <span style="color:#3498db">کامپوز را تغییر دادید</span> باید حتما دستور زیر را اجرا کنید.</p>

<div class="code"><p>
<span style="color:#e74c3c">composer </span><span style="color:#d35400">dump-autoload&nbsp;</span></p></div> 
<br />
<p dir="rtl">پوشه <span style="color:#9b59b6">test </span>شامل <span style="color:#2ecc71">تست های خودکار</span> است که ان ها را می توانیم با دستور زیر run کنیم.</p>

<div class="code"><p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#e74c3c">test &nbsp;</span><br />
&nbsp;or<br />
<span style="color:#9b59b6">php </span><span style="color:#e67e22">vendor/bin/phpunit</span></p></div> 
<p dir="rtl"><br />
پوشه <span style="color:#2ecc71">vendor </span>همیشه مربوط به<span style="color:#e74c3c"> وابستگی های composer</span> &nbsp;است و<span style="color:#f39c12"> نباید تغییر</span> در آن ایجاد کنیم.</p>

<p dir="rtl">بزرگ ترین پوشه برنامه پوشه <span style="color:#e74c3c">app </span>است که با <span style="color:#3498db">namespaced &nbsp;</span>خودش یعنی <span style="color:#d35400">App </span>در دسترس است و تحت استاندارد <span style="color:#d35400">PSR-4 اتولودر کامپوزر</span> قرار دارد.</p>
<br />
<p dir="rtl">فایل های پوشه های <span style="color:#f39c12">Console and Http </span>در داخل <span style="color:#9b59b6">app </span>یک<span style="color:#27ae60"> api به هسته برنامه لاراولی</span> را فراهم می کنند.</p>

<p dir="rtl">تمام فایل هایی که با دستور <span style="color:#e74c3c">make&nbsp;</span>ساخته می شوند داخل پوشه <span style="color:#f39c12">app </span>ساخته می شوند.</p>

<div class="code"><p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#e74c3c">make</span></p></div> 
<p dir="rtl">&nbsp;</p>
<p dir="rtl">برای دیدن <span style="color:#f39c12">همه command های make </span>می توانیم از دستور زیر استفاده کنیم.</p>

<div class="code">

<p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#e74c3c">list </span><span style="color:#3498db">make</span></p></div> 
<p>&nbsp;</p>
<p dir="rtl">&nbsp; پخش&nbsp; <span style="color:#e74c3c">broadcast</span></p>

<p dir="rtl">پوشه <span style="color:#f39c12">Broadcasting </span>شامل تمام <span style="color:#9b59b6">Broadcast </span>ها است که با دستور زیر ساخته می شوند.</p>

<div class="code"><p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#e74c3c">&nbsp;make:channel</span></p></div>

<p dir="rtl">پوشه <span style="color:#9b59b6">console </span>شامل تمام کامندهای <span style="color:#e74c3c">artisan &nbsp;</span>که به صورت <span style="color:#f39c12">سفارشی </span>ایجاد شده اند، هست. ساخت command &nbsp;با دستور</p> 


<div class="code"><p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#e74c3c">make:command</span></p>

<p><br />
abstract &nbsp; &nbsp;خلاصه &nbsp; چکیده</p></div> 

<p>&nbsp;</p>

<p dir="rtl">پوشه <span style="color:#e74c3c">Providers </span>شامل تمام <span style="color:#f39c12">service provider </span>ها است که راه انداز برنامه هستند.</p>

<p dir="rtl">پوشه <span style="color:#f39c12">Rules </span>شامل<span style="color:#d35400"> قوانین اعتبارسنجی سفارشی</span> برنامه است.</p>
<br />
<p dir="rtl"><span style="color:#e74c3c">مهم:=></span>&nbsp; &nbsp;همچنین می توانیم<span style="color:#d35400"> تمام کلاس هایی که خودمان تعریف کردیم </span>را داخل <span style="color:#f39c12">app </span>قرار دهیم.</p>
<div class="code">

<p><span style="color:#7f8c8d">// make folder with name&nbsp; delkhah e.g.  Ali</span></p>

<p><span style="color:#7f8c8d">// create&nbsp; a php file&nbsp; e.g.&nbsp; &nbsp;Send.php</span></p>

<p>&lt;?<span style="color:#9b59b6">php</span></p>

<p><span style="color:#e74c3c">namespace </span><span style="color:#d35400">App\Ali</span>;</p>

<p><span style="color:#2ecc71">class </span><span style="color:#3498db">Send </span>{</p>

<p>&nbsp; &nbsp;<span style="color:#7f8c8d"> #code</span></p>

<p>}</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#7f8c8d">// usage</span></p>

<p><span style="color:#e74c3c">use </span><span style="color:#f1c40f">App\Ali\Send</span>;</p>

<p>$obj = <span style="color:#e74c3c">new </span><span style="color:#d35400">Send</span>();</p>
<p>&nbsp;</p><p>&nbsp;</p>
<p><span style="color:#7f8c8d">OR&nbsp;</span></p>

<p><span style="color:#e74c3c">use </span><span style="color:#f1c40f">App\Ali\Send</span>;</p>

<p><span style="color:#e74c3c">public </span><span style="color:#3498db">function </span><span style="color:#27ae60">index</span>(<span style="color:#2980b9">Request </span>$request, <span style="color:#2980b9">Send </span>$send){<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />
&nbsp;&nbsp;  &nbsp;<span style="color:#e67e22">dd</span>($send-&gt;index());</p>

<p><br />
}</p>

</div> 


<br />
<h2 class="y">------   Config Folder   ------</h2>
<br />
<p style="text-align:center"><span style="color:#f1c40f">config/view</span></p>
<br />
<p dir="rtl">در فایل <span style="color:#e74c3c">config/view.php</span> می توانیم تعیین کنیم که فایل های <span style="color:#f39c12">blade </span>را درکجا قرار دهیم و همچنین <span style="color:#e74c3c">بعد از کامپایل شدن در کجا قرار</span> بگیرند.</p>
<div class="code">

<p>&nbsp;&#39;<span style="color:#f39c12">paths</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#3498db">resource_path</span>(&#39;<span style="color:#e74c3c">views</span>&#39;),<br />
&nbsp;],</p>
<p dir="rtl">می توانیم<span style="color:#e74c3c"> چند مسیر</span> انتخاب کنیم و به ارایه بدهیم&nbsp;</p>

<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

<p>&#39;<span style="color:#f39c12">compiled</span>&#39; =&gt; <span style="color:#d35400">env</span>(<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">VIEW_COMPILED_PATH</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#3498db">realpath</span>(<span style="color:#27ae60">storage_path</span>(&#39;<span style="color:#e74c3c">framework/views</span>&#39;))<br />
),</p>

</div> 
<p dir="rtl"><span style="color:#f39c12">آزاد </span>هستیم که <span style="color:#e74c3c">هر مسیری</span> را می خواهیم در این فایل انتخاب کنیم و <span style="color:#2ecc71">فایل های خود را در آن قرار دهیم</span>.</p>

<p>&nbsp;</p>
<p>&nbsp;</p>

<p style="text-align:center"><span style="color:#f1c40f">config/session</span></p>
<br />
<p dir="rtl">در این فایل می توانیم تعریف کنیم که <span style="color:#d35400">طول عمر session </span>ها چقدر باشد. عددی که دریافت می کند برحسب <span style="color:#e74c3c">دقیقه </span>است. (<span style="color:#f1c40f">number of minutes </span>)</p>

<p dir="rtl">همچنین اگر&nbsp;<span style="color:#e67e22">expire_on_close</span> را <span style="color:#9b59b6">true </span>قرار دهیم <span style="color:#e74c3c">با بسته شدن مرورگر Session هم پاک</span> می شود.</p>
<div class="code"><p>&#39;<span style="color:#f39c12">lifetime</span>&#39; =&gt; <span style="color:#d35400">env</span>(&#39;<span style="color:#f39c12">SESSION_LIFETIME</span>&#39;, <span style="color:#8e44ad">120</span>),</p>

<p>&#39;<span style="color:#f39c12">expire_on_close</span>&#39; =&gt; <span style="color:#8e44ad">false</span>,<br />
&nbsp;</p></div> 
<p dir="rtl">در حقیقت زمانی که مقدار&nbsp;<span style="color:#f39c12">expire_on_close </span>را <span style="color:#9b59b6">true</span> می کنیم، سشنی که ذخیره می شود به شکل<span style="color:#e74c3c"> flash session</span> است.</p>

<p dir="rtl">&nbsp;</p>

<p dir="rtl">در این فایل می توانیم <span style="color:#e74c3c">شکل ذخیره سشن ها</span> را تعریف کنیم.</p>
<div class="code">

<p>&#39;<span style="color:#f39c12">driver</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">SESSION_DRIVER</span>&#39;, &#39;<span style="color:#f39c12">file</span>&#39;),</p>

<p><span style="color:#7f8c8d">// Supported: &quot;file&quot;, &quot;cookie&quot;, &quot;database&quot;, &quot;apc&quot;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;memcached&quot;, &quot;redis&quot;, &quot;dynamodb&quot;, &quot;array&quot;</span></p>
<p dir="rtl">&nbsp;</p>
<p><span style="color:#7f8c8d">// file&nbsp; &nbsp;==&gt; save file in&nbsp; &nbsp;storage\framework\sessions</span></p>
</div> 
<br />
<p dir="rtl">به کمک گزینه&nbsp;<span style="color:#d35400">encrypt </span>می توانیم تعیین کنیم که <span style="color:#27ae60">session </span>ها در <span style="color:#e74c3c">هنگام ذخیره کدگذاری شوند یا نه</span>.&nbsp;</p>

<div class="code">

<p dir="rtl">&nbsp;</p>

<p><span style="color:#7f8c8d">&nbsp; /*<br />
&nbsp;  |--------------------------------------------------------------------------<br />
&nbsp;  | Session Encryption<br />
&nbsp;  |--------------------------------------------------------------------------<br />
&nbsp;  |<br />
&nbsp;  | This option allows you to easily specify that all of your session data<br />
&nbsp;  | should be encrypted before it is stored. All encryption will be run<br />
&nbsp;  | automatically by Laravel and you can use the Session like normal.<br />
&nbsp;  |<br />
&nbsp;  */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">encrypt</span>&#39; =&gt; <span style="color:#9b59b6">false</span>,</p>

<p dir="rtl">&nbsp;</p>
<p dir="rtl">&nbsp;</p><p dir="rtl">&nbsp;</p>
<p dir="rtl">&nbsp;</p>
<p><span style="color:#7f8c8d">// original value </span></p>

<p><span style="color:#3498db">array</span>:<span style="color:#2ecc71">2</span> [▼<samp> <span style="color:#9b59b6">0</span> =&gt; &quot;<span style="color:#f39c12">send laravel</span>&quot; <span style="color:#9b59b6">1</span> =&gt; &quot;<span style="color:#f39c12">python</span>&quot; </samp>]</p>
<p dir="rtl">&nbsp;</p><p dir="rtl">&nbsp;</p>
<p><span style="color:#7f8c8d">//&nbsp; encrypt&nbsp; false</span></p>

<p>a:3:{s:6:&quot;_token&quot;;s:40:&quot;maGe6sjIiw6h14iLaJOttxwnPUuhlPDxfN1TBvdh&quot;;s:9:&quot;_previous&quot;;a:1:{s:3:&quot;url&quot;;s:21:&quot;http://127.0.0.1:8000&quot;;}s:6:&quot;_flash&quot;;a:2:{s:3:&quot;old&quot;;a:0:{}s:3:&quot;new&quot;;a:0:{}}}</p>

<p>&nbsp;</p>

<p><span style="color:#7f8c8d">//&nbsp; encrypt&nbsp; true</span></p>

<p>eyJpdiI6InZxVkhHNDc2NlhZZEJHQ3hSbTRybUE9PSIsInZhbHVlIjoiQThuWVNaclJPbWRPcVdzQjJyeFVGcm5rNDFrUGJCOVFFbHpGQUVZTm1sa0l2TmczamFpZG9PY215elhMVUV6YlFjaTZUUWh4bFBoYVV1STFBRzFVczF4R2ZEV2xhZ0VzenBGbzdJM1lLK1A2bVRncVZ4RE1wSzNmMk5EM0hwN29UKythT3ArbUtaZVZ3RXZoak1DRkN1U3hiNklEMXVFU2pjcWRlWWd1RElXTjFhUnFva1lSU2lnZm51UVNWMUx5ME1zRVV6MHdEelFYRG16UGNrMzJvSFVGNWx0SUI0Slc4bE42VjdqV05HNEQxMXMzcFd4UjhabUIwVjZpR2JKViIsIm1hYyI6IjJkNGIzNDlkM2IyZTNlNDAzNjE4YTM3YjVkN2RkNjM3MTA5YmRmNjg3YThmOTkwNTI3YmQ1YWNlNGMxYzVhZTUifQ==</p>
</div>
<br />
<p dir="rtl">به استفاده از <span style="color:#e67e22">SESSION_&nbsp;$ </span>و فرایند های عادی در <span style="color:#9b59b6">php خام</span>، استفاده از&nbsp;<span style="color:#e74c3c">native session</span> گفته می شود. این به معنی <span style="color:#e74c3c">سشن های بومی</span> خود php است و توصیه میشود در <span style="color:#f39c12">لاراول </span>از<span style="color:#9b59b6"> php خام استفاده نکنید</span>، زیرا <span style="color:#e74c3c">نقص های امنیتی</span> ایجاد می کند.</p>

<br />
<p dir="rtl">به کمک کد زیر می توانیم <span style="color:#e74c3c">محل ذخیره سشن های نوع فایل </span>را تعیین کنیم. یعنی وقتی <span style="color:#f1c40f">driver </span>روی <span style="color:#e74c3c">file </span>است فایل های در این مسیر ذخیره می شوند.</p>

<div class="code">
<p><span style="color:#7f8c8d">/*<br />
&nbsp;|--------------------------------------------------------------------------<br />
&nbsp;| Session File Location<br />
&nbsp;|--------------------------------------------------------------------------<br />
*/</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">files</span>&#39; =&gt; <span style="color:#3498db">storage_path</span>(&#39;<span style="color:#f39c12">framework/sessions</span>&#39;),</p></div>
<br />
<p dir="rtl">زمانی که از<span style="color:#e74c3c">&nbsp;&quot;database&quot; or &quot;redis&quot; session drivers</span> استفاده می کنیم. گاهی ممکن است که نیاز پیدا کنیم تا یک connection to DB برای مدیریت سشن های ایجاد کنیم که به کمک کد زیر می توانیم.</p>


<div class="code"><p>&#39;<span style="color:#f39c12">connection</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">SESSION_CONNECTION</span>&#39;, <span style="color:#9b59b6">null</span>),</p></div>
<br />
<p dir="rtl">زمان که&nbsp;<span style="color:#f39c12">session driver </span>را روی&nbsp;<span style="color:#e74c3c">database </span>می گذاریم می توانیم با این دستور تعیین کنیم که <span style="color:#f1c40f">اطلاعات سشن ها در کدام جدول</span> ذخیره شود.</p>

<div class="code"><p><span style="color:#7f8c8d">/*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Session Database Table<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
*/</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">table</span>&#39; =&gt; &#39;<span style="color:#f39c12">sessions</span>&#39;,</p></div>
<br />
<p dir="rtl">زمانی که از یکی از <span style="color:#e74c3c">سرویس های مدیریت cache</span> استفاده می کنیم. کد زیر به کارمان می آید.</p>
<div class="code">

<p>&nbsp;<span style="color:#7f8c8d"> /*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Session Cache Store<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | While using one of the framework&#39;s cache driven session backends you may<br />
&nbsp; &nbsp; | list a cache store that should be used for these sessions. This value<br />
&nbsp; &nbsp; | must match with one of the application&#39;s configured cache &quot;stores&quot;.<br />
&nbsp; &nbsp; |</span><br />
&nbsp; &nbsp; <span style="color:#7f8c8d">| </span><span style="color:#e74c3c">Affects: &quot;apc&quot;, &quot;dynamodb&quot;, &quot;memcached&quot;, &quot;redis&quot;</span><br />
&nbsp; <span style="color:#7f8c8d">&nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">store</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">SESSION_STORE</span>&#39;, <span style="color:#9b59b6">null</span>),</p>
</div>
<br />
<p dir="rtl">تعیین<span style="color:#e74c3c"> نام برای کوکی ها&nbsp;</span></p>
<div class="code">
<p>&nbsp; <span style="color:#7f8c8d">&nbsp; /*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Session Cookie Name<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">cookie</span>&#39; =&gt; <span style="color:#3498db">env</span>(<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">SESSION_COOKIE</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#27ae60">Str</span>::<span style="color:#d35400">slug</span>(<span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">APP_NAME</span>&#39;, &#39;<span style="color:#f39c12">laravel</span>&#39;), &#39;<span style="color:#f39c12">_</span>&#39;).&#39;<span style="color:#f39c12">_session</span>&#39;<br />
&nbsp; &nbsp; ),</p></div>

<p>&nbsp;</p>

<p dir="rtl">تابع&nbsp; &nbsp; <span style="color:#27ae60">Str</span>::<span style="color:#d35400">slug </span><span style="color:#e74c3c">فاصله </span>های مقداری که به آن می دهیم را با علامتی که در<span style="color:#f39c12"> پارامتر دوم تعیین </span>کردیم جایگزین می کند.</p>

<div class="code"><p><span style="color:#27ae60">dd</span>( &nbsp; <span style="color:#27ae60">Str</span>::<span style="color:#d35400">slug</span>(&quot;<span style="color:#f39c12">ali opi</span>&quot;, &#39;<span style="color:#f39c12">***</span>&#39;) );&nbsp; &nbsp;<span style="color:#7f8c8d"> //&nbsp;&quot;ali***opi&quot;</span></p>

<p dir="rtl">&nbsp;</p></div>
<br />
<p dir="rtl">سایر<span style="color:#e74c3c"> تنظیمات کوکی ها&nbsp;</span></p>

<div class="code">

<p><span style="color:#7f8c8d">/*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Session Cookie Path<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | The session cookie path determines the path for which the cookie will<br />
&nbsp; &nbsp; | be regarded as available. Typically, this will be the root path of<br />
&nbsp; &nbsp; | your application but you are free to change this when necessary.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">path</span>&#39; =&gt; &#39;<span style="color:#f39c12">/</span>&#39;,</p>

<p>&nbsp; <span style="color:#7f8c8d">&nbsp; /*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Session Cookie Domain<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | Here you may change the domain of the cookie used to identify a session<br />
&nbsp; &nbsp; | in your application. This will determine which domains the cookie is<br />
&nbsp; &nbsp; | available to in your application. A sensible default has been set.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">domain</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">SESSION_DOMAIN</span>&#39;, <span style="color:#9b59b6">null</span>),</p>

<p>&nbsp; &nbsp; <span style="color:#7f8c8d">/*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | HTTPS Only Cookies<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | By setting this option to true, session cookies will only be sent back<br />
&nbsp; &nbsp; | to the server if the browser has a HTTPS connection. This will keep<br />
&nbsp; &nbsp; | the cookie from being sent to you when it can&#39;t be done securely.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">secure</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">SESSION_SECURE_COOKIE</span>&#39;),</p>

<p>&nbsp; &nbsp; <span style="color:#7f8c8d">/*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | HTTP Access Only<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | Setting this value to true will prevent JavaScript from accessing the<br />
&nbsp; &nbsp; | value of the cookie and the cookie will only be accessible through<br />
&nbsp; &nbsp; | the HTTP protocol. You are free to modify this option if needed.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">http_only</span>&#39; =&gt; <span style="color:#9b59b6">true</span>,</p>

<p>&nbsp; <span style="color:#7f8c8d">&nbsp; /*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Same-Site Cookies<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | This option determines how your cookies behave when cross-site requests<br />
&nbsp; &nbsp; | take place, and can be used to mitigate CSRF attacks. By default, we<br />
&nbsp; &nbsp; | will set this value to &quot;lax&quot; since this is a secure default value.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | Supported: &quot;lax&quot;, &quot;strict&quot;, &quot;none&quot;, null<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">same_site</span>&#39; =&gt; &#39;<span style="color:#f39c12">lax</span>&#39;,</p>
</div>

<br />
<p dir="rtl"><span style="color:#e74c3c">Lax</span>: کوکی در <span style="color:#d35400">درخواست های بین سایت</span> مانند تماس ها برای بارگذاری تصاویر یا فریم ها ارسال نمی شود ، بلکه زمانی ارسال می شود که<span style="color:#f39c12"> کاربر از یک سایت خارجی به سایت مبدا حرکت می کند</span> (به عنوان مثال اگر پیوندی را دنبال می کند). اگر ویژگی <span style="color:#e74c3c">SameSite </span>مشخص نشده باشد ، <span style="color:#e74c3c">lax </span>رفتار<span style="color:#2ecc71"> پیش فرض</span> است.</p>

<p dir="rtl"><span style="color:#f39c12">lax </span>در واقع از<span style="color:#d35400"> حملات CSRF نوع POST </span>جلوگیری می کند اما <span style="color:#d35400">این حملات هنوز از نوع GET با lax </span><span style="color:#e74c3c">امکان پذیر</span> هستند.</p>

<p dir="rtl">اجرای <span style="color:#27ae60">Lax </span><span style="color:#d35400">دفاع عمیق در برابر حملات CSRF که متکی به روشهای HTTP ناامن </span>هستند (مانند &quot;POST&quot;) ارائه می دهد ، اما به عنوان یک دسته کلی از حملات ، <span style="color:#e74c3c">دفاع قوی در برابر CSRF ارائه نمی دهد</span>.</p>

<p dir="rtl"><span style="color:#e74c3c">Strict </span>:&nbsp;این<span style="color:#f39c12"> مانع از دسته وسیع تری از حملات CSRF</span> می شود. اما محدودیت هایی را <span style="color:#d35400">هم در استفاده از دستورات GET در سایت </span>ایجاد می کند. دلیل استفاده از <span style="color:#e74c3c">Strict </span>این است که در<span style="color:#f39c12"> برابر حملات CSRF مقاومت بیشتری داشته</span> باشد.</p>

<p dir="rtl"><span style="color:#e74c3c">lax </span>به اندازه کافی برای ما <span style="color:#f39c12">امنیت ایجاد می کند</span>. زیرا <span style="color:#d35400">اکثر درخواست های مهم و ارتباطات با دیتابیس از طریق درخواست POST انجام می شوند و lax به طور کامل از حملات CSRF نوع POST جلوگیری می کند</span> اما اگر سایتی برای عملیات مهمش از <span style="color:#9b59b6">GET </span>استفاده می کند. این موضوع<span style="color:#3498db"> معماری بد طراحی آن سایت</span> است.</p>

<p dir="rtl"><span style="color:#3498db">Lax </span>و&nbsp;<span style="color:#3498db">Strict </span>هر دو مقدارهایی برای&nbsp;<span style="color:#e74c3c">SameSite</span>&nbsp; هستند. مقدار دیفالت <span style="color:#f39c12">lax </span>است.</p>
<br />

<p style="text-align:center"><span style="color:#f1c40f">config/services</span></p>
<br />

<p dir="rtl">این فایل حاوی تنظیماتی برای ازتباط و ذخیره سازی اطلاعات در <span style="color:#f39c12">سرویس های خارجی</span> نظیر&nbsp;Mailgun, Postmark, AWS and more است.</p>
<br />
<div class="code">

<p>&#39;<span style="color:#f39c12">mailgun</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">domain</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">MAILGUN_DOMAIN</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">secret</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">MAILGUN_SECRET</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">endpoint</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">MAILGUN_ENDPOINT</span>&#39;, &#39;<span style="color:#f39c12">api.mailgun.net</span>&#39;),<br />
&nbsp;],</p>

<p>&#39;<span style="color:#f39c12">postmark</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">token</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">POSTMARK_TOKEN</span>&#39;),<br />
],</p>

<p>&#39;<span style="color:#f39c12">ses</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">key</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">AWS_ACCESS_KEY_ID</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">secret</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">AWS_SECRET_ACCESS_KEY</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">region</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">AWS_DEFAULT_REGION</span>&#39;, &#39;<span style="color:#f39c12">us-east-1</span>&#39;),<br />
&nbsp;],</p>
</div> 

<br />

<p style="text-align:center"><span style="color:#f1c40f">config/queue</span></p>
<br />

<div class="code"><p><span style="color:#e74c3c">return </span>[</p>

<p>&nbsp; &nbsp;<span style="color:#7f8c8d"> /*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Default Queue Connection Name<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | Laravel&#39;s queue API supports an assortment of back-ends via a single<br />
&nbsp; &nbsp; | API, giving you convenient access to each back-end using the same<br />
&nbsp; &nbsp; | syntax for every one. Here you may define a default connection.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">default</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">QUEUE_CONNECTION</span>&#39;, &#39;<span style="color:#f39c12">sync</span>&#39;),</p>

<p>&nbsp; &nbsp;<span style="color:#7f8c8d"> /*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Queue Connections<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | Here you may configure the connection information for each server that<br />
&nbsp; &nbsp; | is used by your application. A default configuration has been added<br />
&nbsp; &nbsp; | for each back-end shipped with Laravel. You are free to add more.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | Drivers: &quot;sync&quot;, &quot;database&quot;, &quot;beanstalkd&quot;, &quot;sqs&quot;, &quot;redis&quot;, &quot;null&quot;<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">connections</span>&#39; =&gt; [</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">sync</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">sync</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">database</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">database</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">table</span>&#39; =&gt; &#39;<span style="color:#f39c12">jobs</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">queue</span>&#39; =&gt; &#39;<span style="color:#f39c12">default</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">retry_after</span>&#39; =&gt; <span style="color:#9b59b6">90</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">after_commit</span>&#39; =&gt; <span style="color:#9b59b6">false</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">beanstalkd</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">beanstalkd</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">host</span>&#39; =&gt; &#39;<span style="color:#f39c12">localhost</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">queue</span>&#39; =&gt; &#39;<span style="color:#f39c12">default</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">retry_after</span>&#39; =&gt; <span style="color:#9b59b6">90</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">block_for</span>&#39; =&gt; <span style="color:#9b59b6">0</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">after_commit</span>&#39; =&gt; <span style="color:#9b59b6">false</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">sqs</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">sqs</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">key</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">AWS_ACCESS_KEY_ID</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">secret</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">AWS_SECRET_ACCESS_KEY</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">prefix</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">SQS_PREFIX</span>&#39;, &#39;<span style="color:#f39c12">https://sqs.us-east-1.amazonaws.com/your-account-id</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">queue</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">SQS_QUEUE</span>&#39;, &#39;<span style="color:#f39c12">default</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">suffix</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">SQS_SUFFIX</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">region</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">AWS_DEFAULT_REGION</span>&#39;, &#39;<span style="color:#f39c12">us-east-1</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">after_commit</span>&#39; =&gt; <span style="color:#9b59b6">false</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">redis</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">redis</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">connection</span>&#39; =&gt; &#39;<span style="color:#f39c12">default</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">queue</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">REDIS_QUEUE</span>&#39;, &#39;<span style="color:#f39c12">default</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">retry_after</span>&#39; =&gt; <span style="color:#9b59b6">90</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">block_for</span>&#39; =&gt; <span style="color:#9b59b6">null</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">after_commit</span>&#39; =&gt; <span style="color:#9b59b6">false</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp;<span style="color:#7f8c8d"> /*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Failed Queue Jobs<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | These options configure the behavior of failed queue job logging so you<br />
&nbsp; &nbsp; | can control which database and table are used to store the jobs that<br />
&nbsp; &nbsp; | have failed. You may change them to any database / table you wish.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">failed</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">QUEUE_FAILED_DRIVER</span>&#39;, &#39;<span style="color:#f39c12">database-uuids</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">database</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DB_CONNECTION</span>&#39;, &#39;<span style="color:#f39c12">mysql</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">table</span>&#39; =&gt; &#39;<span style="color:#f39c12">failed_jobs</span>&#39;,<br />
&nbsp; &nbsp; ],</p>

<p>];<br />
&nbsp;</p>
</div> 

<br />

<p style="text-align:center"><span style="color:#f1c40f">config/mail</span></p>
<br />

<p dir="rtl">به کمک کد زیر می توانیم<span style="color:#d35400"> پروتکل ارسال ایمیل</span> را تغییر دهیم اما اکثرا پروتکل ارسال ایمیل <span style="color:#e74c3c">smtp </span>است و لاراول هم آن را به عنوان<span style="color:#9b59b6"> دیفالت</span> در نظر می گیرد. <span style="color:#f1c40f">سرویس های دیگر ایمیل کارایی کمتری</span> دارند و کمتر هم استفاده می شوند و انعطاف پذیری smtp را ندارند.</p>
<div class="code"><p dir="rtl">&nbsp;</p>

<p>&#39;<span style="color:#f39c12">default</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">MAIL_MAILER</span>&#39;, &#39;<span style="color:#f39c12">smtp</span>&#39;),</p></div> 
<p dir="rtl">&nbsp;</p>

<p dir="rtl"><span style="color:#c0392b"><strong>Exchange&nbsp;, SMTP, POP,</strong>&nbsp;</span><strong><span style="color:#c0392b">IMAP , HTTP</span></strong></p>
<div class="code"><p><strong>SMTP</strong>&nbsp; ==&gt;&nbsp; &nbsp;<strong>Simple Mail Transfer Protocol</strong></p>

<p><strong>IMAP</strong>&nbsp; &nbsp;==&gt;&nbsp;&nbsp;&nbsp;<strong>Internet Message Access Protocol</strong></p>

<p><strong>POP&nbsp; &nbsp; </strong>==&gt;&nbsp; &nbsp; <strong>Post Office Protocol&nbsp; &nbsp; ==&gt;&nbsp; best&nbsp; &nbsp;POP 3</strong></p>

<p><strong>HTTP&nbsp; ==&gt;&nbsp;</strong>&nbsp;<strong>HyperText Transfer Protocol</strong></p></div> 
<p dir="rtl">&nbsp;</p>
<p dir="rtl"><span style="color:#d35400">SMTP&nbsp; </span>این یک پروتکل <span style="color:#2ecc71">استاندارد </span>برای <span style="color:#e74c3c">ارسال ایمیل</span> از طریق اینترنت است&nbsp; و <span style="color:#e74c3c">نمی تواند برای دریافت نامه</span> استفاده شود.&nbsp;SMTP <span style="color:#9b59b6">رایج ترین</span> پروتکل مورد استفاده برای انتقال نامه بین دو سرور است. این پروتکل برخلاف سایرین<span style="color:#e67e22"> نیاز به احراز هویت ندارد</span>.&nbsp; یکی از مسائل اصلی SMTP <span style="color:#9b59b6">عدم احراز هویت ایمیل فرستنده</span> است. SMTP <span style="color:#e74c3c">فاقد ویژگی های امنیتی</span> است و <span style="color:#d35400">بنابراین کاربران ایمیل های اسپم</span> دریافت می کنند.&nbsp; برنامه های <span style="color:#f1c40f">تجاری </span>تا حد زیادی از SMTP استفاده<span style="color:#f39c12"> نمی کنند</span>.&nbsp;در صورت<span style="color:#f39c12"> عدم امکان ارسال پیام </span>، <span style="color:#e74c3c">گزارش خطا به فرستنده ارسال می شود که SMTP را به یک پروتکل قابل اعتماد تبدیل می کند.</span></p>

<p dir="rtl"><span style="color:#3498db">پورت </span>پیش فرض <span style="color:#9b59b6">SMTP </span>عبارتند از:</p>

<p dir="rtl">پورت <span style="color:#e74c3c">25</span> -این پورت پیش فرض غیر رمزگذاری شده است.</p>

<p dir="rtl">پورت <span style="color:#e74c3c">465 </span>/ <span style="color:#e74c3c">587</span>&nbsp; - این پورت پیش فرض برای<span style="color:#e74c3c"> اتصالات ایمن</span> است. <span style="color:#f39c12">لاراول </span>از <span style="color:#e74c3c">587 </span>استفاده می کند.</p>
<p dir="rtl"><span style="color:#e67e22">Gmail </span>در <span style="color:#9b59b6">PHPMailer</span> از پورت <span style="color:#e74c3c">465 </span>استفاده می کند.</p>
<p dir="rtl">&nbsp;</p>
<p dir="rtl">از آنجا که <span style="color:#e74c3c">POP </span>از <span style="color:#e74c3c">دسترسی آفلاین </span>به پیام ها <span style="color:#e74c3c">پشتیبانی </span>می کند ، بنابراین<span style="color:#e67e22"> زمان استفاده از اینترنت کمتر نیاز</span> دارد. POP <span style="color:#2ecc71">امکان جستجو را نمی دهد</span>. از آن <span style="color:#d35400">برای بازیابی ایمیل ها یا همان دریافت ایمیل نه ارسال آ استفاده می شود.</span> به کاربران اجازه می دهد به صندوق های پستی دسترسی پیدا کرده و<span style="color:#9b59b6"> پیام ها را به سرعت در دستگاه های خود بارگیری کنند</span>. <span style="color:#f1c40f">بزرگترین </span>مزیت POP3<span style="color:#3498db"> وابستگی کم به اینترنت</span> است.&nbsp; کاربران می توانند همه ایمیل ها را بارگیری کرده و آنها را در فراغت بخوانند ، حتی اگر به صورت آفلاین دسترسی دارند.&nbsp; با انی سرویس می توان به ایمیل ها در حالت آفلاین<span style="color:#e67e22"> پاسخ دهند</span>، و هنگامی که <span style="color:#e67e22">دوباره آنلاین</span> هستند می توانند این ایمیل ها را ارسال کنند. <span style="color:#ff0099">یاهو </span>نمونه ای استفاده کنندگان از POP است.</p>

<p dir="rtl"><span style="color:#9b59b6">پورت </span>های پیش فرض برای <span style="color:#3498db">POP3 </span>عبارتند از:</p>

<p dir="rtl">پورت <span style="color:#e74c3c">110</span>-این پورت پیش فرض غیر رمزگذاری شده است.</p>

<p dir="rtl">پورت <span style="color:#e74c3c">995 </span>- این پورت پیش فرض برای<span style="color:#e74c3c"> اتصالات ایمن</span> است.</p>

<p dir="rtl">&nbsp;</p>

<p dir="rtl">با این حال ، <span style="color:#e74c3c">IMAP </span>برای <span style="color:#d35400">دستگاه های مختلف به طور همزمان مناسب </span>است. IMAP از کاربران می خواهد که<span style="color:#9b59b6"> دائماً به اینترنت متصل باشند</span>. تنها زمانی پیام های ایمیل را از سرور بارگیری می کند که<span style="color:#d35400"> کاربر درخواست خواندن یک ایمیل خاص را داشته باشد</span>. این مورد هم برای دریافت ایمیل است و <span style="color:#f39c12">نه ارسال آن</span>.&nbsp; IMAP <span style="color:#ff0099">قابلیت جستجوی قدرتمندی را برای کاربران ایمیل هوشمند برای جستجوی ایمیل در سرور فراهم می کند</span>.&nbsp;<span style="color:#e74c3c">Gmail&nbsp; </span>از این سرویس هم استفاده می کند.</p>

<p dir="rtl"><span style="color:#9b59b6">پورت </span>های پیش فرض <span style="color:#3498db">IMAP</span> عبارتند از:</p>

<p dir="rtl">پورت <span style="color:#e74c3c">143</span>- این پورت پیش فرض غیر رمزگذاری شده است.</p>

<p dir="rtl">پورت <span style="color:#e74c3c">993&nbsp; </span>- این پورت پیش فرض برای<span style="color:#f39c12"> اتصالات ایمن</span> است.</p>

<p dir="rtl">&nbsp;</p>

<p dir="rtl"><span style="color:#e74c3c">HTTP&nbsp; </span>=&gt;&nbsp; این یک پروتکل<span style="color:#9b59b6"> اختصاصی ایمیل نیست</span>. با این حال ، <span style="color:#d35400">HTTP برای دسترسی به ایمیل با استفاده از ایمیل های مبتنی بر وب (به عنوان مثال پست وب) استفاده می شود</span>. <span style="color:#2ecc71">Hotmail </span>و <span style="color:#2ecc71">Gmail </span>نمونه هایی از استفاده از <span style="color:#9b59b6">HTTP </span>به عنوان <span style="color:#e67e22">سرویس گیرنده ایمیل</span> هستند. این برای ایجاد و<span style="color:#e74c3c"> بازیابی ایمیل ها از یک حساب تحت وب</span> استفاده می شود.</p>

<p dir="rtl"><span style="color:#9b59b6">پورت </span>پیش فرض <span style="color:#3498db">HTTP </span>عبارتند از:</p>

<p dir="rtl">پورت <span style="color:#e74c3c">80</span><span style="color:#f39c12"> </span>-این پورت پیش فرض غیر رمزگذاری شده است.</p>

<p dir="rtl">پورت <span style="color:#e74c3c">443 </span>- این پورت پیش فرض برای <span style="color:#e74c3c">اتصالات ایمن</span> است.</p>

<p dir="rtl">&nbsp;</p>

<p dir="rtl">این مورد توسط سرورهای <span style="color:#e74c3c">Exchange </span>مانند <span style="color:#d35400">Microsoft Exchange </span>استفاده می شود.</p>

<p dir="rtl">&nbsp;</p>

<p dir="rtl">کتابخانه هایی نظیر PHPMailer موارد زیر را دارند که در قالب STMP و با احراز هویت و امنیت بالا ایمیل ارسال و دریافت می کنند.</p>
<div class="code"><p>$mail-&gt;Host=&#39;<span style="color:#f39c12">smtp</span>.gmail.com&#39;; <span style="color:#7f8c8d">//for gmail</span><br />
$mail-&gt;<span style="color:#e74c3c">SMTPAuth</span>=true;<span style="color:#7f8c8d"> // secure and with etebarsanji</span><br />
$mail-&gt;<span style="color:#e74c3c">SMTPSecure</span>=&quot;ssl&quot;;&nbsp; <span style="color:#7f8c8d">// important</span><br />
$mail-&gt;<span style="color:#e74c3c">Port</span>=<span style="color:#9b59b6">465</span>;</p></div><br />

سرویس های خود لاراول که به <span style="color:#27ae60">صورت پیشفرض</span> در این فایل تنظیم شده اند به شرح زیر هستند استفاده کنیم یا سرویس مورد نظر خود را اضافه کنیم.</p>

<div class="code"><p dir="rtl">لاروال <span style="color:#9b59b6">محدودیتی </span>برای ما در تعیین درایور ارسال ایمیل ایجاد نمی کند. می توانیم از 

<p><span style="color:#7f8c8d">/*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Mailer Configurations<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Laravel </span><span style="color:#ecf0f1">supports a variety of mail &quot;transport&quot; </span><span style="color:#4e5f70">drivers </span><span style="color:#7f8c8d">to be used while<br />
&nbsp; &nbsp; | sending an e-mail. You will specify which one you are using for your<br />
&nbsp; &nbsp; | mailers below. You are free to add additional mailers as required.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | </span><span style="color:#dddddd">Supported: &quot;smtp&quot;, &quot;sendmail&quot;, &quot;mailgun&quot;, &quot;ses&quot;,<br />
&nbsp; &nbsp; | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;postmark&quot;, &quot;log&quot;, &quot;array&quot;</span><br />
<span style="color:#7f8c8d">&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">mailers</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">smtp</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">transport</span>&#39; =&gt; &#39;<span style="color:#f39c12">smtp</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">host</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">MAIL_HOST</span>&#39;, &#39;<span style="color:#f39c12">smtp.mailgun.org</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">port</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">MAIL_PORT</span>&#39;, <span style="color:#9b59b6">587</span>),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">encryption</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">MAIL_ENCRYPTION</span>&#39;, &#39;<span style="color:#f39c12">tls</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">username</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">MAIL_USERNAME</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">password</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">MAIL_PASSWORD</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">timeout</span>&#39; =&gt; <span style="color:#9b59b6">null</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">auth_mode</span>&#39; =&gt; <span style="color:#9b59b6">null</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">ses</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">transport</span>&#39; =&gt; &#39;<span style="color:#f39c12">ses</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">mailgun</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">transport</span>&#39; =&gt; &#39;<span style="color:#f39c12">mailgun</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">postmark</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">transport</span>&#39; =&gt; &#39;<span style="color:#f39c12">postmark</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">sendmail</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">transport</span>&#39; =&gt; &#39;<span style="color:#f39c12">sendmail</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">path</span>&#39; =&gt; &#39;<span style="color:#f39c12">/usr/sbin/sendmail -bs</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">log</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">transport</span>&#39; =&gt; &#39;<span style="color:#f39c12">log</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">channel</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">MAIL_LOG_CHANNEL</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">array</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">transport</span>&#39; =&gt; &#39;<span style="color:#f39c12">array</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],<br />
&nbsp; &nbsp; ],</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#7f8c8d">// .env</span></p>

<p>&nbsp;</p>

<p>MAIL_MAILER=<span style="color:#e74c3c">smtp</span><br />
MAIL_HOST=mailhog<br />
MAIL_PORT=<span style="color:#e74c3c">1025</span><br />
MAIL_USERNAME=null<br />
MAIL_PASSWORD=null<br />
MAIL_ENCRYPTION=null<br />
MAIL_FROM_ADDRESS=null<br />
MAIL_FROM_NAME=&quot;${APP_NAME}&quot;</p>
</div>
<p>&nbsp;</p>

<p dir="rtl">می توانیم به کمک کد زیر برای همه ایمیل ها <span style="color:#e74c3c">گلوبال </span><span style="color:#d35400">name </span>و <span style="color:#d35400">Address </span>تعریف کنیم<span style="color:#f1c40f"> تا در همه ایمیل ها زیر شود که نام فرستنده و آدرس فرستنده چیست.</span></p>
<div class="code">
<p>&#39;<span style="color:#f39c12">from</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">address</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">MAIL_FROM_ADDRESS</span>&#39;, &#39;<span style="color:#f39c12">hello@example.com</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">name</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">MAIL_FROM_NAME</span>&#39;, &#39;<span style="color:#f39c12">Example</span>&#39;),<br />
&nbsp;],</p></div>

<p>&nbsp;</p>
<p dir="rtl">در لاراول می توانیم<span style="color:#9b59b6"> قالب های ایمیل خود</span> را براساس <span style="color:#e74c3c">Markdown </span>بنویسیم که در این صورت تنظیمات زیر به دردمان می خورند.</p>
<div class="code">
<p><br />
&nbsp; &nbsp; &#39;<span style="color:#f39c12">markdown</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">theme</span>&#39; =&gt; &#39;<span style="color:#f39c12">default</span>&#39;,</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">paths</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#27ae60">resource_path</span>(&#39;<span style="color:#f39c12">views/vendor/mail</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],<br />
&nbsp; &nbsp; ],</p></div>

<br />

<p style="text-align:center"><span style="color:#f1c40f">config/logging</span></p>
<br />
<p dir="rtl">به کمک کد زیر می توانیم <span style="color:#e67e22">کانال log ها</span> را که در<span style="color:#d35400"> طی برنامه خودمان می نویسیم</span> یا <span style="color:#e74c3c">توسط ارورها نوشته می شود</span> را تعیین کنیم.</p>
<div class="code">
<p>&#39;<span style="color:#f39c12">default</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">LOG_CHANNEL</span>&#39;, &#39;<span style="color:#f39c12">stack</span>&#39;),</p>

<p>&nbsp;</p>

<p>// .env</p>

<p>LOG_CHANNEL=<span style="color:#e74c3c">stack</span><br />
LOG_LEVEL=<span style="color:#9b59b6">debug</span></p>
</div><p>&nbsp;</p>
<p dir="rtl">لاراول از&nbsp;<span style="color:#e74c3c">Monolog</span> <span style="color:#d35400">PHP logging library</span> استفاده می کند که قابلیت های <span style="color:#f39c12">بی نظیری در مدیریت لاگ ها</span> به ما می دهد.</p>

<p dir="rtl">برای <span style="color:#c0392b">channel </span>لاگ ها می توانیم از موارد زیر استفاده کنیم.</p>
<div class="code">

<p>&nbsp; <span style="color:#7f8c8d">&nbsp;/*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Log Channels<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Available Drivers: &quot;single&quot;, &quot;daily&quot;, &quot;slack&quot;, &quot;syslog&quot;,<br />
&nbsp; &nbsp; | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;errorlog&quot;, &quot;monolog&quot;,<br />
&nbsp; &nbsp; | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;custom&quot;, &quot;stack&quot;<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&#39;<span style="color:#f39c12">channels</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">stack</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">stack</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">channels</span>&#39; =&gt; [&#39;<span style="color:#f39c12">single</span>&#39;],<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">ignore_exceptions</span>&#39; =&gt; <span style="color:#9b59b6">false</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">single</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">single</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">path</span>&#39; =&gt; <span style="color:#3498db">storage_path</span>(&#39;<span style="color:#f39c12">logs/laravel.log</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">level</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">LOG_LEVEL</span>&#39;, &#39;<span style="color:#f39c12">debug</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">daily</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">daily</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">path</span>&#39; =&gt; <span style="color:#3498db">storage_path</span>(&#39;l<span style="color:#f39c12">ogs/laravel.log</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">level</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">LOG_LEVEL</span>&#39;, &#39;<span style="color:#f39c12">debug</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">days</span>&#39; =&gt; <span style="color:#9b59b6">14</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">slack</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">slack</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">url</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">LOG_SLACK_WEBHOOK_URL</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">username</span>&#39; =&gt; &#39;<span style="color:#f39c12">Laravel Log</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">emoji</span>&#39; =&gt; &#39;<span style="color:#f39c12">:boom:</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">level</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">LOG_LEVEL</span>&#39;, &#39;<span style="color:#f39c12">critical</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">papertrail</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">monolog</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">level</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">LOG_LEVEL</span>&#39;, &#39;<span style="color:#f39c12">debug</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">handler</span>&#39; =&gt; <span style="color:#27ae60">SyslogUdpHandler</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">handler_with</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">host</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">PAPERTRAIL_URL</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">port</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">PAPERTRAIL_PORT</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ],<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">stderr</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">monolog</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">level</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">LOG_LEVEL</span>&#39;, &#39;<span style="color:#f39c12">debug</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">handler</span>&#39; =&gt; <span style="color:#27ae60">StreamHandler</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">formatter</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">LOG_STDERR_FORMATTER</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">with</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">stream</span>&#39; =&gt; &#39;<span style="color:#f39c12">php://stderr</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ],<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">syslog</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">syslog</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">level</span>&#39; =&gt; env(&#39;<span style="color:#f39c12">LOG_LEVEL</span>&#39;, &#39;<span style="color:#f39c12">debug</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">errorlog</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">errorlog</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">level</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">LOG_LEVEL</span>&#39;, &#39;<span style="color:#f39c12">debug</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">null</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">monolog</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">handler</span>&#39; =&gt; <span style="color:#27ae60">NullHandler</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">emergency</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">path</span>&#39; =&gt; <span style="color:#3498db">storage_path</span>(&#39;<span style="color:#f39c12">logs/laravel.log</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],<br />
&nbsp; &nbsp; ],</p>

<p dir="rtl">&nbsp;</p>
</div>

<br />

<p style="text-align:center"><span style="color:#f1c40f">config/hashing</span></p>
<br />

<p dir="rtl">به کمک این فایل می توانیم <span style="color:#d35400">الگوریتم هایی که لاراول برای کدگذاری پسورد ها </span>استفاده می کند را مدیریت کنیم. به طور <span style="color:#9b59b6">پیشفرض </span>لاراول از&nbsp;<span style="color:#e74c3c">bcrypt algorithm</span> استفاده می کند اما می توانیم این الگوریتم را تغییر دهیم.</p>
<div class="code"><p><span style="color:#7f8c8d">/*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Default Hash Driver<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | This option controls the default hash driver that will be used to hash<br />
&nbsp; &nbsp; | passwords for your application. By default, the bcrypt algorithm is<br />
&nbsp; &nbsp; | used; however, you remain free to modify this option if you wish.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | Supported: </span><span style="color:#c0392b">&quot;bcrypt&quot;, &quot;argon&quot;, &quot;argon2id&quot;</span><br />
<span style="color:#7f8c8d">&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">bcrypt</span>&#39;,</p></div>

<p>&nbsp;</p>

<p dir="rtl">گاهی می خواهیم تنظیماتی را برای <span style="color:#e74c3c">سیستم bcypt </span>در نظر بگیریم که در این صورت می توانیم آن ها را به آرایه زیر اضافه کنیم.</p>

<div class="code">

<p>&#39;<span style="color:#f39c12">bcrypt</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">rounds</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">BCRYPT_ROUNDS</span>&#39;, <span style="color:#9b59b6">10</span>),<br />
&nbsp;],</p>

<p>&nbsp;</p>
</div>
<p dir="rtl"><span style="color:#f39c12">rounds&nbsp;</span>مدت زمانی هش شدن رمز عبور داده شده را تعیین می کند.</p>

<p dir="rtl">&nbsp;</p>

<p dir="rtl">اگر از <span style="color:#e74c3c">الگوریتم argon</span> استفاده می کنیم می توانیم تنظیمات مربوط به آن را در آرایه زیر قرار دهیم.</p>
<div class="code">
<p>&#39;<span style="color:#f39c12">argon</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">memory</span>&#39; =&gt; <span style="color:#9b59b6">1024</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">threads</span>&#39; =&gt; <span style="color:#9b59b6">2</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">time</span>&#39; =&gt; <span style="color:#9b59b6">2</span>,<br />
&nbsp;],</p>
</div>


<br />

<p style="text-align:center"><span style="color:#f1c40f">config/filesystem</span></p>
<br />
<div class="code"><p><br />
&nbsp; &nbsp; <span style="color:#7f8c8d">/*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Default Filesystem Disk<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | Here you may specify the default filesystem disk that should be used<br />
&nbsp; &nbsp; | by the framework. The &quot;local&quot; disk, as well as a variety of cloud<br />
&nbsp; &nbsp; | based disks are available to your application. Just store away!<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">default</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">FILESYSTEM_DRIVER</span>&#39;, &#39;<span style="color:#f39c12">local</span>&#39;),</p>

<p>&nbsp; &nbsp; <span style="color:#7f8c8d">/*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Filesystem Disks<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | Here you may configure as many filesystem &quot;disks&quot; as you wish, and you<br />
&nbsp; &nbsp; | may even configure multiple disks of the same driver. Defaults have<br />
&nbsp; &nbsp; | been setup for each driver as an example of the required options.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | Supported Drivers: &quot;local&quot;, &quot;ftp&quot;, &quot;sftp&quot;, &quot;s3&quot;<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">disks</span>&#39; =&gt; [</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">local</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">local</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">root</span>&#39; =&gt; <span style="color:#3498db">storage_path</span>(&#39;<span style="color:#f39c12">app</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">public</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">local</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">root</span>&#39; =&gt; <span style="color:#3498db">storage_path</span>(&#39;<span style="color:#f39c12">app/public</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">url</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">APP_URL</span>&#39;).&#39;<span style="color:#f39c12">/storage</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">visibility</span>&#39; =&gt; &#39;<span style="color:#f39c12">public</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">s3</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">s3</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">key</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">AWS_ACCESS_KEY_ID</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">secret</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">AWS_SECRET_ACCESS_KEY</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">region</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">AWS_DEFAULT_REGION</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">bucket</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">AWS_BUCKET</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">url</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">AWS_URL</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">endpoint</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">AWS_ENDPOINT</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">use_path_style_endpoint</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">AWS_USE_PATH_STYLE_ENDPOINT</span>&#39;, <span style="color:#9b59b6">false</span>),<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; ],</p>

<p>&nbsp; <span style="color:#7f8c8d">&nbsp; /*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Symbolic Links<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | Here you may configure the symbolic links that will be created when the<br />
&nbsp; &nbsp; | `storage:link` Artisan command is executed. The array keys should be<br />
&nbsp; &nbsp; | the locations of the links and the values should be their targets.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">links</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#3498db">public_path</span>(&#39;<span style="color:#f39c12">storage</span>&#39;) =&gt; <span style="color:#3498db">storage_path</span>(&#39;<span style="color:#f39c12">app/public</span>&#39;),<br />
&nbsp; &nbsp; ],</p>
</div>


<br />

<p style="text-align:center"><span style="color:#f1c40f">config/database</span></p>
<br />
<p dir="rtl">به کمک کد زیر می توانیم <span style="color:#e74c3c">نوع اتصال به دیتابیس</span> را تعیین کنیم.</p>

<div class="code"><p>&#39;<span style="color:#f39c12">default</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DB_CONNECTION</span>&#39;, &#39;<span style="color:#f39c12">mysql</span>&#39;),</p></div>
<br />
<p dir="rtl"><span style="color:#d35400">تمام کارهای پایگاه داده</span> در <span style="color:#f39c12">Laravel </span>از طریق امکانات<span style="color:#e74c3c"> PHP PDO</span> انجام می شود.</p>

<p dir="rtl">در کد زیر<span style="color:#d35400"> پیکربندی های لازم برای اتصال به هر پایگاه داده</span> به صورت مثال و <span style="color:#9b59b6">دیفالت </span>آورده شده است که می توانیم به راحتی از آن ها استفاده <span style="color:#f39c12">و تنها تغییرات مورد نیاز را در فایل env</span> لحاظ کنیم.</p>
<div class="code"><p dir="rtl">&nbsp;</p>

<p>&#39;<span style="color:#f39c12">connections</span>&#39; =&gt; [</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">sqlite</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">sqlite</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">url</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DATABASE_URL</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">database</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DB_DATABASE</span>&#39;, <span style="color:#3498db">database_path</span>(&#39;<span style="color:#f39c12">database.sqlite</span>&#39;)),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">prefix</span>&#39; =&gt; &#39;&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">foreign_key_constraints</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DB_FOREIGN_KEYS</span>&#39;, <span style="color:#9b59b6">true</span>),<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">mysql</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">mysql</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">url</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DATABASE_URL</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">host</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DB_HOST</span>&#39;, &#39;<span style="color:#f39c12">127.0.0.1</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">port</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DB_PORT</span>&#39;, &#39;<span style="color:#f39c12">3306</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">database</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DB_DATABASE</span>&#39;, &#39;<span style="color:#f39c12">forge</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">username</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;DB_USERNAME&#39;, &#39;<span style="color:#f39c12">forge</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">password</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DB_PASSWORD</span>&#39;, &#39;&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">unix_socket</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DB_SOCKET</span>&#39;, &#39;&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">charset</span>&#39; =&gt; &#39;<span style="color:#f39c12">utf8mb4</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">collation</span>&#39; =&gt; &#39;<span style="color:#f39c12">utf8mb4_unicode_ci</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">prefix</span>&#39; =&gt; &#39;&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">prefix_indexes</span>&#39; =&gt; <span style="color:#9b59b6">true</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">strict</span>&#39; =&gt; <span style="color:#9b59b6">true</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">engine</span>&#39; =&gt; <span style="color:#9b59b6">null</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">options</span>&#39; =&gt; <span style="color:#3498db">extension_loaded</span>(&#39;<span style="color:#f39c12">pdo_mysql</span>&#39;) <span style="color:#e74c3c">?</span> <span style="color:#3498db">array_filter</span>([<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#27ae60">PDO</span>::<span style="color:#d35400">MYSQL_ATTR_SSL_CA </span>=&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">MYSQL_ATTR_SSL_CA</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]) : [],<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">pgsql</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">pgsql</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">url</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DATABASE_URL</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">host</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DB_HOST</span>&#39;, &#39;<span style="color:#f39c12">127.0.0.1</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">port</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DB_PORT</span>&#39;, &#39;<span style="color:#f39c12">5432</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">database</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DB_DATABASE</span>&#39;, &#39;<span style="color:#f39c12">forge</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">username</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DB_USERNAME</span>&#39;, &#39;<span style="color:#f39c12">forge</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">password</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DB_PASSWORD</span>&#39;, &#39;&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">charset</span>&#39; =&gt; &#39;<span style="color:#f39c12">utf8</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">prefix</span>&#39; =&gt; &#39;&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">prefix_indexes</span>&#39; =&gt; <span style="color:#9b59b6">true</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">schema</span>&#39; =&gt; &#39;<span style="color:#f39c12">public</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">sslmode</span>&#39; =&gt; &#39;<span style="color:#f39c12">prefer</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">sqlsrv</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">sqlsrv</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">url</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DATABASE_URL</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">host</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DB_HOST</span>&#39;, &#39;<span style="color:#f39c12">localhost</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">port</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DB_PORT</span>&#39;, &#39;<span style="color:#f39c12">1433</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">database</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DB_DATABASE</span>&#39;, &#39;<span style="color:#f39c12">forge</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">username</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DB_USERNAME</span>&#39;, &#39;<span style="color:#f39c12">forge</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">password</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DB_PASSWORD</span>&#39;, &#39;&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">charset</span>&#39; =&gt; &#39;<span style="color:#f39c12">utf8</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">prefix</span>&#39; =&gt; &#39;&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">prefix_indexes</span>&#39; =&gt; <span style="color:#9b59b6">true</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; ],</p></div>

<p>&nbsp;</p>
<p dir="rtl">به کمک<span style="color:#e74c3c">&nbsp;Migration Repository Table</span> لاراول متوجه می شود که کدام <span style="color:#d35400">migration </span>ها <span style="color:#f1c40f">Run </span>شده اند و کدام هنوز اجرا نشده اند. اطلاعات به <span style="color:#f39c12">ترتیب ایجاد و اجرا مایگریشن ها در جدول&nbsp;migrations ذخیره می شود که می توانیم با تنظیم زیر آن را تغییر دهیم</span>.</p>

<div class="code"><p>&#39;<span style="color:#f39c12">migrations</span>&#39; =&gt; &#39;<span style="color:#f39c12">migrations</span>&#39;,</p>
</div>
<p>&nbsp;</p>

<p dir="rtl"><span style="color:#e74c3c">Redis </span>یک<span style="color:#d35400"> سیستم دیتابیسی قدرتمند</span> است که با دستورات قدرتمندتری نسبت به MySQL کار می کند. اساس کار آن<span style="color:#2ecc71"> key-value system</span>&nbsp; است و سیستم های قدرتمندی مانند&nbsp;<span style="color:#9b59b6">APC </span>or <span style="color:#9b59b6">Memcached</span> را در اختیار ما قرار می دهد. <span style="color:#cc0066">لاراول امکان استفاده از این platform را به راحتی برای ما فراهم کرده است</span>.</p>

<div class="code"><p>&#39;<span style="color:#f39c12">redis</span>&#39; =&gt; [</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">client</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">REDIS_CLIENT</span>&#39;, &#39;<span style="color:#f39c12">phpredis</span>&#39;),</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">options</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">cluster</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">REDIS_CLUSTER</span>&#39;, &#39;<span style="color:#f39c12">redis</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">prefix</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">REDIS_PREFIX</span>&#39;, <span style="color:#27ae60">Str</span>::<span style="color:#d35400">slug</span>(<span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">APP_NAME</span>&#39;, &#39;<span style="color:#f39c12">laravel</span>&#39;), &#39;<span style="color:#f39c12">_</span>&#39;).&#39;<span style="color:#f39c12">_database_&#39;</span>),<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">default</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">url</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">REDIS_URL</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">host</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">REDIS_HOST</span>&#39;, &#39;<span style="color:#f39c12">127.0.0.1</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">password</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">REDIS_PASSWORD</span>&#39;, <span style="color:#9b59b6">null</span>),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">port</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">REDIS_PORT</span>&#39;, &#39;<span style="color:#f39c12">6379</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">database</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">REDIS_DB</span>&#39;, &#39;<span style="color:#f39c12">0</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">cache</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">url</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">REDIS_URL</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">host</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">REDIS_HOST</span>&#39;, &#39;<span style="color:#f39c12">127.0.0.1</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">password</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">REDIS_PASSWORD</span>&#39;, <span style="color:#9b59b6">null</span>),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">port</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">REDIS_PORT</span>&#39;, &#39;<span style="color:#f39c12">6379</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">database</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">REDIS_CACHE_DB</span>&#39;, &#39;<span style="color:#f39c12">1</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; ],</p>
</div>


<br />

<p style="text-align:center"><span style="color:#f1c40f">config/cors</span></p>
<br />
<div class="code">
<p><span style="color:#e74c3c">return </span>[</p>

<p>&nbsp; <span style="color:#7f8c8d">&nbsp; /*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Cross-Origin Resource Sharing (CORS) Configuration<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | Here you may configure your settings for cross-origin resource sharing<br />
&nbsp; &nbsp; | or &quot;CORS&quot;. This determines what cross-origin operations may execute<br />
&nbsp; &nbsp; | in web browsers. You are free to adjust these settings as needed.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | To learn more: https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">paths</span>&#39; =&gt; [&#39;<span style="color:#f39c12">api/*</span>&#39;, &#39;<span style="color:#f39c12">sanctum/csrf-cookie</span>&#39;],</p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">allowed_methods</span>&#39; =&gt; [&#39;<span style="color:#f39c12">*</span>&#39;],</p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">allowed_origins</span>&#39; =&gt; [&#39;<span style="color:#f39c12">*</span>&#39;],</p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">allowed_origins_patterns</span>&#39; =&gt; [],</p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">allowed_headers</span>&#39; =&gt; [&#39;<span style="color:#f39c12">*</span>&#39;],</p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">exposed_headers</span>&#39; =&gt; [],</p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">max_age</span>&#39; =&gt; <span style="color:#9b59b6">0</span>,</p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">supports_credentials</span>&#39; =&gt; <span style="color:#9b59b6">false</span>,</p>

<p>];</p>
</div>


<br />

<p style="text-align:center"><span style="color:#f1c40f">config/cache</span></p>
<br />
<p dir="rtl">به کمک کد زیر می توانیم شکل<span style="color:#e74c3c"> ذخیره سازی کش ها</span> را تعیین کنیم.</p>

<div class="code">

<p>&#39;<span style="color:#f39c12">default</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">CACHE_DRIVER</span>&#39;, &#39;<span style="color:#f39c12">file</span>&#39;),</p>
</div>

<br />
<div class="code"><p><span style="color:#7f8c8d">/*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Cache Stores<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | Here you may define all of the cache &quot;stores&quot; for your application as<br />
&nbsp; &nbsp; | well as their drivers. You may even define multiple stores for the<br />
&nbsp; &nbsp; | same cache driver to group types of items stored in your caches.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | </span><span style="color:#c0392b">Supported drivers: &quot;apc&quot;, &quot;array&quot;, &quot;database&quot;, &quot;file&quot;,<br />
&nbsp; &nbsp; | &nbsp; &nbsp; &nbsp; &nbsp; &quot;memcached&quot;, &quot;redis&quot;, &quot;dynamodb&quot;, &quot;octane&quot;, &quot;null&quot;</span><br />
<span style="color:#7f8c8d">&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">stores</span>&#39; =&gt; [</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">apc</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">apc</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">array</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">array</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">serialize</span>&#39; =&gt; <span style="color:#9b59b6">false</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">database</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">database</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">table</span>&#39; =&gt; &#39;<span style="color:#f39c12">cache</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">connection</span>&#39; =&gt; <span style="color:#9b59b6">null</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">lock_connection</span>&#39; =&gt; <span style="color:#9b59b6">null</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">file</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">file</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">path</span>&#39; =&gt; <span style="color:#d35400">storage_path</span>(&#39;f<span style="color:#f39c12">ramework/cache/data</span>&#39;),&nbsp; &nbsp; &nbsp;<span style="color:#7f8c8d"> // important</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">memcached</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">memcached</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">persistent_id</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">MEMCACHED_PERSISTENT_ID</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">sasl</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">MEMCACHED_USERNAME</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">MEMCACHED_PASSWORD</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ],<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">options</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#7f8c8d">// Memcached::OPT_CONNECT_TIMEOUT =&gt; 2000,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ],<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">servers</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">host</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">MEMCACHED_HOST</span>&#39;, &#39;<span style="color:#f39c12">127.0.0.1</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">port</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">MEMCACHED_PORT</span>&#39;, <span style="color:#f39c12">11211</span>),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">weight</span>&#39; =&gt; <span style="color:#9b59b6">100</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ],<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ],<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">redis</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">redis</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">connection</span>&#39; =&gt; &#39;<span style="color:#f39c12">cache</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">lock_connection</span>&#39; =&gt; &#39;<span style="color:#f39c12">default</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">dynamodb</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">dynamodb</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">key</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">AWS_ACCESS_KEY_ID</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">secret</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">AWS_SECRET_ACCESS_KEY</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">region</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">AWS_DEFAULT_REGION</span>&#39;, &#39;<span style="color:#f39c12">us-east-1</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">table</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DYNAMODB_CACHE_TABLE</span>&#39;, &#39;<span style="color:#f39c12">cache</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">endpoint</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">DYNAMODB_ENDPOINT</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">octane</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">octane</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; ],</p>

<p>&nbsp; <span style="color:#7f8c8d">&nbsp; /*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Cache Key Prefix<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | When utilizing a RAM based store such as APC or Memcached, there might<br />
&nbsp; &nbsp; | be other applications utilizing the same cache. So, we&#39;ll specify a<br />
&nbsp; &nbsp; | value to get prefixed to all our keys so we can avoid collisions.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">prefix</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">CACHE_PREFIX</span>&#39;, <span style="color:#27ae60">Str</span>::<span style="color:#d35400">slug</span>(<span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">APP_NAME</span>&#39;, &#39;<span style="color:#f39c12">laravel</span>&#39;), &#39;<span style="color:#f39c12">_</span>&#39;).&#39;<span style="color:#f39c12">_cache</span>&#39;),</p>
</div>


<br />

<p style="text-align:center"><span style="color:#f1c40f">config/broadcasting</span></p>
<br />
<div class="code"><p><span style="color:#7f8c8d">&nbsp;/*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Default Broadcaster<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | This option controls the default broadcaster that will be used by the<br />
&nbsp; &nbsp; | framework when an event needs to be broadcast. You may set this to<br />
&nbsp; &nbsp; | any of the connections defined in the &quot;connections&quot; array below.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | </span><span style="color:#c0392b">Supported: &quot;pusher&quot;, &quot;ably&quot;, &quot;redis&quot;, &quot;log&quot;, &quot;null&quot;</span><br />
<span style="color:#7f8c8d">&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">default</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">BROADCAST_DRIVER</span>&#39;, &#39;<span style="color:#f39c12">null</span>&#39;),</p>

<p>&nbsp; &nbsp; <span style="color:#7f8c8d">/*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Broadcast Connections<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | Here you may define all of the broadcast connections that will be used<br />
&nbsp; &nbsp; | to broadcast events to other systems or over websockets. Samples of<br />
&nbsp; &nbsp; | each available type of connection are provided inside this array.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">connections</span>&#39; =&gt; [</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">pusher</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">pusher</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">key</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">PUSHER_APP_KEY</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">secret</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">PUSHER_APP_SECRET</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">app_id</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">PUSHER_APP_ID</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">options</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">cluster</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">PUSHER_APP_CLUSTER</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">useTLS</span>&#39; =&gt; <span style="color:#9b59b6">true</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ],<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">ably</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">ably</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">key</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">ABLY_KEY</span>&#39;),<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">redis</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">redis</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">connection</span>&#39; =&gt; &#39;<span style="color:#f39c12">default</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">log</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">log</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">null</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">null</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; ],</p>
</div>
<br />

<p style="text-align:center"><span style="color:#f1c40f">config/auth</span></p>
<br />
<p dir="rtl">مواردی زیر نوع عملکرد و پسورد را نشان می دهند که اختیاری هستند و می توانیم آن ها را تغییر دهیم.</p>

<div class="code">
<p>&#39;<span style="color:#f39c12">defaults</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">guard</span>&#39; =&gt; &#39;<span style="color:#f39c12">web</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">passwords</span>&#39; =&gt; &#39;<span style="color:#f39c12">users</span>&#39;,<br />
],</p>
</div>
<br />
<p dir="rtl">تنظیمات مربوط به <span style="color:#d35400">گارد Auth</span> را می توانیم به کمک کدهای زیر انجام دهیم.</p>

<p dir="rtl"><span style="color:#e74c3c">بهترین تنظیم توسط خود لاراول پیاده سازی شده است</span> که براساس آن <span style="color:#9b59b6">Driver</span> روی <span style="color:#e74c3c">سشن </span>است و اطلاعات به کمک<span style="color:#f39c12"> user provider</span> به دیتابیس مرتبط می شوند.</p>
<div class="code">

<p><span style="color:#7f8c8d">/*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Authentication Guards<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | Next, you may define every authentication guard for your application.<br />
&nbsp; &nbsp; | Of course, a great default configuration has been defined for you<br />
&nbsp; &nbsp; | here which uses session storage and the Eloquent user provider.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | </span><span style="color:#f1c40f">Supported: &quot;session&quot;, &quot;token&quot;</span><br />
<span style="color:#7f8c8d">&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">guards</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">web</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">session</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">provider</span>&#39; =&gt; &#39;<span style="color:#f39c12">users</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">api</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">token</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">provider</span>&#39; =&gt; &#39;<span style="color:#f39c12">users</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">hash</span>&#39; =&gt; <span style="color:#9b59b6">false</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],<br />
&nbsp; &nbsp; ],</p>
</div>
<br />
<p dir="rtl">همه&nbsp;<span style="color:#d35400">authentication drivers</span> ها یک <span style="color:#e74c3c">user provider</span> دارند. این&nbsp;<span style="color:#f39c12">user provider تعیین می کند که اطلاعات مربوط به لاگین کاربر چگونه در برنامه ذخیره شود</span>. اگر چندتا محل برای ذخیره اطلاعات مربوط به لاگین کاربر داشتیم می توانیم آن را به<span style="color:#3498db"> آرایه </span>زیر اضافه کنیم.</p>

<div class="code">

<p><span style="color:#7f8c8d">/*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | User Providers<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | All authentication drivers have a user provider. This defines how the<br />
&nbsp; &nbsp; | users are actually retrieved out of your database or other storage<br />
&nbsp; &nbsp; | mechanisms used by this application to persist your user&#39;s data.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | If you have multiple user tables or models you may configure multiple<br />
&nbsp; &nbsp; | sources which represent each model / table. These sources may then<br />
&nbsp; &nbsp; | be assigned to any extra authentication guards you have defined.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | </span><span style="color:#e67e22">Supported: &quot;database&quot;, &quot;eloquent&quot;</span><br />
<span style="color:#7f8c8d">&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">providers</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">users</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">driver</span>&#39; =&gt; &#39;<span style="color:#f39c12">eloquent</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">model</span>&#39; =&gt; <span style="color:#27ae60">App\Models\User</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#7f8c8d">// &#39;users&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; // &nbsp; &nbsp; &#39;driver&#39; =&gt; &#39;database&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; // &nbsp; &nbsp; &#39;table&#39; =&gt; &#39;users&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; // ],</span><br />
&nbsp; &nbsp; ],</p>
</div>
<br />
<p dir="rtl">برای <span style="color:#d35400">reset password یا بازیابی رمز عبور</span> ممکن است ما بخواهیم<span style="color:#f1c40f"> چند جدول</span> داشته باشیم<span style="color:#f1c40f"> یا اینکه جدول آن را از جدول اصلی کاربر جدا کنیم</span> که برای این قبیل کارها می توانیم از تنظیمات زیر استفاده کنیم. اگر نیاز بود که اطلاعات را در <span style="color:#9b59b6">چند جدول داشته باشیم می توانیم آن را به این آرایه اضافه کنیم</span>.</p>

<p dir="rtl"><span style="color:#e74c3c">expire </span>آورده شده دراین پیکربندی ها <span style="color:#d35400">نشان دهنده ی تعداد دقیقه هایی است که توکن مربوط به بازیابی password معتبر است</span>. این ویژگی<span style="color:#ff0066"> مدت زمان پایداری این توکن را محدود می کند. در نتیجه هکرها مدت زمان کمتری برای حدس زدن آن دارند</span>.</p>

<div class="code">

<p><span style="color:#7f8c8d">/*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Resetting Passwords<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | You may specify multiple password reset configurations if you have more<br />
&nbsp; &nbsp; | than one user table or model in the application and you want to have<br />
&nbsp; &nbsp; | separate password reset settings based on the specific user types.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | The expire time is the number of minutes that the reset token should be<br />
&nbsp; &nbsp; | considered valid. </span><span style="color:#d35400">This security feature keeps tokens short-lived so<br />
&nbsp; &nbsp; | they have less time to be guessed</span><span style="color:#7f8c8d">. You may change this as needed.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">passwords</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">users</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">provider</span>&#39; =&gt; &#39;<span style="color:#f39c12">users</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">table</span>&#39; =&gt; &#39;<span style="color:#f39c12">password_resets</span>&#39;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">expire</span>&#39; =&gt; <span style="color:#9b59b6">60</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">throttle</span>&#39; =&gt; <span style="color:#9b59b6">60</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; ],<br />
&nbsp; &nbsp; ],</p>
</div>
<br />

<p dir="rtl">در اینجا شما می توانید<span style="color:#e74c3c"> تعداد ثانیه قبل از تأیید رمز عبور را تعیین کنید</span>. بعد از این مدت اعتبار&nbsp;<span style="color:#d35400">password confirmation</span>&nbsp; به <span style="color:#f1c40f">پایان </span>می رسد.&nbsp; به طور پیش فرض، <span style="color:#ff0099">زمان وقفه سه ساعت طول</span> می کشد.</p>
<div class="code">

<p><span style="color:#7f8c8d">/*<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; | Password Confirmation Timeout<br />
&nbsp; &nbsp; |--------------------------------------------------------------------------<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; | Here you may define the amount of </span><span style="color:#f1c40f">seconds </span><span style="color:#7f8c8d">before a password confirmation<br />
&nbsp; &nbsp; | times out and the user is prompted to re-enter their password via the<br />
&nbsp; &nbsp; | confirmation screen. By default, the timeout lasts for</span><span style="color:#f1c40f"> three hours</span><span style="color:#7f8c8d">.<br />
&nbsp; &nbsp; |<br />
&nbsp; &nbsp; */</span></p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">password_timeout</span>&#39; =&gt; <span style="color:#9b59b6">10800</span>,</p>
</div>
<br />

<p style="text-align:center"><span style="color:#f1c40f">config/app</span></p>
<br />
<p dir="rtl">به کمک کد زیر می توانیم <span style="color:#d35400">نام App یا برنامه خودمان</span> را تعیین کنیم. این نام زمانی که <span style="color:#f1c40f">notification </span>یا<span style="color:#f1c40f"> ایمیل ارسال</span> می کنیم مورد استفاده قرار می گیرد و به <span style="color:#3498db">عنوان فرستنده به کاربر ارسال</span> می شود.</p>
<div class="code"><p>&#39;<span style="color:#f39c12">name</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">APP_NAME</span>&#39;, &#39;<span style="color:#f39c12">Laravel</span>&#39;)</p></div> 
<p dir="rtl">&nbsp;</p>
<p dir="rtl">به کمک کد زیر <span style="color:#f39c12">می توانیم محلی که برنامه در آن در حال اجرا است</span> یا <span style="color:#f39c12">حالت اجرای برنامه را مشخص</span> کنیم. همچنین این تنظیم<span style="color:#e74c3c"> به برنامه می فهماند که پیکربندی ها را چگونه باید بخوند</span>. در حالت <span style="color:#f39c12">local</span> پ<span style="color:#9b59b6">یکربندی ها و تنظمیات آن ها </span>از فایل <span style="color:#e74c3c">env </span>خوانده می شود اما در حالت <span style="color:#d35400">production </span>این تنظیمات از <span style="color:#e74c3c">config cache</span> خوانده می شود.</p>

<div class="code"><p>&#39;<span style="color:#f39c12">env</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">APP_ENV</span>&#39;, &#39;<span style="color:#f39c12">production</span>&#39;)</p>

<p><span style="color:#7f8c8d">in env&nbsp; &nbsp; ==&gt;</span>&nbsp; &nbsp;<span style="color:#f1c40f">APP_ENV</span>=<span style="color:#d35400">local</span></p></div>
 <p dir="rtl">&nbsp;</p>
 <p dir="rtl">به کمک کد زیر می توانیم<span style="color:#d35400"> حالت debug</span> را مشخص کنیم</p>
<div class="code"><p>&#39;<span style="color:#f39c12">debug</span>&#39; =&gt; (<span style="color:#e74c3c">bool</span>) <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">APP_DEBUG</span>&#39;, <span style="color:#9b59b6">false</span>),</p>

<p><span style="color:#7f8c8d">in env&nbsp; &nbsp; ==&gt;&nbsp;</span><span style="color:#f1c40f">APP_DEBUG</span><span style="color:#7f8c8d">=</span><span style="color:#9b59b6">true</span></p></div> 
<p dir="rtl">&nbsp;</p>
<p dir="rtl">زمانی که از&nbsp;<span style="color:#f39c12">Artisan command line</span> استفاده می کنیم از این پیکربندی برای <span style="color:#d35400">generate لینک ها و url ها استفاده می شود</span>. این پیکربندی کلا باری زمانی است که <span style="color:#e74c3c">از دستورات و task های مربوط به آرتیسان استفاده می شود</span>.</p>
<div class="code"><p>&#39;<span style="color:#f39c12">url</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">APP_URL</span>&#39;, &#39;<span style="color:#f39c12">http://localhost</span>&#39;),</p>

<p>&#39;<span style="color:#f39c12">asset_url</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">ASSET_URL</span>&#39;, <span style="color:#9b59b6">null</span>),</p></div>
<p>&nbsp;</p>
<p dir="rtl">به کمک کد زیر می توانیم<span style="color:#f39c12"> time zone</span> برنامه را مشخص کنیم&nbsp;</p> 
<div class="code"><p>&#39;<span style="color:#f39c12">timezone</span>&#39; =&gt; &#39;<span style="color:#f39c12">UTC</span>&#39;</p></div>

<p>&nbsp;</p>

<p dir="rtl">به کمک کد زیر می توانیم<span style="color:#e74c3c"> زبان برنامه را تعیین کنیم</span> تا <span style="color:#ff0066">ترجمه از view/lang </span>خوانده شود.</p> 
<div class="code"><p>&#39;<span style="color:#f39c12">locale</span>&#39; =&gt; &#39;<span style="color:#f39c12">en</span>&#39;,</p></div>
<p>&nbsp;</p>

<p dir="rtl">گاهی تنظیماتی که در<span style="color:#e74c3c"> بخش قبل برای زبان برنامه انجام شده است صحیح نیست</span> یا <span style="color:#ff0066">اسم تعیین شده با پوشه ترجمه مطابقت ندارد</span>. یا مشکلی دیگر وجود دارد که<span style="color:#f39c12"> لاراول نمی تواند ترجمه ها را بخواند</span>. در این صورت <span style="color:#e74c3c">ارور برگشت داده نمی شود</span> و تنظیم <span style="color:#cc0066">روی این مورد زیر switch می شود. این مورد برای جلوگیری از ارورهای احتمالی در view&nbsp; ها است</span>.</p> 
<div class="code"><p>&#39;<span style="color:#f39c12">fallback_locale</span>&#39; =&gt; &#39;<span style="color:#f39c12">en</span>&#39;,</p>
</div> <p>&nbsp;</p>
<p dir="rtl">تنظیم زیر برای&nbsp;<span style="color:#e74c3c">Faker PHP library</span> تا به واسطه آن<span style="color:#d35400"> دیتاهای fake برای دیتابیس</span> تولید کند.</p>
<div class="code"><p>&#39;<span style="color:#f39c12">faker_locale</span>&#39; =&gt; &#39;<span style="color:#f39c12">en_US</span>&#39;,</p>
</div> 
<p>&nbsp;</p>

<p dir="rtl">در این قسمت پیکربندی مربوط به <span style="color:#d35400">encrypt Key</span> قرار دارد.&nbsp; این کلید <span style="color:#e74c3c">توسط سرویس رمزنگاری Illuminate</span> استفاده می شود و باید به <span style="color:#f39c12">یک رشته تصادفی، 32 نویسه</span> تنظیم شود، <span style="color:#9b59b6">در غیر</span> این صورت این رشته های رمزگذاری شده<span style="color:#d35400"> ایمن نخواهد بود</span>. در هنگام <span style="color:#ff0066">نصب لاراول این کار به صورت خودکار انجام می شود و یک شته رمز نگاری شده در فایل env ست</span> می شود.</p>
<div class="code"><p><br />
&nbsp; &nbsp; &#39;<span style="color:#f39c12">key</span>&#39; =&gt; <span style="color:#3498db">env</span>(&#39;<span style="color:#f39c12">APP_KEY</span>&#39;),</p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">cipher</span>&#39; =&gt; &#39;<span style="color:#f39c12">AES-256-CBC</span>&#39;,</p></div>
<p dir="rtl">&nbsp;</p>
<p dir="rtl">در قسمت زیر <span style="color:#ff0066">لیست تمام&nbsp;Service Provider</span>&nbsp; هایی که به صورت <span style="color:#f39c12">خودکار </span>در زمان<span style="color:#3498db"> شروع کار برنامه</span> load می شوند، آورده شده است. در حالت عادی اگر <span style="color:#f39c12">سرویس جدیدی</span> اضافه کنیم، لاراول <span style="color:#e74c3c">نمی تواند آن را شناسایی کند مگر اینکه آن را به این لیست اضافه کنیم</span>.</p> 
<div class="code"><p>&#39;<span style="color:#d35400">providers</span>&#39; =&gt; [</p>

<p>&nbsp; &nbsp; &nbsp; <span style="color:#7f8c8d">&nbsp; /*<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* Laravel Framework Service Providers...<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</span><br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#27ae60"> Illuminate\Auth\AuthServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; <span style="color:#27ae60">&nbsp; Illuminate\Broadcasting\BroadcastServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; <span style="color:#27ae60">&nbsp; &nbsp; Illuminate\Bus\BusServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp;<span style="color:#27ae60"> &nbsp; Illuminate\Cache\CacheServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#27ae60"> Illuminate\Foundation\Providers\ConsoleSupportServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
<span style="color:#27ae60">&nbsp; &nbsp; &nbsp; &nbsp; Illuminate\Cookie\CookieServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; <span style="color:#27ae60">&nbsp; &nbsp; &nbsp; Illuminate\Database\DatabaseServiceProvider:</span>:<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#27ae60"> Illuminate\Encryption\EncryptionServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; <span style="color:#27ae60">&nbsp; Illuminate\Filesystem\FilesystemServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#27ae60">Illuminate\Foundation\Providers\FoundationServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; <span style="color:#27ae60">&nbsp; &nbsp; Illuminate\Hashing\HashServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; <span style="color:#27ae60">&nbsp; Illuminate\Mail\MailServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; <span style="color:#27ae60">&nbsp; Illuminate\Notifications\NotificationServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#27ae60"> Illuminate\Pagination\PaginationServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; <span style="color:#27ae60">&nbsp; Illuminate\Pipeline\PipelineServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#27ae60"> Illuminate\Queue\QueueServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#27ae60"> Illuminate\Redis\RedisServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#27ae60"> Illuminate\Auth\Passwords\PasswordResetServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; <span style="color:#27ae60">&nbsp; Illuminate\Session\SessionServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#27ae60"> Illuminate\Translation\TranslationServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#27ae60"> Illuminate\Validation\ValidationServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp;<span style="color:#27ae60"> &nbsp; Illuminate\View\ViewServiceProvider</span>::<span style="color:#9b59b6">class</span>,</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#7f8c8d">/*<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* Package Service Providers...<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</span></p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#7f8c8d">/*<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;* Application Service Providers...<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*/</span><br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#27ae60"> App\Providers\AppServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#27ae60">App\Providers\AuthServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; <span style="color:#7f8c8d">&nbsp; // App\Providers\BroadcastServiceProvider::class,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#27ae60"> App\Providers\EventServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#27ae60"> App\Providers\RouteServiceProvider</span>::<span style="color:#9b59b6">class</span>,</p>

<p>&nbsp; &nbsp; ],<br />
&nbsp;</p></div> 
<p>&nbsp;</p>
<p dir="rtl">در این بخش لیستی از<span style="color:#e74c3c"> نام های مستعار</span> برای برخی از<span style="color:#d35400"> دستورات لاراول و کلاس های آن آمده</span> است. این لیست همراه شروع برنامه اجرا می شوند. در <span style="color:#f1c40f">حقیقت نام های مستعار lazy laod هستند و&nbsp;مانع عملکرد نمی شوند</span>.</p>
<div class="code"><p>lazy&nbsp; &nbsp;تنبل</p>

<p>&nbsp;</p>

<p>&#39;<span style="color:#d35400">aliases</span>&#39; =&gt; [</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">App</span>&#39; =&gt; <span style="color:#27ae60">Illuminate\Support\Facades\App</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Arr</span>&#39; =&gt; <span style="color:#27ae60">Illuminate\Support\Arr</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Artisan</span>&#39; =&gt;<span style="color:#27ae60"> Illuminate\Support\Facades\Artisan</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Auth</span>&#39; =&gt;<span style="color:#27ae60"> Illuminate\Support\Facades\Auth</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Blade</span>&#39; =&gt;<span style="color:#27ae60"> Illuminate\Support\Facades\Blade</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Broadcast</span>&#39; =&gt;<span style="color:#27ae60"> Illuminate\Support\Facades\Broadcast</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Bus</span>&#39; =&gt;<span style="color:#27ae60"> Illuminate\Support\Facades\Bus</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Cache</span>&#39; =&gt;<span style="color:#27ae60"> Illuminate\Support\Facades\Cache</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Config</span>&#39; =&gt;<span style="color:#27ae60"> Illuminate\Support\Facades\Config</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Cookie</span>&#39; =&gt; <span style="color:#27ae60">Illuminate\Support\Facades\Cookie</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Crypt</span>&#39; =&gt;<span style="color:#27ae60"> Illuminate\Support\Facades\Crypt</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Date</span>&#39; =&gt; <span style="color:#27ae60">Illuminate\Support\Facades\Date</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">DB</span>&#39; =&gt;<span style="color:#27ae60"> Illuminate\Support\Facades\DB</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Eloquent</span>&#39; =&gt; <span style="color:#27ae60">Illuminate\Database\Eloquent\Model</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Event</span>&#39; =&gt;<span style="color:#27ae60"> Illuminate\Support\Facades\Event</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">File</span>&#39; =&gt; <span style="color:#27ae60">Illuminate\Support\Facades\File:</span>:<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Gate</span>&#39; =&gt;<span style="color:#27ae60"> Illuminate\Support\Facades\Gate</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Hash</span>&#39; =&gt;<span style="color:#27ae60"> Illuminate\Support\Facades\Hash</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Http</span>&#39; =&gt;<span style="color:#27ae60"> Illuminate\Support\Facades\Http</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Lang</span>&#39; =&gt;<span style="color:#27ae60"> Illuminate\Support\Facades\Lang</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Log</span>&#39; =&gt;<span style="color:#27ae60"> Illuminate\Support\Facades\Log</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Mail</span>&#39; =&gt;<span style="color:#27ae60"> Illuminate\Support\Facades\Mail</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Notification</span>&#39; =&gt; <span style="color:#27ae60">Illuminate\Support\Facades\Notification</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Password</span>&#39; =&gt; <span style="color:#27ae60">Illuminate\Support\Facades\Password</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Queue</span>&#39; =&gt;<span style="color:#27ae60"> Illuminate\Support\Facades\Queue</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">RateLimiter</span>&#39; =&gt; <span style="color:#27ae60">Illuminate\Support\Facades\RateLimiter</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Redirect</span>&#39; =&gt; <span style="color:#27ae60">Illuminate\Support\Facades\Redirect</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#7f8c8d"> // &#39;Redis&#39; =&gt; Illuminate\Support\Facades\Redis::class,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Request</span>&#39; =&gt; <span style="color:#27ae60">Illuminate\Support\Facades\Request</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Response</span>&#39; =&gt;<span style="color:#27ae60"> Illuminate\Support\Facades\Response</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Route</span>&#39; =&gt;<span style="color:#27ae60"> Illuminate\Support\Facades\Route</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Schema</span>&#39; =&gt; <span style="color:#27ae60">Illuminate\Support\Facades\Schema</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Session</span>&#39; =&gt; <span style="color:#27ae60">Illuminate\Support\Facades\Session</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Storage</span>&#39; =&gt; <span style="color:#27ae60">Illuminate\Support\Facades\Storage</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Str</span>&#39; =&gt; <span style="color:#27ae60">Illuminate\Support\Str</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">URL</span>&#39; =&gt; <span style="color:#27ae60">Illuminate\Support\Facades\URL</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">Validator</span>&#39; =&gt; <span style="color:#27ae60">Illuminate\Support\Facades\Validator</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">View</span>&#39; =&gt; <span style="color:#27ae60">Illuminate\Support\Facades\View</span>::<span style="color:#9b59b6">class</span>,</p>

<p>&nbsp; &nbsp; ],</p>
</div> 




<br />
<br />
<br />
<h2 class="y">------   Auth Choice in laravel 8   ------</h2> 
<br />
<p dir="rtl">برای سیستم <span style="color:#e74c3c">authentication &nbsp;</span>لاراول می توانیم از پکیج های زیر استفاده کنیم.</p>

<div class="code"><p><br />
1. <span style="color:#d35400">Laravel Breeze</span></p>

<p><span style="color:#9b59b6">composer </span><span style="color:#d35400">require </span><span style="color:#e74c3c">laravel/breeze --dev</span></p></div> 
<p dir="rtl">بعد از نصب breeze با دستورات زیر می توانیم <span style="color:#9b59b6">بک اند و فرانت اند</span> را مدیریت کنیم</p>

<div class="code"><p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan</span> <span style="color:#e74c3c">breeze:install&nbsp;</span></p>

<p><span style="color:#27ae60">npm </span><span style="color:#d35400">install&nbsp;</span><br />
<span style="color:#27ae60">npm </span><span style="color:#d35400">run </span><span style="color:#e74c3c">dev&nbsp;</span></p>

<p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#e74c3c">migrate</span></p></div> 

<p dir="rtl">سپس به روت های <span style="color:#f39c12">login </span>/ &nbsp;<span style="color:#f39c12">register&nbsp;</span>بروید تا صفحات اجرا شوند.</p>

<p dir="rtl">روت های <span style="color:#27ae60">laravel Breeze &nbsp;authentication</span> &nbsp;داخل فایل &nbsp;<span style="color:#d35400">routes/auth.php</span> تعریف شده اند.</p>

<p dir="rtl">لاراول <span style="color:#f1c40f">Breeze </span>یک نمای <span style="color:#27ae60">فرانت </span>با <span style="color:#e74c3c">Inertia </span>ارائه می دهد که شما می تواتید آن را با <span style="color:#e74c3c">vue </span>یا <span style="color:#e74c3c">react </span>شخصی سازی کنید.</p>

<div class="code"><p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#e74c3c">breeze:install</span> <span style="color:#2ecc71">vue&nbsp;</span></p>

<p><span style="color:#7f8c8d">// Or...&nbsp;</span></p>

<p><span style="color:#9b59b6">php</span> <span style="color:#d35400">artisan </span><span style="color:#e74c3c">breeze:install </span><span style="color:#3498db">react</span></p>

<p><span style="color:#27ae60">npm </span><span style="color:#9b59b6">install&nbsp;</span><br />
<span style="color:#27ae60">npm </span><span style="color:#e67e22">run </span><span style="color:#9b59b6">dev&nbsp;</span></p>

<p><span style="color:#9b59b6">php</span> <span style="color:#d35400">artisan </span><span style="color:#e74c3c">migrate</span></p></div> 
<p>&nbsp;</p>

<div class="code"><p>2.&nbsp;<span style="color:#d35400"> Laravel Jetstream</span></p>

<p>3.&nbsp;<span style="color:#d35400"> Laravel ui</span></p>

<p dir="rtl">&nbsp;</p></div> 


<p dir="rtl">در بین این موارد <span style="color:#e74c3c">Jetstream </span>از همه <span style="color:#9b59b6">قوی </span>تر است.</p>

<p dir="rtl">ویژگی های <span style="color:#9b59b6">Jetstream&nbsp;</span></p>

<div class="code">
<p>-- login<br />
-- registration<br />
-- email verification<br />
-- two-factor authentication<br />
-- session management<br />
-- API support via Laravel Sanctum<br />
-- optional team management<br />
-&nbsp; use livewire &nbsp;or &nbsp;Inertia</p>

</div> 
<p dir="rtl">&nbsp;</p>

<h2 class="y">------   javascript & css  Scaffolding   ------</h2> 
<p dir="rtl">&nbsp;</p>
<p>Scaffolding ==&gt; اسکت بندی</p>

<p dir="rtl">برای استفاده از&nbsp;<br />
<span style="color:#9b59b6">bootstrap</span>.css<br />
<span style="color:#2ecc71">vue</span><br />
<span style="color:#3498db">React</span></p>

<p dir="rtl">برای اینکار ما &nbsp;برای آن که راحت تر باشده کارمون از&nbsp; <span style="color:#d35400">laravel UI&nbsp;</span>استفاده می کنیم.&nbsp;زمانی که دستورات این پکیج را اجرا می کنیم مثلا برای بوت استرپ&nbsp;می آید فایل های بوت استرپ را دانلود و خودش آن ها را با&nbsp; <span style="color:#e74c3c">laravel MIX</span><span style="color:#27ae60">&nbsp;</span>منطبق می کند تا شما به راحتی از آن ها استفاده کنید</p>

<p dir="rtl"><br />
-- قدم اول &nbsp;نصب &nbsp; لاراول &nbsp;یو آی به<span style="color:#e67e22"> سایت&nbsp;لاراول </span>بروید بخش<br />
frontend &nbsp;==&gt; <span style="color:#e74c3c">Scaffolding</span></p>

<p dir="rtl">در لاراول&nbsp; 8&nbsp; به جای لاراول یو آی به سمت&nbsp;<span style="color:#9b59b6">jetstream </span>رفته اند اما <span style="color:#f1c40f">هنوز </span>امکان استفاده از<span style="color:#2ecc71">&nbsp;laravel UI&nbsp;</span>وجود دارد و باید به&nbsp; <span style="color:#9b59b6">github&nbsp;</span>برویم تا دستورات نصب آن را ببینیم</p>

<div class="code">

<p><span style="color:#f1c40f">https://github.com/laravel/ui</span></p>

<p><br />
composer require laravel/ui&nbsp; &nbsp; <span style="color:#7f8c8d">// ===&gt;&nbsp; install</span></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#7f8c8d">// Generate basic scaffolding...</span></p>

<p><br />
<span style="color:#9b59b6">php </span><span style="color:#d35400">artisan</span> <span style="color:#2ecc71">ui </span><span style="color:#e74c3c">bootstrap</span><br />
<span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#2ecc71">ui</span> <span style="color:#e74c3c">vue</span><br />
<span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#2ecc71">ui</span> <span style="color:#e74c3c">react</span><br />
&nbsp;</p></div> 
<p>&nbsp;</p>

<h2 class="y">---   deployment  & production    ---</h2> 
<p>&nbsp;</p>

<p dir="rtl">مراحل <span style="color:#d35400">deployment &nbsp;</span>و<span style="color:#e74c3c"> آپلود روی سرور</span>- <span style="color:#9b59b6">production&nbsp;</span></p>

<p dir="rtl"><br />
لاراول <span style="color:#f39c12">Forge </span>یک <span style="color:#2ecc71">حالت هاستینگ</span> است که به ما در<span style="color:#3498db"> اپلود و بالا اوردن پروژه لاراولی</span> کمک می کند و در واقع <span style="color:#e67e22">هاست اختصاصی</span><span style="color:#e74c3c"> برنامه های php</span> برای استفاده از<span style="color:#d35400"> هر پایگاه داده ای و web server</span>&nbsp;هست. <span style="color:#f1c40f">nginx</span>-<span style="color:#f1c40f">mysql</span>-...</p>

<p dir="rtl">همچنین می توانین از <span style="color:#e74c3c">Laravel Vapor </span>استفاده کنیم که برپایه <span style="color:#d35400">AWS</span>&nbsp;آمازون است و<span style="color:#f1c40f"> نباید درگیر پیچیدگی های پیکربندی سرور</span> شویم.</p>

<p dir="rtl"><span style="color:#e74c3c">هاست </span>باید ویژگی های زیر را داشته باشد</p>

<div class="code"><p><br />
PHP <span style="color:#e74c3c">&gt;= 7.3</span><br />
BCMath PHP Extension<br />
Ctype PHP Extension<br />
Fileinfo PHP Extension<br />
<span style="color:#e74c3c">JSON PHP Extension</span><br />
Mbstring PHPExtension<br />
OpenSSL PHP Extension<br />
<span style="color:#d35400">PDO PHP Extension</span><br />
<span style="color:#d35400">Tokenizer </span>PHP Extension</p></div>
<p>&nbsp;</p>
<p dir="rtl"><span style="color:#ff0066">1</span>. در هنگام&nbsp;<span style="color:#9b59b6">develop&nbsp;</span>پروژه لاگ هایی داشتیم که در <span style="color:#e67e22">فایل storage/log</span> ذخیره شده اند. ابتدا&nbsp; این لاگ ر<span style="color:#ff0066">ا پاک کنید تا لاگ هایی که روی سرور ایجاد میشوند را بتوانید ببینید و با این موارد قاطی نشوند</span>.</p>

<p>ctrl + a &nbsp; =&gt; <span style="color:#f39c12">delete</span></p>
<p>&nbsp;</p>
<p dir="rtl"><span style="color:#ff0066">2</span>. حالا&nbsp;5&nbsp; دقیقه صبر کنید تا ببینید<span style="color:#f39c12"> لاگ اروری برای شما ثبت</span> می شود. اگر اروری ثبت شد آن را <span style="color:#e74c3c">برطرف </span>کنید. معمولا به<span style="color:#d35400"> توابعی که داخل&nbsp; helper.php تعریف کردیم</span> گیر می دهد که در این صورت <span style="color:#ff0066">برای حل مشکل به شکل زیر توابع را داخل&nbsp;if قرار می دهیم</span></p>

<div class="code"><p><span style="color:#e74c3c">if</span>(<span style="color:#e74c3c">!</span><span style="color:#3498db">function_exists</span>(&#39;<span style="color:#f39c12">generateFileName</span>&#39;)){<br />
&nbsp; &nbsp; function <span style="color:#27ae60">generateFileName</span>($name){<br />
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;<br />
&nbsp; &nbsp; }<br />
}</p></div>

<p dir="rtl"><br />
<span style="color:#ff0066">3</span>. حتما یادمان باشد جاهایی که مربوط به&nbsp;مثلا لاگین با گوگل و&nbsp; ... بوده است را<span style="color:#d35400"> حتما قبل از اپلود پروژه دامنه های آن ها را درست</span> کنیم</p>

<p dir="rtl">بهترین کار این است که در<span style="color:#e67e22"> طی ایجاد پروژه کی فایل&nbsp;txt بنویسید</span> و <span style="color:#f39c12">تمام مواردی که باید در زمان اپلود روی هایت تغییر دهید</span> را در آن ذکر کنید <span style="color:#ff0066">در این صورت مرحله به مرحله تمام الزامات را می نویسید و چیزی از قلم نمی افتد و کارتان راحت تر می شود</span></p>
<p>&nbsp;</p>

<p dir="rtl"><span style="color:#ff0099">4</span>.<span style="color:#f39c12"> زمان اپلود</span> باید مطمئن شویم که کلاس های <span style="color:#9b59b6">autoloader</span> &nbsp;<span style="color:#e74c3c">بهینه </span>شده است تا کامپوزر بتواند <span style="color:#f39c12">به سرعت فایل ها</span> را پیدا و بارگذاری کند. این کار را با دستور زیر انجام می دهیم.</p>
<div class="code"><p>
<span style="color:#9b59b6">composer </span><span style="color:#e74c3c">install </span><span style="color:#d35400">--optimize-autoloader</span> <span style="color:#f1c40f">--no-dev</span></p></div> 
<p>&nbsp;</p>


<p dir="rtl"><span style="color:#ff0099">5</span>. در هنگام آپلود پروژه روی هاست باید <span style="color:#9b59b6">مطمئن شویم</span> <span style="color:#2ecc71">composer.lock.json</span> داخل پروژه باشد. این <span style="color:#ff0099">فایل سرعت نصب وابستگی های پروژه را افزایش</span> می دهد.</p>
<p>&nbsp;</p>


<p dir="rtl"><span style="color:#ff0099">6</span>. باید <span style="color:#e74c3c">APP_DEBUG </span>را از داخل فایل <span style="color:#f1c40f">env </span>برابر <span style="color:#e74c3c">false </span>قرار دهیم تا <span style="color:#9b59b6">ارورها و مشکلات و اطلاعات حساس به کاربرها</span> نمایش داده <span style="color:#3498db">نشود</span>.</p>

<p dir="rtl">&nbsp;</p>

<p dir="rtl"><span style="color:#ff0099">7</span>. حالا اطلاعات&nbsp;<span style="color:#f1c40f">env.</span>&nbsp;قرار می دهیم&nbsp;البته می توانیم ایم موارد را<span style="color:#e74c3c"> قبل از اپلود بسازیم</span> و قرار دهیم تا <span style="color:#d35400">بتوانیم دستورات مربوط به&nbsp;prodiction مثل همان کش کردن کانفیگ و&nbsp;.. راه هم برای افزایش سرعت برنامه بزنیم</span>&nbsp;</p>

<p dir="rtl">داخل <span style="color:#f1c40f">env </span>تنها باید&nbsp;<span style="color:#e74c3c">نام دستابیس</span> و <span style="color:#e74c3c">username </span>و <span style="color:#e74c3c">password </span>را وارد کنیم&nbsp;</p>
<p dir="rtl">&nbsp;</p>


<p dir="rtl"><span style="color:#ff0066">8</span>. حالا باید <span style="color:#e74c3c">تمام کش هایی</span> که داخل&nbsp;<span style="color:#d35400">storage </span>هستند را <span style="color:#f1c40f">پاک کنیم</span> که برای این کار می توانیم از <span style="color:#e67e22">ارتیسان </span>استفاده کنیم&nbsp;</p>

<p dir="rtl">می توانیم کش ها را <span style="color:#d35400">جداگانه با دستورات مربوط به هرکدام پاک کنیم</span>&nbsp;</p>
<div class="code"><p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan</span>&nbsp; &nbsp;<span style="color:#e74c3c">view:clear &nbsp;</span><br />
<span style="color:#9b59b6">php </span><span style="color:#d35400">artisan</span>&nbsp; &nbsp;<span style="color:#e74c3c">route:clear &nbsp;&nbsp;</span><br />
<span style="color:#9b59b6">php </span><span style="color:#d35400">artisan&nbsp;&nbsp;</span> <span style="color:#e74c3c">event:clear &nbsp;</span><br />
<span style="color:#9b59b6">php </span><span style="color:#d35400">artisan</span>&nbsp; &nbsp;<span style="color:#e74c3c">cache:clear &nbsp;</span><br />
<span style="color:#9b59b6">php </span><span style="color:#d35400">artisan</span>&nbsp; &nbsp;<span style="color:#e74c3c">config:clear &nbsp;</span></p></div>

<p dir="rtl"><br />
اما لاراول برای<span style="color:#3498db"> راحتی کار</span> خودش<span style="color:#f39c12"> یک دستور دارد که همه این کارها را به سرعت برای ما انجام می دهد.</span>&nbsp;به جای دستورات بالا می توانیم از این مورد استفاده کنیم.&nbsp;</p>
<div class="code"><p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan</span> <span style="color:#e74c3c">optimize:clear&nbsp; &nbsp;</span><span style="color:#7f8c8d">===&gt; best</span></p></div>
<p dir="rtl">&nbsp;</p>
<p dir="rtl"><span style="color:#ff0066">9</span>. حالا باید &nbsp;از<span style="color:#f39c12"> دیتابیس هم خروجی</span> بگیریم&nbsp;</p>

<p dir="rtl">&nbsp;</p>
<p dir="rtl"><span style="color:#ff0099">10</span>. باید دستور زیر را اجرا کنیم تا <span style="color:#3498db">تمام فایل</span> های <span style="color:#f39c12">config </span>را <span style="color:#e74c3c">یکی </span>کرده و<span style="color:#e74c3c"> آن ها را کش کند</span> تا سرعت اجرای برنامه <span style="color:#f1c40f">چند برابر</span> شود.</p>
<div class="code"><p>
<span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#e74c3c">config:cache</span></p></div> 
<p dir="rtl">&nbsp;</p>
<p dir="rtl"><span style="color:#ff0099">11</span>.باید از دستور زیر استفاده کنیم تا <span style="color:#f39c12">تمام روت های ما را داخل یک متود</span> و<span style="color:#f39c12"> یک فایل</span> قرار دهد و آن ها را <span style="color:#e74c3c">کش کند</span> تا <span style="color:#e74c3c">سرعت فراخوانی روت ها </span>افزایش یابد.</p>

<div class="code"><p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#e74c3c">route:cache</span></p>
</div>
<p dir="rtl">اگر دستور&nbsp;<span style="color:#f1c40f">php&nbsp;artisan&nbsp;route:cache&nbsp;</span> را بزنیم یک<span style="color:#e67e22"> فایل کش برای روت ها </span>ساخته می شود و در مسیر&nbsp;<span style="color:#e74c3c">bootstrap\cache\routes-v7.php </span>قرار می گیرد. دیگر روت ها از فایل های روت<span style="color:#9b59b6"> خوانده نمی شود</span>. برای خواندن دوباره روت ها باید <span style="color:#e74c3c">این فایل را پاک کنیم</span> و روت ها را اضافه کنیم و در صورت نیاز<span style="color:#2ecc71"> دوباره دستور کش کردن</span> بدهیم.</p>
<p dir="rtl">&nbsp;</p>

 <p dir="rtl"><span style="color:#ff0099">12</span>. باید حتما دستور زیر را اجرا کنیم تا <span style="color:#9b59b6">تمام فایل های blade</span> را <span style="color:#e74c3c">کامپایل</span> کند و در دسترس قرار دهد تا&nbsp;<span style="color:#d35400">برای درخواست فایل ها دوباره کامپایل نشوند</span>. این کار<span style="color:#f39c12"> سرعت فراخوانی صفحات را به شدت افزایش</span> می دهد.</p>
<div class="code"><p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#e74c3c">view:cache</span></p></div> 

<p>&nbsp;</p>

<p dir="rtl"><span style="color:#ff0066">13</span>. حالا تمام فایل ها &nbsp;<span style="color:#e74c3c">به جز&nbsp;node_modules</span> را<span style="color:#d35400"> زیپ (ZIP)</span>&nbsp;می کنیم و<span style="color:#f1c40f"> روی سرور آپلود</span> می کنیم. چون <span style="color:#9b59b6">حجم این پوشه زیاد</span> است و <span style="color:#3498db">نیازی به آن نداریم،&nbsp;نیازی نیست الکی آن را آپلود کنیم</span>.&nbsp;<br />
همه فایل ها مربوط &nbsp;node_modules <span style="color:#e67e22">کامپایل </span>شده اند و <span style="color:#2ecc71">نیازی به فایل ها خام آن ها نیست.&nbsp;</span></p>

<p dir="rtl"><br />
چون از <span style="color:#e74c3c">سرور لینوکسی</span> استفاده می کنیم باید&nbsp;<span style="color:#d35400">zip </span>کنیم&nbsp;و <span style="color:#ff0066">نه&nbsp;rar&nbsp;چون&nbsp;rar شناسایی نمی شود در سرور لینوکسی</span></p>

<p dir="rtl">&nbsp;</p>

 <p dir="rtl"><span style="color:#ff0099">14</span>. مطمئن شویم که فایل <span style="color:#e74c3c">index </span>داخل پوشه <span style="color:#d35400">public &nbsp;</span>باشد.</p>

<p>&nbsp;</p>

<p dir="rtl">
حاالا محتویات پوشه&nbsp;<span style="color:#f1c40f">public </span>را داخل&nbsp; <span style="color:#e74c3c">public_html </span>قرار می دهیم و <span style="color:#d35400">سایرین را خارج این پوشه</span></p>

<p dir="rtl">داخل فایل&nbsp; <span style="color:#f1c40f">public/ index.php</span> <span style="color:#e74c3c">مسیر های مربوط به راه اندازی کل بخش های لاراول قرار دارد</span> که اگر <span style="color:#d35400">خواستیم پوشه بندی خاصی انجام دهیم باید این مسیر ها را ویرایش</span> کنیم</p>

<p dir="rtl">مثلا می خواهیم <span style="color:#e67e22">خارج&nbsp; public_html</span> یک پوشه&nbsp; <span style="color:#ff0066">core </span>بسازیم و محتویات دیگر<span style="color:#3498db"> بجز&nbsp;public</span> را در آن قرار دهیم در<span style="color:#27ae60"> نتیجه باید مسیر های&nbsp; index.php به شکل زیر باشد</span></p>
<div class="code"><p><br />
<span style="color:#e74c3c">if </span>(<span style="color:#3498db">file_exists</span>(<span style="color:#e67e22">__DIR__</span>.&#39;<span style="color:#f39c12">/../core/storage/framework/maintenance.php</span>&#39;)) {<br />
&nbsp; &nbsp; <span style="color:#e74c3c">require </span><span style="color:#e67e22">__DIR__</span>.&#39;<span style="color:#f39c12">/../core/storage/framework/maintenance.php</span>&#39;;<br />
}</p>

<p><span style="color:#e74c3c">__DIR__ &nbsp;</span>==&gt;&nbsp; &nbsp;<span style="color:#f1c40f">public_html&nbsp;</span>اشاره به پوشه&nbsp;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;</p></div>

<p>&nbsp;</p>


<p dir="rtl"><span style="color:#ff0066">15</span>. حالا باید <span style="color:#f39c12">دیتابیس را&nbsp;روی هاست بسازیم و اطلاعات آن را ذخیره کنیم</span></p>


<p>&nbsp;</p>
<p>&nbsp;</p>


<h2 class="y">--  Request &nbsp; &nbsp;Lifecycle   --</h2>
<p>&nbsp;</p>

<p dir="rtl">Request &nbsp;&nbsp; ==> &nbsp;&nbsp; Response  </p>
<p dir="rtl">
یعنی زمانی که یک درخواست به لاراول می آید چه مراحلی طی می شود تا به آن درخواست پاسخ داده شود.</p>
<br />
<p dir="rtl"><span style="color:#f1c40f">تمام درخواست ها</span> به برنامه لاراولی به <span style="color:#8e44ad">public/index.php</span> &nbsp;هدایت می شود و این <span style="color:#e74c3c">نقطه شروع </span>است.<br />
سپس <span style="color:#e67e22">کامپوزر </span>و <span style="color:#e67e22">autoloader </span>ان <span style="color:#e74c3c">در</span> فایل index فراخوانی می شوند. سپس <span style="color:#f39c12">بوت استرپ</span> فراخوانی می شود و به عنوان <span style="color:#9b59b6">اولین اقدام</span> یک <span style="color:#d35400">instance </span>از <span style="color:#e74c3c">application </span>ساخته می شود.<br />
سپس درخواست به <span style="color:#d35400">HTTP kernel</span>&nbsp; &nbsp;or&nbsp; &nbsp;<span style="color:#d35400">console kernel</span> ارسال می شود که <span style="color:#f39c12">نقطه شروع تمام درخواست ها</span> هستند.&nbsp;&nbsp;app/Http/Kernel.php</p>

<p>&nbsp;</p>

<p dir="rtl"><br />
در فایل <span style="color:#8e44ad">HTTP kernel </span>دستوراتی وجود دارد که از یک <span style="color:#9b59b6">کلاس دیگر</span> <span style="color:#e74c3c">extend </span>شده اند. در این کلاس یک <span style="color:#d35400">bootstraper </span>وجود دارد که تعیین می کند قبل از اجرای درخواست باید<span style="color:#e74c3c"> ارورها</span>-<span style="color:#e74c3c">لاگ ها </span>هندل شوند و <span style="color:#e74c3c">متغییرهای env</span> هم فراخوانی شوند.</p>

<p dir="rtl">بعد از این مرحله <span style="color:#d35400">middleware </span>ها- <span style="color:#d35400">maintenance mode</span> - <span style="color:#d35400">csrf token</span> و <span style="color:#f39c12">سشن ها</span> بررسی می شوند.</p>

<p dir="rtl">یک بخش مهم دیگر kernel &nbsp;که راه اندازی می شوند <span style="color:#e74c3c">service provider</span> ها هستند. <span style="color:#27ae60">تمام سرویس providers</span> در مسیر زیر قرار داند.&nbsp;</p>

<p dir="rtl"><span style="color:#f1c40f">config/app.php</span> &nbsp;=&gt;&nbsp; &nbsp;providers <span style="color:#3498db">array</span></p>

<p dir="rtl">لاراول مانند یک <span style="color:#f39c12">حلقه </span>تمام <span style="color:#e74c3c">providers &nbsp;</span>را دور می زند ابتدا متود <span style="color:#e74c3c">register </span>فراخوانی می شود و بعد از این که <span style="color:#e74c3c">همه </span><span style="color:#f39c12">register </span>فراخوانی شدند &nbsp;<span style="color:#d35400">متود boot </span>فراخوانی می شود.</p>

<p dir="rtl">در حقیقت<span style="color:#9b59b6"> Service providers</span> مسئول راه اتدازی <span style="color:#e74c3c">بخش های اصلی فریم ورک</span> مانند <span style="color:#f39c12">database</span>, <span style="color:#f39c12">queue</span>, <span style="color:#f39c12">validation</span>, and <span style="color:#f39c12">routing</span> components هستند.</p>

<p dir="rtl"><br />
<span style="color:#9b59b6">سرویس providers</span> &nbsp;<span style="color:#e74c3c">مهمترین </span>بخش<span style="color:#27ae60"> پرؤژه لاراولی</span> هستند چون تمام بخش های <span style="color:#3498db">اصلی </span>و بخش های <span style="color:#3498db">بزرگ پروژه</span> و <span style="color:#3498db">تمام ارتباطات</span> توسط آن ها <span style="color:#f39c12">Run </span>می شود.</p>

<p dir="rtl"><span style="color:#e74c3c">مهمترین </span><span style="color:#f39c12">service provider</span> &nbsp;در میان سرویس ها <span style="color:#d35400">RouteServiceProvider </span>و <span style="color:#d35400">AppServiceProvider </span>&nbsp;است.</p>

<p dir="rtl">بعد از run شدن service provider <span style="color:#e74c3c">&nbsp;درخواست ها به روت</span> ارسال می شوند و روت ها هم یک <span style="color:#d35400">کنترلر </span>یا <span style="color:#d35400">کلوژر&nbsp;</span>را فراخوانی می کنند .<br />
در این زمان <span style="color:#e74c3c">middleware &nbsp;</span>ها هم اجرا می شوند که <span style="color:#f39c12">وظیفه تست و فیلتر</span> درخواست های ارسالی را دارند.&nbsp;</p>

<p dir="rtl">یکی از <span style="color:#f39c12">middleware </span>های معروف <span style="color:#e74c3c">authentication middleware </span>&nbsp;است که بررسی می کند<span style="color:#d35400"> ایا کاربر لاگین کرده یا نه</span> که اگر لاگین نکرده بود آن را به <span style="color:#e74c3c">صفحه لاگین redirect</span> &nbsp;می کند.</p>

<p dir="rtl">&nbsp;</p>


<div class="code">

<p>convenient &nbsp;راحت \&nbsp;مناسب<br />
== comfortable&nbsp;<br />
== suitable&nbsp;<br />
== appropriate&nbsp;<br />
== proper</p>

<p>assign &nbsp; &nbsp;اختصاص دادن</p>

<p>&nbsp;</p>

<p>journey == travel &nbsp; سفر<br />
truly &nbsp; &nbsp;به راستی حقیقتا</p>

<p>grasp &nbsp; &nbsp;فهم</p></div>


<p>&nbsp;</p>

<p dir="rtl">
اگر درخواست <span style="color:#e74c3c">تمام</span> <span style="color:#2c3e50">middleware </span>های مورد نظر بر سر راه درخواست را <span style="color:#9b59b6">رد کرد</span> به <span style="color:#d35400">کنترلر </span>یا <span style="color:#d35400">کلوژر خود روت</span> ارسال می شود.<br />
بعد از این <span style="color:#e74c3c">response </span>از کنترلر یا کلوژر به <span style="color:#e74c3c">middleware &nbsp;</span>های<span style="color:#f39c12"> بعد از پردازش</span> فرستاده می شود تا <span style="color:#9b59b6">فیلتر خروجی روی</span> آن ها انجام شود. بعد درخواست به متود <span style="color:#e67e22">handle</span> &nbsp;مربوط به <span style="color:#f39c12">HTTP kerne</span>l ارسال می شود. این متود درخواست را به <span style="color:#16a085">index.php</span> ارسال می شود. سپس متود <span style="color:#f39c12">send </span>فراخوانی می شود و این متود<span style="color:#3498db"> پاسخ را به مرورگر کاربر ارسال</span> می کند.</p>

<p>&nbsp;</p>

<p dir="rtl">کلاس <span style="color:#e74c3c">AppServiceProvider </span>مهم ترین فایل است که می توانیم <span style="color:#d35400">چیزهایی که باید راه اندازی شوند همراه چرخه لاراول</span> را در آن قرار دهیم و یا اینکه یک provider سفارشی دیگر بسازیم و کدهای مذنظر را در آن قرار دهیم.</p>

<p>&nbsp;</p>


<div class="code"><p>&#39;<span style="color:#ff0099">User</span>&#39; &nbsp; --&gt;&nbsp; &nbsp;send HTTP Request to &nbsp;&#39;<span style="color:#3498db">web server</span>&#39; &nbsp;</p>

<p>---&gt;&nbsp; &nbsp;&#39;public/index.php&#39;</p>

<p>----&gt;&nbsp; require __DIR__.&#39;/../vendor/autoload.php&#39;;</p>

<p>----&gt; <span style="color:#27ae60">service Container</span><br />
<br />
----&gt;&nbsp; $app = require_once __DIR__.&#39;/../bootstrap/app.php&#39;;</p>

<p>----&gt; &nbsp;Kernel</p>

<p><br />
<span style="color:#7f8c8d">//index.php</span></p>

<p><br />
$kernel = $app-&gt;<span style="color:#3498db">make</span>(<span style="color:#27ae60">Kernel</span>::class);</p>

<p>$response = <span style="color:#3498db">tap</span>($kernel-&gt;<span style="color:#3498db">handle</span>(<br />
&nbsp; &nbsp; $request = <span style="color:#27ae60">Request</span>::<span style="color:#d35400">capture</span>()<br />
))-&gt;<span style="color:#d35400">send</span>();</p>

<p>$kernel-&gt;<span style="color:#e74c3c">terminate</span>($request, $response);</p>

<p>&nbsp;</p>

<p><br />
----&gt;&nbsp; service provider &nbsp;<span style="color:#d35400">register</span></p>

<p>----&gt; service provider &nbsp;<span style="color:#d35400">boot</span></p>

<p>----&gt; dispatch request to&nbsp; <span style="color:#e74c3c">Router &nbsp;&nbsp;</span></p>

<p>-----&gt; check for <span style="color:#e74c3c">exist Controller</span>&nbsp; &nbsp;by Routes</p>

<p>-----&gt;&nbsp; &nbsp; &nbsp;send to controller &nbsp;</p>

<p>--- &gt; اجرای دستورات و درخواست ها&nbsp;</p>

<p>---&gt; send &nbsp;to <span style="color:#d35400">view &nbsp;</span></p>

<p>---&gt; send <span style="color:#e74c3c">HTTP Response</span> to &#39;<span style="color:#ff0099">User</span>&#39;</p>
</div>

<p>&nbsp;</p>

<h2 class="y">------  <p><br />
Laravel Architecture &nbsp;  &nbsp; || &nbsp; معماری لاراول</p>   ------</h2> 

<h2 class="y">------   Service Container   ------</h2> 
<p>&nbsp;</p>
 <p dir="rtl">بخش <span style="color:#f39c12">service container</span> &nbsp;یک ابزار <span style="color:#2ecc71">قدرتمند </span>برای <span style="color:#d35400">مدیریت وابستگی های یک class</span> و <span style="color:#d35400">DI </span>است.</p>
 <p><span style="color:#e67e22">DI </span>==&gt; <span style="color:#e74c3c">Dependency Injection </span>&nbsp; &nbsp; &nbsp; تزریق وابستگی ها</p>
 <p dir="rtl">به <span style="color:#3498db">کلاس ها</span> و <span style="color:#e67e22">کتابخانه </span>های یک پروژه &nbsp;<span style="color:#27ae60">وابستگی </span>های آن می گویند.</p>

<p dir="rtl"><span style="color:#f1c40f">DI </span>یک الگوی طراحی یا <span style="color:#e74c3c">دیزاین پترن </span>است.</p>

<p dir="rtl">باید <span style="color:#9b59b6">کمترین </span>وابستگی را بین کلاس ها ایجاد کنیم.</p>

<p><br />
<span style="color:#e74c3c">IoC</span> &nbsp; ===&gt;<span style="color:#f39c12"> Inversion of Control &nbsp; </span>&nbsp; &nbsp; &nbsp; &nbsp; اصل وارونگی کنترل</p>
 <p dir="rtl">در این مبحث باید به جای اینکه داخل یک کلاس از کلاس های دیگر استفاده کنیم باید کدها را به شکلی بنویسم که برای مثال اگر به اتصال به دیتابیس نیاز داشتیم <span style="color:#9b59b6">به جای اتصال از داخل کلاس</span> == <span style="color:#f39c12">اتصال را در خارج از کلاس</span> براقرار کنیم و بعد متغییری که اطلاعات اتصال در ان قراردارد را به متود <span style="color:#e67e22">constractor </span>کلاس مورد نظر پاس بدهیم</p>
 
 
<div class="code"><p><span style="color:#27ae60">class </span>photo{<br />
&nbsp;&nbsp; &nbsp;<span style="color:#e74c3c">protected</span> $db;<br />
&nbsp;&nbsp; &nbsp;<br />
&nbsp;&nbsp; &nbsp;<span style="color:#e74c3c">public </span>function <span style="color:#3498db">__construct</span>(){<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$this-&gt;db = <span style="color:#27ae60">DB</span>::<span style="color:#3498db">getConnect</span>();<br />
&nbsp;&nbsp; &nbsp;}<br />
}</p></div> 
<p dir="rtl">این روش درست <span style="color:#e67e22">نیست </span>زیرا کلاس فوتو به کلاس&nbsp;DB <span style="color:#9b59b6">وابسته </span>است و ممکن است بعد کلاس DB<span style="color:#1abc9c"> مشکلی پیدا کند </span>یا ... که در این صورت این کلاس <span style="color:#3498db">هم با مشکل مواجه</span> می شود.</p>

<div class="code">


<p><span style="color:#27ae60">class </span>photo{<br />
&nbsp;&nbsp; &nbsp;<span style="color:#e74c3c">protected </span>$db;<br />
&nbsp;&nbsp; &nbsp;<br />
&nbsp;&nbsp; &nbsp;<span style="color:#e74c3c">public </span>function <span style="color:#3498db">__construct</span>($<span style="color:#f39c12">dbConn</span>){<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$this-&gt;db = $dbConn;<br />
&nbsp;&nbsp; &nbsp;}<br />
}</p>

<p>$photo = <span style="color:#e74c3c">new </span><span style="color:#3498db">photo</span>($dbConn);</p>

<p>$dbConn ===&gt; <span style="color:#f39c12">قبلا </span>به دیتا بیس متصل شده است.</p>

<p>&nbsp;</p></div> 
<p>&nbsp;</p>
<p dir="rtl"><span style="color:#f39c12">روش دیگر استفاده از &nbsp; &nbsp; getter &nbsp; &nbsp;&amp; &nbsp;setter</span></p>

<div class="code"><p><span style="color:#27ae60">class </span>photo{<br />
&nbsp;&nbsp; &nbsp;<span style="color:#e74c3c">protected</span> $db;<br />
<br />
&nbsp;&nbsp; &nbsp;<span style="color:#e74c3c">public </span>function <span style="color:#3498db">__construct</span>(){}<br />
&nbsp;&nbsp; &nbsp;<br />
&nbsp;&nbsp; &nbsp;<span style="color:#e74c3c">public</span> function <span style="color:#27ae60">setDB</span>($<span style="color:#f39c12">dbConn</span>){<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$this-&gt;db = $dbConn;&nbsp; &nbsp;&nbsp;<br />
&nbsp;&nbsp; &nbsp;}<br />
}</p>

<p><br />
$photo = <span style="color:#e74c3c">new </span>photo;</p>

<p>$photo-&gt;<span style="color:#3498db">setDB</span>($dbConn);</p></div> 

<p dir="rtl"><br />
و حالا<span style="color:#f39c12"> روش عالی</span> برای ار بین بردن تمام وابستگی ها&nbsp;</p>

<div class="code">


<p><br />
<span style="color:#27ae60">class </span>IoC{&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#7f8c8d">//container</span><br />
&nbsp;&nbsp; &nbsp;<span style="color:#e74c3c">protected </span>$db;<br />
&nbsp;&nbsp; &nbsp;<br />
&nbsp;&nbsp; &nbsp;<span style="color:#e74c3c">public static </span>function <span style="color:#3498db">newPhoto</span>(){<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$photo = <span style="color:#e74c3c">new </span>photo;<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;$photo-&gt;<span style="color:#3498db">setDB</span>(<span style="color:#27ae60">static</span>::$db);<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<span style="color:#e74c3c">return </span>$photo;<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />
&nbsp;&nbsp; &nbsp;}<br />
}<br />
$photo =<span style="color:#27ae60">IoC</span>::<span style="color:#3498db">newPhoto</span>();</p></div> 
<p>&nbsp;</p>
<p>service container ===&gt; &nbsp;برای <span style="color:#3498db">مدیریت </span>وابستگی های کلاس ها &nbsp;</p>

<p>in bootstrap folder &nbsp;--&gt;&nbsp; <span style="color:#e67e22">app.php </span>&nbsp; شروع کننده پروژه</p>

<p dir="rtl">از اینجا لاراول شروع به کار می کند.</p>

<p dir="rtl">ابتدا یک شی از&nbsp; <span style="color:#e74c3c">Application </span>ایجاد و آن را داخل <span style="color:#f39c12">app$</span> قرار می دهد.</p>

<p>$app = <span style="color:#e74c3c">new </span><span style="color:#f39c12">Illuminate\Foundation\Application</span></p>

<p dir="rtl"><br />
به جای&nbsp;<span style="color:#3498db">var_dump&nbsp;</span>در لاراول می توانید از ()<span style="color:#e74c3c">dd </span>استفاده کنید که مخفف <span style="color:#d35400">dump and die</span>&nbsp;است.</p>

<p><br />
dd($app); &nbsp;===&gt; شی که از اپلیکشن ایجاد شده است را برمی گرداند</p>

<p dir="rtl"><br />
بعد از ما&nbsp; 3 تا <span style="color:#27ae60">سینگلتون </span>داریم که همان&nbsp; <span style="color:#d35400">ioc Container&nbsp;</span>ما است.</p>

<div class="code"><p>app()-&gt;<span style="color:#d35400">bind</span>(&quot;<span style="color:#f39c12">ali</span>&quot;,function(){<br />
&nbsp;&nbsp; &nbsp;<span style="color:#e74c3c">return </span><span style="color:#9b59b6">10</span>;<br />
});</p>

<p>$ali = app()-&gt;<span style="color:#3498db">make</span>(&quot;<span style="color:#f39c12">ali</span>&quot;);</p>

<p><span style="color:#f1c40f">echo </span>$ali;</p>

<p>&nbsp;</p></div> 

<p dir="rtl">ما با متود&nbsp;<span style="color:#e74c3c">bind&nbsp;</span>می توانیم یک نام بگذاریم در قسمت&nbsp;<span style="color:#e67e22">key&nbsp;</span>بعد در قسمت&nbsp; <span style="color:#e67e22">value&nbsp;</span>نام کلاس مورد نظرمان را بدهیم و بعد مانند روش بالا <span style="color:#e74c3c">make&nbsp;</span>کنیم در این صورت خودش می رود از روی کلاس مورد نظر که اسمش را داده ایم <span style="color:#f39c12">یک شی می سازد</span> و<span style="color:#3498db"> بعد&nbsp; اگر&nbsp; Dependency یا وابستگی داشته باشد</span> <span style="color:#e74c3c">به آن اضافه می کند</span> و مقدار را برمی گرداند &nbsp;و <span style="color:#d35400">نیازی نیست ما خودمان را درگیر وابستگی</span> ها کنیم.</p>

<p dir="rtl">&nbsp;</p>


<p dir="rtl">تفاوت &nbsp; &nbsp;<span style="color:#f39c12">bind &nbsp; </span>&amp; <span style="color:#f39c12">singleton</span></p>
<p dir="rtl">وقتی از <span style="color:#e74c3c">بایند </span>استفاده می کنیم هربار که&nbsp;make صدا زده می شود <span style="color:#f39c12">یک بار دیگر کلاس اجرا </span>می شود و مثلا اگر کار کلاس برگرداندن عدد رندوم باشد عدد جدیدی برمی گیرد اما در&nbsp;<span style="color:#e74c3c">singleton</span><span style="color:#d35400">&nbsp;تنها یک بار کلاس</span> اجرا می شوند و هربار دیگر که&nbsp; <span style="color:#f39c12">make&nbsp;</span>صدا زده شود <span style="color:#9b59b6">همان مقدار اول</span> را بر می گرداند.</p>

<p>singleton ==&gt; از هر کلاس<span style="color:#e74c3c"> تنها و تنها یک شی</span> ایجاد شود</p>

<div class="code">


<p>app()-&gt;<span style="color:#3498db">bind</span>(&quot;<span style="color:#f39c12">ali</span>&quot;,function(){<br />
&nbsp;&nbsp; &nbsp;<span style="color:#e74c3c">return</span> <span style="color:#27ae60">rand</span>(<span style="color:#9b59b6">10 </span>, <span style="color:#9b59b6">50</span>);<br />
});</p>

<p>$ali = app()-&gt;<span style="color:#e74c3c">make</span>(&quot;<span style="color:#f39c12">ali</span>&quot;);<br />
$ali2 = app()-&gt;<span style="color:#e74c3c">make</span>(&quot;<span style="color:#f39c12">ali</span>&quot;);<br />
$ali3 = app()-&gt;<span style="color:#e74c3c">make</span>(&quot;<span style="color:#f39c12">ali</span>&quot;);</p>

<p><span style="color:#7f8c8d">echo $ali.&quot;&lt;br&gt;&quot;;<br />
echo $ali2.&quot;&lt;br&gt;&quot;;<br />
echo $ali3.&quot;&lt;br&gt;&quot;;<br />
// return &nbsp;deffrent &nbsp;number</span></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><br />
app()-&gt;<span style="color:#3498db">singleton</span>(&quot;<span style="color:#f39c12">ali</span>&quot;,function(){<br />
&nbsp;&nbsp; &nbsp;<span style="color:#e67e22">return </span><span style="color:#27ae60">rand</span>(<span style="color:#9b59b6">10 </span>, <span style="color:#9b59b6">50</span>);<br />
});</p>

<p>$ali = app()-&gt;<span style="color:#3498db">make</span>(&quot;<span style="color:#f39c12">ali</span>&quot;);<br />
$ali2 = app()-&gt;<span style="color:#3498db">make</span>(&quot;<span style="color:#f39c12">ali</span>&quot;);<br />
$ali3 = app()-&gt;<span style="color:#3498db">make</span>(&quot;<span style="color:#f39c12">ali</span>&quot;);</p>

<p><span style="color:#7f8c8d">echo $ali.&quot;&lt;br&gt;&quot;;<br />
echo $ali2.&quot;&lt;br&gt;&quot;;<br />
echo $ali3.&quot;&lt;br&gt;&quot;;<br />
// return only &nbsp;one number</span></p>

<p>&nbsp;</p></div> 
<p>&nbsp;</p>

<div class="code"><p>Occasionally &nbsp;گاه و بیگاه<br />
obtain &nbsp; به دست آوردن</p></div> 
<p>&nbsp;</p>
<p dir="rtl"><br />
<span style="color:#d35400">لاراول service container</span> &nbsp;از <span style="color:#e74c3c">PSR-11</span> استفاده می کند.</p>

<p dir="rtl">در واقع <span style="color:#27ae60">Service providers</span> <span style="color:#e74c3c">هسته شروع کننده تمام برنامه های لاراولی</span> هستند.</p>

<p dir="rtl"><span style="color:#4e5f70">تمام </span>service provider &nbsp;ها در داخل <span style="color:#e67e22">config/app.php</span> و <span style="color:#e74c3c">آرایه providers</span> ثبت شده اند. &nbsp;این موارد <span style="color:#9b59b6">قسمتی های اصلی برنامه لاراولی</span> را <span style="color:#f39c12">راه اندازی</span> می کنند.<br />
بسیاری از provider ها که <span style="color:#f39c12">داخل آرایه</span> تعریف شده اند در <span style="color:#e74c3c">حالت تعویق</span> هستند و<span style="color:#d35400"> در هر درخواست فراخوانی نمی شوند</span> و <span style="color:#e74c3c">تنها در صورتی فراخوانی می شوند که واقعا به آن ها نیاز</span> باشد.</p>

<p dir="rtl">&nbsp;</p>

<p dir="rtl"><span style="color:#f1c40f">تمام </span>service providers ها از&nbsp;&nbsp;<span style="color:#e67e22">Illuminate\Support \ServiceProvider&nbsp;&nbsp;</span><span style="color:#9b59b6">اکستند </span>می شوند.</p>

<p dir="rtl">&nbsp;</p>

<p dir="rtl">اکثر service provider &nbsp;ها شامل دو متود <span style="color:#e74c3c">register </span>و <span style="color:#e74c3c">boot </span>هستند.</p>

<p dir="rtl">داخل متود <span style="color:#d35400">register </span>تنها ما می توانیم <span style="color:#f39c12">چیزی را به service container &nbsp;بایند</span> کنیم.</p>

<p dir="rtl">در داخل متود <span style="color:#e74c3c">boot </span>چیزهایی که <span style="color:#e74c3c">بایند کردیم را run</span> می کنیم.</p>

<p dir="rtl">&nbsp;</p>

<p dir="rtl">برای ساخت <span style="color:#e74c3c">provider &nbsp;سفارشی</span> از دستور زیر استفاده می کنیم.</p>

<div class="code"><p><br />
&nbsp;<span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#e74c3c">make:provider </span><span style="color:#f39c12">RiakServiceProvider</span></p></div> 
<p dir="rtl"><br />
توجه: در داخل <span style="color:#f1c40f">register </span><span style="color:#e74c3c">تنها </span>باید چیزی را به <span style="color:#d35400">service container &nbsp;بایند</span> کنیم. و <span style="color:#9b59b6">هیچ گاه نباید روت یا event</span> را داخل این متود ثبت کنیم. داخل <span style="color:#f1c40f">register </span>تنها به<span style="color:#e67e22"> app$</span> &nbsp;و متود <span style="color:#e74c3c">bind </span>و سایر متود های مربوط به <span style="color:#3498db">service container </span>&nbsp;مانند singleton و... دسترسی داریم و <span style="color:#e74c3c">سایر متودها در دسترس نیستند و load نشده اند</span>.</p>

<p dir="rtl"><br />
داخل تمام<span style="color:#3498db"> service provider</span> ها به <span style="color:#f39c12">app$ و service container </span>&nbsp;ها دسترسی داریم.</p>

<p dir="rtl"><br />
اگر تعداد زیاد کلاس ساده را باید در داخل service provider &nbsp;ثبت و بایند کنیم می توانیم از <span style="color:#9b59b6">روش زیر استفاده کنیم تا خود لاراول این کار</span> را برای ما انجام دهد.</p>

<div class="code"><p><span style="color:#e74c3c">public </span>$<span style="color:#d35400">bindings </span>= [&nbsp;<br />
<span style="color:#27ae60">&nbsp; &nbsp;ServerProvider</span>::<span style="color:#9b59b6">class </span>=&gt; <span style="color:#27ae60">DigitalOceanServerProvider</span>::<span style="color:#9b59b6">class</span>,<br />
];&nbsp;</p>

<p><span style="color:#e74c3c">public </span>$<span style="color:#d35400">singletons </span>= [&nbsp;<br />
<span style="color:#27ae60">&nbsp; &nbsp; DowntimeNotifier</span>::<span style="color:#9b59b6">class </span>=&gt; <span style="color:#27ae60">PingdomDowntimeNotifier</span>::<span style="color:#9b59b6">class</span>,&nbsp;<br />
&nbsp; &nbsp; <span style="color:#27ae60">ServerProvider</span>::<span style="color:#9b59b6">class </span>=&gt; <span style="color:#27ae60">ServerToolsProvider</span>::<span style="color:#9b59b6">class</span>,&nbsp;<br />
];</p></div> 
<br />
<p dir="rtl">متود <span style="color:#27ae60">boot </span>بعد از <span style="color:#9b59b6">register &nbsp;</span>صدا زده می شود. پس ما <span style="color:#e74c3c">در داخل بوت به تمام سرویس های register شده</span> در فریم ورک <span style="color:#f1c40f">دسترسی</span> داریم.</p>

<div class="code"><p><span style="color:#e74c3c">public </span>function <span style="color:#3498db">boot</span>() {&nbsp;<br />
&nbsp; &nbsp;<span style="color:#27ae60">View</span>::<span style="color:#3498db">composer</span>(&#39;<span style="color:#f39c12">view</span>&#39;, function () {&nbsp;<br />
&nbsp; &nbsp; <span style="color:#7f8c8d">&nbsp;//</span><br />
&nbsp; &nbsp;});&nbsp;<br />
}</p></div> 
<br />
<p dir="rtl">با توجه به اینکه service provider <span style="color:#f39c12">&nbsp;بعد از</span> service container &nbsp;فراخوانی می شود <span style="color:#8e44ad">هر کلاسی که در boot یا register </span>&nbsp;استفاده کنیم و <span style="color:#f39c12">وابستگی </span>داشته باشد. <span style="color:#e67e22">خود service container &nbsp;آن ها را اضافه می کند.</span></p>

<div class="code"><p><span style="color:#e74c3c">public </span>function <span style="color:#3498db">boot</span>(<span style="color:#1abc9c">ResponseFactory </span>$response) {&nbsp;<br />
&nbsp; &nbsp;$response-&gt;<span style="color:#3498db">macro</span>(&#39;<span style="color:#f39c12">serialized</span>&#39;, function ($value) {&nbsp;<br />
&nbsp; &nbsp; &nbsp;//&nbsp;<br />
&nbsp; &nbsp;});&nbsp;<br />
}</p></div> 
<p dir="rtl">در حقیقت سرویس کانتینر با روش <span style="color:#e74c3c">route class bindung</span> یا فراخوانی به شکل ( <span style="color:#f1c40f">ResponseFactory $response</span>) وابستگی ها و خود کلاس را اضافه می کند.</p>

<p dir="rtl"><br />
برای<span style="color:#e67e22"> ثبت service provider</span> &nbsp;سفارشی بعد از ساخت با آرتیسان باید آن را به<span style="color:#e74c3c"> آرایه providers</span> در فایل <span style="color:#d35400">config/app.php</span> اضافه کنیم.</p>

<div class="code"><p>&#39;<span style="color:#f39c12">providers</span>&#39; =&gt; [&nbsp;</p>

<p>&nbsp; <span style="color:#7f8c8d">&nbsp; // Other Service Providers&nbsp;</span></p>

<p>&nbsp; &nbsp;<span style="color:#f39c12"> App\Providers\ComposerServiceProvider</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp;],</p></div> 

<p dir="rtl"><br />
گاهی میخواهیم <span style="color:#9b59b6">service provider </span>&nbsp;تعریف کنیم که در <span style="color:#e74c3c">حالت تعویق</span> باشه و <span style="color:#e74c3c">تنها زمانی اجرا شود که واقعا به آن نیاز داریم</span>. برای این کار کلاس service provider<br />
&nbsp;باید از</p>

<p><br />
&nbsp; \Illuminate\Contracts \Support \ DeferrableProvider</p>

<p dir="rtl"><span style="color:#d35400">Implement </span>شود.</p>

<p dir="rtl">&nbsp;</p>

<div class="code">

<p><span style="color:#27ae60">class </span><span style="color:#9b59b6">RiakServiceProvider </span><span style="color:#e74c3c">extends </span><span style="color:#9b59b6">ServiceProvider </span><span style="color:#d35400">implements </span><span style="color:#e74c3c">DeferrableProvider </span>{&nbsp;<br />
&nbsp; &nbsp;<span style="color:#e74c3c">public </span>function <span style="color:#3498db">register</span>() {&nbsp;<br />
&nbsp; &nbsp; &nbsp; $this-&gt;app-&gt;<span style="color:#27ae60">singleton</span>(<span style="color:#27ae60">Connection</span>::<span style="color:#9b59b6">class</span>, <span style="color:#3498db">function </span>($app) {&nbsp;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#e74c3c">return </span><span style="color:#c0392b">new </span><span style="color:#3498db">Connection</span>($app[&#39;<span style="color:#f39c12">config</span>&#39;][&#39;<span style="color:#f39c12">riak</span>&#39;]);&nbsp;<br />
&nbsp; &nbsp; &nbsp; });<br />
&nbsp; &nbsp;}&nbsp;</p>

<p><br />
<span style="color:#e74c3c">&nbsp; &nbsp;public </span>function <span style="color:#3498db">provides</span>() {&nbsp;<br />
&nbsp; &nbsp; &nbsp; <span style="color:#e74c3c">return </span>[<span style="color:#27ae60">Connection</span>::<span style="color:#9b59b6">class</span>];<br />
&nbsp; &nbsp;}&nbsp;<br />
}</p></div> 
<br />

<p dir="rtl">دو روش برای <span style="color:#f1c40f">ساخت&nbsp;</span>یک فایل &nbsp;<span style="color:#e74c3c">provider&nbsp;</span>جدید وجود دارد</p>

<p dir="rtl"><br />
<span style="color:#ff0099">1</span>. داخل پوشه پرووایدرها &nbsp;یک فایل جدید بسیازید بعد&nbsp; <span style="color:#9b59b6">namespace&nbsp;</span>و اکستندهایی که در فایل های دیگر <span style="color:#3498db">قرار دارد را در آن قرار دهید یا از فایل های دیگر کپی کنید</span> و بقیه کارتان را ادامه دهید<br />
<span style="color:#ff0099">2</span>.استفاده از دستور&nbsp;ارتیسان <span style="color:#e67e22">php artisan</span>&nbsp; بزنید در&nbsp; cmd دستورات مربوط به ارتیسان را می آورد که در آن ها&nbsp; <span style="color:#9b59b6">make provider</span> هم وجود دارد</p>
<div class="code">

<p><span style="color:#95a5a6">in cmd &nbsp;&nbsp;</span></p>

<p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#e74c3c">make:provider </span><span style="color:#27ae60">--help&nbsp;</span> &nbsp; &nbsp;===&gt; می دهد که کار برد این چیست و به چه پارامترهایی نیاز دارد<br />
&nbsp;<br />
این دستور تنها یک نام برای کلاس می خواهد</p>
<br />
<p><span style="color:#9b59b6">php </span>artisan <span style="color:#e67e22">make:provider </span>DBServiceProvider &nbsp;===&gt; &nbsp;ساختن فایل با کلاس در پوشه پرووایدرها</p><br />

<p dir="rtl">در حالت عادی این سرویس جدید ران نمی شود و باید به آن بفهمانیم که همچین فایل و سرویسی هم وجود دارد</p><br />

<p>in <span style="color:#d35400">config </span>folder &nbsp;===&gt; <span style="color:#e74c3c">app.php</span></p><br />

<p><br />
go to &nbsp;<span style="color:#f39c12">Autoloaded Service Providers</span> &nbsp;part &nbsp;</p><br />

<p>in &nbsp;Application Service Providers...</p><br />

<p><span style="color:#9b59b6">copy and add</span> &nbsp; &nbsp;App\Providers\DBServiceProvider::class,</p><br />

<p dir="rtl"><br />
به جای &nbsp;&nbsp;DBServiceProvider اسم سرویس مورد نظرمان را قرار می دهیم</p><br />

<p><br />
::<span style="color:#27ae60">class &nbsp;</span>===&gt; &nbsp;یعنی &nbsp; <span style="color:#e74c3c">namespace &nbsp; &nbsp;</span>و &nbsp; اسم &nbsp;کلاس قبلش را برنمی گرداند<br />
===&gt;<span style="color:#f39c12"> App\Providers\DBServiceProvider</span> &nbsp;==&gt; این را برمیگرداند<br />
&nbsp;</p>

<p>&nbsp;</p></div> 



<br />
<h2 class="y">------   Facades   ------</h2> 
<br />
<p dir="rtl">به معنی <span style="color:#f39c12">نمای خارجی</span> است و یک <span style="color:#d35400">الگوی طراحی یا دیزاین پترن</span> است<br />
به این دلیل به این اسم نامیده می شود که<span style="color:#3498db"> جزئیات نرم افزار را پنهان</span> می کند</p>

<p dir="rtl">به شما اجازه می دهد که به صورت <span style="color:#e74c3c">استاتیک </span>به <span style="color:#d35400">سرویس کانتینرها </span>دسترسی داشته باشید. <span style="color:#9b59b6">static</span></p>

<p dir="rtl">بر ای مثال در&nbsp;</p>

<div class="code"><p><br />
<span style="color:#7f8c8d">routes folder &nbsp;--&gt; &nbsp;web.php</span></p>

<p><span style="color:#27ae60">Route</span>::<span style="color:#2980b9">get</span>(&#39;<span style="color:#f39c12">/</span>&#39;, function () {<br />
&nbsp; &nbsp; <span style="color:#e74c3c">return </span><span style="color:#3498db">view</span>(&#39;<span style="color:#f39c12">welcome</span>&#39;);<br />
});</p><br /><br /><p>Route::get&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#7f8c8d">&nbsp; --&gt; استاتیک &nbsp; // &nbsp;یک نوع فساد</span></p>
</div> 

<p dir="rtl">فساد ها در <span style="color:#e74c3c">config folder &nbsp;---&gt; app.php</span>&nbsp; تعریف شده اند. بخش&nbsp; <span style="color:#d35400">aliases</span><br />
&nbsp;</p>

<p dir="rtl">تمام <span style="color:#d35400">facade </span>های لاراول از <span style="color:#e74c3c">namespace </span>زیر استفاده می کنند.</p>

<p><span style="color:#ff0099">Illuminate\Support\Facades</span></p>

<p dir="rtl">برای تقریبا <span style="color:#e67e22">تمام ویژگی های مهم لاراول</span> <span style="color:#e74c3c">facade &nbsp;</span>وجود دارد که می توانیم به راحتی از آن ها استفاده کنیم.<br />
<span style="color:#9b59b6">معروف </span>ترین facade &nbsp;لاراول <span style="color:#e74c3c">Route </span>است.</p>

<p dir="rtl"><br />
برای<span style="color:#27ae60"> تکمیل قدرت فساد ها</span> لاراول <span style="color:#e74c3c">helper functions</span> ها را معرفی می کند که به صورت <span style="color:#d35400">global </span>در <span style="color:#e74c3c">هرجای برنامه لاراولی</span> در دسترس هستند.<br />
<span style="color:#9b59b6">معروف</span> تر هلپر فانکشن ها&nbsp; <span style="color:#f39c12">view</span>, <span style="color:#f39c12">response</span>, <span style="color:#f39c12">url</span>, <span style="color:#f39c12">config&nbsp;</span>, <span style="color:#f39c12">env</span>, <span style="color:#f39c12">request </span>,<span style="color:#f39c12">asset</span>, <span style="color:#f39c12">route</span></p>

<p dir="rtl"><br />
به جای استفاده از فساد <span style="color:#9b59b6">Illuminate\Support\Facades\Response&nbsp;</span>به راحتی می توانیم از<span style="color:#f39c12"> هلپر فانکشن response</span> استفاده کنیم که همه جا در دسترس است و<span style="color:#e74c3c"> نیازی هم به import کردن کلاس نداریم</span></p>
<div class="code">
<p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/users</span>&#39;, function () {&nbsp;<br />
&nbsp; &nbsp; <span style="color:#e74c3c">return </span><span style="color:#27ae60">Response</span>::<span style="color:#d35400">json</span>([&nbsp;<br />
&nbsp; &nbsp; <span style="color:#7f8c8d">&nbsp; &nbsp;// ...&nbsp;</span><br />
&nbsp; &nbsp; ]);&nbsp;<br />
});&nbsp;</p>

<p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/users</span>&#39;, function () {&nbsp;<br />
&nbsp; &nbsp; <span style="color:#e74c3c">return </span><span style="color:#d35400">response</span>()-&gt;<span style="color:#f39c12">json</span>([&nbsp;<br />
&nbsp; &nbsp; <span style="color:#7f8c8d">&nbsp; // ...</span><br />
&nbsp; &nbsp; ]);&nbsp;<br />
});</p></div> 
<p>&nbsp;</p>
<p dir="rtl">چون<span style="color:#d35400"> فسادها کوتاه هستند و یونیک استفاده </span>از آن ها به شدت آسان است و نیازی نداریم اسم های طولانی را به یاد بیاورین.</p>

<p dir="rtl">یکی از<span style="color:#e74c3c"> بزرگترین مشکلات فسادها</span> <span style="color:#d35400">scope creep</span> است.<br />
اگر کلاسی که فسادها را داریم در آن استفاده می کنیم <span style="color:#e74c3c">بزرگ</span> شود و از<span style="color:#f39c12"> فسادهای زیادی هم داخل یک کلاس استفاده کنیم</span> به مشکل می خوریم و <span style="color:#e74c3c">برنامه بازخورد مناسبی</span> که انتظارش را داریم <span style="color:#9b59b6">نخواهد </span>داشت.</p>

<p dir="rtl">اکر کلاس بزرک شد <span style="color:#e74c3c">بهتر است آن را به چند کلاس کوچک تر تبدیل کنیم.</span></p><p>&nbsp;</p>

<div class="code"><p><br />
equivalent &nbsp; معادل</p>

<p>correspond &nbsp; &nbsp;مطابقت</p></div> 
<br />
<p dir="rtl">فسادها و هلپر فانکشن ها<span style="color:#e74c3c"> دقیقا یک کار</span> انجام می دهند. برای مثال دو کد زیر هر دو یک ویو را برمی گردانند.</p>

<div class="code"><p><span style="color:#e74c3c">return&nbsp;&nbsp;</span>Illuminate\Support\Facades\View::<span style="color:#3498db">make</span>(&#39;<span style="color:#f39c12">profile</span>&#39;);</p>

<p>&nbsp;<span style="color:#e74c3c">return </span><span style="color:#3498db">view</span>(&#39;<span style="color:#f39c12">profile</span>&#39;);</p></div> 
<p dir="rtl"><br />
فسادها در<span style="color:#2ecc71"> زمان ساخته شدن</span> از متود <span style="color:#f39c12">جادویی </span>یا <span style="color:#e74c3c">magic method </span>&nbsp;زیر استفاده می کنند.</p>

<p><span style="color:#e67e22">__callStatic</span>()</p>

<p>&nbsp;</p>

<div class="code"><p>underlying &nbsp; &nbsp; اساسی</p></div> 
<p>&nbsp;</p>
<h2 class="y">------   All  Facades in Laravel  ------</h2> 
<p>&nbsp;</p>

<p>تمام &nbsp;فسادهای لاراول</p>

<div class="code"><p><span style="color:#d35400">App&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="color:#7f8c8d"> &nbsp;//Facade</span><br />
Illuminate\Foundation\Application&nbsp; &nbsp;<span style="color:#7f8c8d"> //Class</span><br />
<span style="color:#f1c40f">app&nbsp; &nbsp; </span><span style="color:#7f8c8d">&nbsp;//Service Container Binding</span></p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Artisan</span><br />
Illuminate\Contracts\Console\Kernel<br />
<span style="color:#f1c40f">artisan</span></p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Auth</span><br />
Illuminate\Auth\AuthManager<br />
<span style="color:#f1c40f">auth</span></p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Auth </span>(Instance)<br />
Illuminate\Contracts\Auth\Guard<br />
<span style="color:#f1c40f">auth.driver</span></p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Blade</span><br />
Illuminate\View\Compilers\BladeCompiler<br />
<span style="color:#f1c40f">blade.compiler</span></p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Broadcast</span><br />
Illuminate\Contracts\Broadcasting\Factory&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Broadcast </span>(Instance)<br />
Illuminate\Contracts\Broadcasting\Broadcaster&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Bus</span><br />
Illuminate\Contracts\Bus\Dispatcher&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Cache</span><br />
Illuminate\Cache\CacheManager<br />
<span style="color:#f1c40f">cache</span></p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Cache</span>(Instance)<br />
Illuminate\Cache\Repository<br />
<span style="color:#f1c40f">cache.store</span></p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Config</span><br />
Illuminate\Config\Repository<br />
<span style="color:#f1c40f">config</span></p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Cookie</span><br />
Illuminate\Cookie\CookieJar<br />
<span style="color:#f1c40f">cookie</span></p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Crypt</span><br />
Illuminate\Encryption\Encrypter<br />
<span style="color:#f1c40f">encrypter</span></p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Date</span><br />
Illuminate\Support\DateFactory<br />
<span style="color:#f1c40f">date</span></p>

<p>&nbsp;</p>

<p><span style="color:#d35400">DB</span><br />
Illuminate\Database\DatabaseManager<br />
<span style="color:#f1c40f">db</span><br />
&nbsp;</p>

<p><span style="color:#d35400">DB(Instance)</span><br />
Illuminate\Database\Connection<br />
<span style="color:#f1c40f">db.connection</span></p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Event</span><br />
Illuminate\Events\Dispatcher<br />
<span style="color:#f1c40f">events</span></p>

<p>&nbsp;</p>

<p><span style="color:#d35400">File</span><br />
Illuminate\Filesystem\Filesystem<br />
<span style="color:#f1c40f">files</span></p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Gate</span><br />
Illuminate\Contracts\Auth\Access\Gate</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Hash</span><br />
Illuminate\Contracts\Hashing\Hasher<br />
<span style="color:#f1c40f">hash</span></p><p>&nbsp;</p>

<p><span style="color:#d35400">Http</span><br />
Illuminate\Http\Client\Factory</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Lang</span><br />
Illuminate\Translation\Translator<br />
<span style="color:#f1c40f">translator</span></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Log</span><br />
Illuminate\Log\LogManager<br />
<span style="color:#f1c40f">log</span></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Mail</span><br />
Illuminate\Mail\Mailer<br />
<span style="color:#f1c40f">mailer</span></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Notification</span><br />
Illuminate\Notifications\ChannelManager</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Password</span><br />
Illuminate\Auth\Passwords\PasswordBrokerManager<br />
<span style="color:#f1c40f">auth.password</span></p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Password </span>(Instance)<br />
Illuminate\Auth\Passwords\PasswordBroker<br />
<span style="color:#f1c40f">auth.password.broker</span></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Queue</span><br />
Illuminate\Queue\QueueManager<br />
<span style="color:#f1c40f">queue</span></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Queue </span>(Instance)<br />
Illuminate\Contracts\Queue\Queue<br />
<span style="color:#f1c40f">queue.connection</span></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Queue </span>(Base Class)<br />
Illuminate\Queue\Queue</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Redirect</span><br />
Illuminate\Routing\Redirector<br />
<span style="color:#f1c40f">redirect</span></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Redis</span><br />
Illuminate\Redis\RedisManager<br />
<span style="color:#f1c40f">redis</span></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Redis </span>(Instance)<br />
Illuminate\Redis\Connections\Connection<br />
<span style="color:#f1c40f">redis.connection</span></p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Request</span><br />
Illuminate\Http\Request<br />
<span style="color:#f1c40f">request</span></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Response</span><br />
Illuminate\Contracts\Routing\ResponseFactory</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Response </span>(Instance)<br />
Illuminate\Http\Response</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Route</span><br />
Illuminate\Routing\Router<br />
<span style="color:#f1c40f">router</span></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Schema</span><br />
Illuminate\Database\Schema\Builder</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Session</span><br />
Illuminate\Session\SessionManager<br />
<span style="color:#f1c40f">session</span></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Session </span>(Instance)<br />
Illuminate\Session\Store<br />
<span style="color:#f1c40f">session.store</span></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Storage</span><br />
Illuminate\Filesystem\FilesystemManager<br />
<span style="color:#f1c40f">filesystem</span></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Storage </span>(Instance)<br />
Illuminate\Contracts\Filesystem\Filesystem<br />
<span style="color:#f1c40f">filesystem.disk</span></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">URL</span><br />
Illuminate\Routing\UrlGenerator<br />
<span style="color:#f1c40f">url</span></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Validator</span><br />
Illuminate\Validation\Factory<br />
<span style="color:#f1c40f">validator</span></p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">Validator </span>(Instance)<br />
Illuminate\Validation\Validator</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">View</span><br />
Illuminate\View\Factory<br />
<span style="color:#f1c40f">view</span><br />
&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#d35400">View </span>(Instance)<br />
Illuminate\View\View</p>

<p>&nbsp;</p></div> 
<p>&nbsp;</p>
<h2 class="y">------   real-time facades   ------</h2> 
<p>&nbsp;</p>

<p dir="rtl">این فساد ها <span style="color:#e74c3c">زمانی که دارن</span> ساخته می شوند <span style="color:#e74c3c">خودشان خودشان را فراخوانی می کنند </span>و یا به عبارت دیگر <span style="color:#d35400">اتوماتیک </span>هستند.</p>

<div class="code">
<p><span style="color:#e74c3c">public </span>function <span style="color:#3498db">publish</span>() {&nbsp;<br />
&nbsp; &nbsp; &nbsp;$this-&gt;<span style="color:#27ae60">update</span>([<br />
&nbsp; &nbsp; &nbsp; &nbsp;&#39;<span style="color:#f39c12">publishing</span>&#39; =&gt; <span style="color:#27ae60">now</span>()<br />
&nbsp; &nbsp; &nbsp;]);&nbsp;</p>

<p>&nbsp; &nbsp; <span style="color:#27ae60">Publisher</span>::<span style="color:#3498db">publish</span>($this);&nbsp;<br />
}</p></div> 
<br />
<br />
<h2 class="y">------   Routes  ------</h2> 
<br />

<div class="code"><p>route folder --&gt; <span style="color:#e67e22">web.php</span> /<span style="color:#e67e22"> api.php</span>&nbsp; &nbsp;---&gt; کل سیستم روتینگ لاراول&nbsp;</p>

<p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&quot;<span style="color:#f39c12">/</span>&quot;,function()){<br />
&nbsp;&nbsp; &nbsp;<span style="color:#e74c3c">return </span><span style="color:#3498db">view</span>(&quot;<span style="color:#f39c12">welcome</span>&quot;);&nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#7f8c8d">/// این اسم فایل با همین نام با پسوند &nbsp; &nbsp;.blade.php</span><br />
}</p>

<p>&nbsp;</p>

<p><span style="color:#7f8c8d">/// create new route &nbsp;--&gt; copy code and paste and change</span></p>

<p><br />
<span style="color:#27ae60">Route</span>::get(&quot;<span style="color:#f39c12">/post</span>&quot;,function()){<br />
&nbsp;&nbsp; &nbsp;<span style="color:#e74c3c">return </span><span style="color:#3498db">view</span>(&quot;<span style="color:#f39c12">post</span>&quot;);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#7f8c8d">// view ==&gt; helper function</span><br />
}</p>

<p><br />
<span style="color:#7f8c8d">send data to view</span></p>

<p><span style="color:#7f8c8d">// روش اول</span><br />
<span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&quot;<span style="color:#f39c12">/post</span>&quot;,function()){<br />
&nbsp;&nbsp; &nbsp;$txt=&quot;<span style="color:#f39c12">Academy it</span>&quot;;<br />
&nbsp;&nbsp; &nbsp;<span style="color:#e74c3c">return </span><span style="color:#3498db">view</span>(&quot;<span style="color:#f39c12">post</span>&quot;)-&gt;<span style="color:#9b59b6">with</span>(&quot;<span style="color:#f39c12">txt</span>&quot;,$txt)<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; -&gt;<span style="color:#9b59b6">with</span>(&quot;txt2&quot;,$txt)<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; -&gt;<span style="color:#9b59b6">with</span>(&quot;txt3&quot;,$txt);<br />
}</p>

<p><br />
<span style="color:#7f8c8d">// now in post.blade.php&nbsp;<br />
//در محلی که مدنظرمان است</span></p>

<p>&nbsp;{{$txt}}&nbsp;</p>

<p>&nbsp;</p>

<p>#################################</p>

<p><span style="color:#7f8c8d">comment blade laravel</span> ---&gt;&nbsp; &nbsp; {{--&nbsp; &nbsp;{{$txt}}&nbsp; &nbsp; --}}</p>

<p>####################################</p>

<p>&nbsp;</p>

<p><span style="color:#7f8c8d">// روش دوم</span></p>

<p><br />
<span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&quot;<span style="color:#f39c12">/welcome</span>&quot;,function()){<br />
&nbsp;&nbsp; &nbsp;$urls=[<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;http://academyit.net&quot;,<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;http://academyit.ir&quot;,<br />
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&quot;http://academyit.com&quot;<br />
&nbsp;&nbsp; &nbsp;];<br />
&nbsp;&nbsp; &nbsp;<span style="color:#e74c3c">return </span><span style="color:#3498db">view</span>(&quot;post&quot;,<span style="color:#d35400">compact</span>(&#39;urls&#39;));<br />
}</p>

<p><br />
<span style="color:#7f8c8d">// now in post.blade.php&nbsp;<br />
//در محلی که مدنظرمان است</span></p>

<p><span style="color:#e74c3c">@foreach</span>($urls as $url)<br />
&nbsp;&nbsp; &nbsp;&lt;li&gt;{{ $url }}&lt;/li&gt;<br />
&nbsp;&nbsp; &nbsp;&lt;a href=&quot;{{$url}}&quot;&gt;{{ $url }}&lt;/a&gt;<br />
<span style="color:#e74c3c">@endforeach</span></p>

<p>&nbsp;</p></div> 

<p>&nbsp;</p>

<p dir="rtl"><span style="color:#f1c40f">ساده </span>ترین روت در لاراول</p>

<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/greeting</span>&#39;, function () {&nbsp;<br />
&nbsp; &nbsp; <span style="color:#e74c3c">return </span>&#39;<span style="color:#f39c12">Hello World</span>&#39;;&nbsp;<br />
});</p></div> 
<p><span style="color:#f39c12">فانکشن </span>پارامتر <span style="color:#e74c3c">دوم&nbsp;</span><br />
in &nbsp;php &nbsp;==&gt; &nbsp;<span style="color:#d35400">closure</span><br />
in &nbsp;js &nbsp; &nbsp; &nbsp;==&gt; <span style="color:#d35400">callback function&nbsp;</span></p>

<p dir="rtl"><br />
تمام روت به صورت <span style="color:#e74c3c">خودکار </span>توسط&nbsp; App\Providers\RouteServiceProvider. <span style="color:#e67e22">راه اندازی و بوت</span> می شوند.</p>

<div class="code"><p><br />
assign &nbsp; &nbsp;اختصاص دادن</p>
</div> 
<p dir="rtl">&nbsp;</p>

<p dir="rtl">روت هایی که در داخل<span style="color:#e74c3c"> web.php</span> تعریف می شوند از طریق <span style="color:#e67e22">URL </span>در <span style="color:#f1c40f">دسترس </span>هستند و با <span style="color:#9b59b6">navigation </span>تو url می توانیم به محتوای آن ها دسترسی داشته باشیم.</p>

<div class="code"><p><br />
<span style="color:#e74c3c">use </span><span style="color:#f39c12">App\Http\Controllers\UserController</span>;&nbsp;</p>

<p><span style="color:#27ae60">Route</span>::get(&#39;<span style="color:#f39c12">/user</span>&#39;, [<span style="color:#27ae60">UserController</span>::<span style="color:#9b59b6">class</span>, &#39;<span style="color:#f39c12">index</span>&#39;]);</p>

<p><span style="color:#7f8c8d">http://example.com/user</span></p></div> 
<p>&nbsp;</p>

<p dir="rtl"><br />
روت هایی که در داخل <span style="color:#e74c3c">routes/api.php</span> تعریف می شوند <span style="color:#e74c3c">nested </span>هستند در یک<span style="color:#f39c12"> گروه روت</span> با <span style="color:#e74c3c">prefix &nbsp;</span>که بع شکل<span style="color:#d35400"> /api</span> است. در واقع روت های api در <span style="color:#27ae60">یک گروه </span>هستند.</p>

<p dir="rtl">می توانیم <span style="color:#3498db">prefix&nbsp; </span>و<span style="color:#3498db">&nbsp;</span>تنظیمات دیگر روت ها را از داخل&nbsp; <span style="color:#d35400">RouteServiceProvider&nbsp;</span>تغییر دهیم.</p>

<p dir="rtl"><br />
متودهای <span style="color:#8e44ad">موجود </span>برای<span style="color:#d35400"> ثبت روت ها</span></p>

<div class="code"><p>&nbsp;<span style="color:#27ae60">Route</span>::<span style="color:#d35400">get</span>($uri, $callback);<br />
&nbsp;<span style="color:#27ae60">Route</span>::<span style="color:#d35400">post</span>($uri, $callback);<br />
&nbsp;<span style="color:#27ae60">Route</span>::<span style="color:#d35400">put</span>($uri, $callback);<br />
&nbsp;<span style="color:#27ae60">Route</span>::<span style="color:#d35400">patch</span>($uri, $callback);<br />
&nbsp;<span style="color:#27ae60">Route</span>::<span style="color:#d35400">delete</span>($uri, $callback);<br />
&nbsp;<span style="color:#27ae60">Route</span>::<span style="color:#d35400">options</span>($uri, $callback);</p>
</div> 
<p>&nbsp;</p>

<p dir="rtl">گاهی نیاز است که <span style="color:#e74c3c">چند شکل http request</span> &nbsp;داشته باشیم که در این صورت از <span style="color:#f1c40f">دو متود</span> زیر می توانیم استفاده کنیم.</p>

<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#d35400">match</span>([&#39;<span style="color:#f39c12">get</span>&#39;, &#39;<span style="color:#f39c12">post</span>&#39;], &#39;<span style="color:#f39c12">/</span>&#39;, function () {&nbsp;&nbsp;&nbsp;});</p>

<p><span style="color:#27ae60">Route</span>::<span style="color:#d35400">any</span>(&#39;<span style="color:#f39c12">/</span>&#39;, function () {&nbsp; });</p></div> 
<p dir="rtl"><br />
اگر برای روتی نیاز به یک وابستگی و <span style="color:#e74c3c">تزریق وابستگی</span> داشتیم تنها کافی است <span style="color:#d35400">کلاس را به ورودی closure پاس دهیم</span> تا service container <span style="color:#9b59b6">&nbsp;خودش وابستگی های مورد نیاز را به روت اضافه کند.</span></p>

<div class="code"><p>&nbsp;</p>

<p><span style="color:#e74c3c">use</span><span style="color:#f39c12"> Illuminate\Http\Request</span>;</p>

<p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/users</span>&#39;, function (<span style="color:#3498db">Request </span>$request) {&nbsp; &nbsp; });</p></div>

<p>&nbsp;</p>

<p dir="rtl">هر درخواستی که با <span style="color:#e74c3c">POST</span>, <span style="color:#e74c3c">PUT</span>, <span style="color:#e74c3c">PATCH</span>, or <span style="color:#e74c3c">DELETE </span>ارسال می شود نیاز به <span style="color:#d35400">csrf </span>توکن دارد.</p>

<p dir="rtl">اگر همراه این متودهای درخواست اطلاعات گزینه <span style="color:#9b59b6">CSRF token</span> &nbsp;نباشد <span style="color:#e74c3c">reject </span>می شوند.</p>

<p dir="rtl">&nbsp;</p>

<p dir="rtl">دو شکل ارسال <span style="color:#f39c12">CSRF token&nbsp;</span></p>

<p><br />
<span style="color:#ff0099">1</span>. <span style="color:#e74c3c">@csrf</span> &nbsp; &nbsp;==&gt;&nbsp; &nbsp;ایجاد <span style="color:#f39c12">input </span>با name = <span style="color:#e74c3c">_token </span>&nbsp;و value مقدار توکن<br />
<span style="color:#ff0099">2</span>. <span style="color:#e74c3c">Ccsrf_token</span>() ===&gt;&nbsp; <span style="color:#f39c12">تنها مقدار</span> را برمی گرداند.</p>

<p>&nbsp;</p>

<h2 class="y">------   Redirect Routes   ------</h2> 
 <p>&nbsp;</p>
 <p dir="rtl">گاهی می خواهیم یک روت را <span style="color:#d35400">به جایی دیگر ری دایرکت</span> کنین در این صورت به راحتی می توانیم به شکل زیر عمل کنیم</p>

 
<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#d35400">redirect</span>(&#39;<span style="color:#f39c12">/here</span>&#39;, &#39;<span style="color:#f39c12">/there</span>&#39;);</p></div> 
<p dir="rtl">منظر از here روتی است که فراخوانی می شود و منظور از there مسیری است که باید به آن redirect شود.</p>

<p dir="rtl">به طور <span style="color:#f39c12">پیشفرض </span><span style="color:#d35400">Route::redirect</span> یک &nbsp;<span style="color:#f39c12">status code</span> با شماره <span style="color:#e74c3c">302 </span>برمی گرداند اما می توانیم این status code را<span style="color:#9b59b6"> شخصی سازی</span> کنیم و هر چیزی خواستیم بگذاریم.</p>

<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#d35400">redirect</span>(&#39;<span style="color:#f39c12">/here</span>&#39;, &#39;<span style="color:#f39c12">/there</span>&#39;, <span style="color:#9b59b6">301</span>);</p></div> 

<p>&nbsp;</p>

<div class="code"><p>permanent &nbsp; &nbsp; دائمی&nbsp;</p></div> 

<p>&nbsp;</p>

<p dir="rtl">همچنین برای <span style="color:#f1c40f">redirect &nbsp;</span>می توانیم از متود زیر استفاده کنیم که <span style="color:#e74c3c">یک ری دایرکت دائمی</span> است و کد <span style="color:#d35400">301 </span>برمی گرداند.</p>

<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#d35400">permanentRedirect</span>(&#39;<span style="color:#f39c12">/here</span>&#39;, &#39;<span style="color:#f39c12">/there</span>&#39;);</p></div> 
<p dir="rtl"><span style="color:#e74c3c">ری دایرکت دائمی توسط خود لاراول هندل</span> می شود و نیازی به استفاده از چیز خاصی نداریم.</p>

<p dir="rtl">اگر می خواهیم روتی تعریف کنیم که<span style="color:#d35400"> فقط یک view</span> را برمی گرداند بهتر است به شکل زیر عمل کنیم.</p>

<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">view</span>(&#39;<span style="color:#f39c12">/welcome</span>&#39;, &#39;<span style="color:#f39c12">welcome</span>&#39;);&nbsp;</p>

<p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">view</span>(&#39;<span style="color:#f39c12">/welcome</span>&#39;, &#39;<span style="color:#f39c12">welcome</span>&#39;, [&#39;<span style="color:#f39c12">name</span>&#39; =&gt; &#39;<span style="color:#f39c12">Taylor</span>&#39;]);</p></div> 

<p dir="rtl">پارامتر اول &nbsp;<span style="color:#f1c40f">url </span>است<br />
پارامتر دوم یک <span style="color:#e67e22">name </span>برای آن view&nbsp;<br />
پارامتر سوم<span style="color:#9b59b6"> پارامترهایی است که می خواهیم به view</span> ارسال کنیم.</p>

<p dir="rtl">گاهی باید در روت<span style="color:#e74c3c"> پارامترهای داینامیک</span> قرار دهیم مثل id پست و ..</p>

<p dir="rtl">پارامترهای <span style="color:#ff0099">اجباری </span>به شکل زیر تعریف می شوند</p>

<div class="code">
<p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/user/</span>{<span style="color:#e74c3c">id</span>}&#39;, function ($id) {&nbsp;<br />
&nbsp; &nbsp; <span style="color:#e74c3c">return </span>&#39;<span style="color:#f39c12">User </span>&#39;.$id;&nbsp;<br />
});</p>

<p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/posts/{post}/comments/{comment}</span>&#39;, function ($postId, $commentId) {&nbsp;&nbsp;});</p></div>
<p dir="rtl"><br />
پارامتر ها <span style="color:#e74c3c">داینامیک </span>روت<span style="color:#9b59b6"> همیشه باید داخل</span> &nbsp;<span style="color:#e74c3c">{}</span> باشند و فقط از<span style="color:#d35400"> حروف الفبای</span> و <span style="color:#d35400">underscore_</span> &nbsp;تشکیل شده باشند.<br />
پارامتر ها<span style="color:#e74c3c"> به ترتیب</span> به <span style="color:#f39c12">کلوژر یا کنترلر</span> پاس داده می شوند.</p>

<p dir="rtl"><br />
اگر پارامترها وابستگی دارند به راحتی می توانیم با روش<span style="color:#2ecc71"> روت کلاس بایتدینگ وابستگی ها</span> را اضافه کنیم.</p>

 
<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/user/{id}</span>&#39;, function (<span style="color:#3498db">Request </span>$request, $id) {&nbsp;<br />
&nbsp; &nbsp; <span style="color:#e74c3c">return </span>&#39;User &#39;.$id;&nbsp;<br />
});</p></div> 
<p dir="rtl"><br />
پارامترهای <span style="color:#ff0099">اختیاری</span></p>

<p dir="rtl">پارامترهای اختیاری روت با <span style="color:#e74c3c">علامت ?</span> تعیین می شوند. این پارامترها <span style="color:#d35400">حتما باید یک مقدار دیفالت </span>برای آن ها ست کنیم تا در صورتی که در<span style="color:#f39c12"> url نبود</span> و فراخوانی شدند<span style="color:#f1c40f"> ارور روی ندهد</span> و مقدار دیفالت وجود داشته باشد.</p>

<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#2980b9">get</span>(&#39;<span style="color:#f39c12">/user/{name?}</span>&#39;, function ($name = <span style="color:#8e44ad">null</span>) {&nbsp;<br />
&nbsp; &nbsp; <span style="color:#e74c3c">return </span>$name;&nbsp;<br />
});&nbsp;</p></div>

<br />
<div class="code"><p>
constrain &nbsp; &nbsp;محدود کردن</p></div> 
<br />
<h2 class="y">------   regular expression in Route   ------</h2> 
<br />

<p dir="rtl">با <span style="color:#e74c3c">regex </span>می توانیم <span style="color:#d35400">فرمت پارامترها</span> را تعیین کنیم.<br />
اعمال <span style="color:#9b59b6">regex </span>به شکل زیر انجام می شود.</p>

<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/user/{name}</span>&#39;, function ($name) {&nbsp;<br />
&nbsp; &nbsp; <span style="color:#7f8c8d">//&nbsp;</span><br />
})-&gt;<span style="color:#d35400">where</span>(&#39;<span style="color:#e74c3c">name</span>&#39;, &#39;<span style="color:#e74c3c">[A-Za-z]+</span>&#39;);</p>

<p>&nbsp;</p>
<p>&nbsp;</p>

<p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/user/{id}</span>&#39;, function ($id) {&nbsp;<br />
<span style="color:#7f8c8d">&nbsp; &nbsp;//&nbsp;</span><br />
})-&gt;<span style="color:#d35400">where</span>(&#39;<span style="color:#e74c3c">id</span>&#39;, &#39;<span style="color:#e74c3c">[0-9]+</span>&#39;);</p>

<p>&nbsp;</p>
<p>&nbsp;</p>

<p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/user/{id}/{name}</span>&#39;, function ($id, $name) {&nbsp;<br />
&nbsp;<span style="color:#7f8c8d"> &nbsp;//</span><br />
})-&gt;<span style="color:#d35400">where</span>([&#39;<span style="color:#e74c3c">id</span>&#39; =&gt; &#39;<span style="color:#e74c3c">[0-9]+</span>&#39;, &#39;<span style="color:#e74c3c">name</span>&#39; =&gt; &#39;<span style="color:#e74c3c">[a-z]+</span>&#39;]);</p></div> 
<p dir="rtl">برخی از الگو ها مثل <span style="color:#f39c12">عددی بودن</span> متود آماده دارند که می توانیم از آن استفاده کنیم و <span style="color:#9b59b6">نیازی نیست</span> خودمان regex تعریف کنیم.</p>

<div class="code">

<p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/user/{id}/{name}</span>&#39;, function ($id, $name) {&nbsp;<br />
&nbsp;<span style="color:#7f8c8d"> &nbsp;//&nbsp;</span><br />
})-&gt;<span style="color:#d35400">whereNumber</span>(&#39;<span style="color:#e74c3c">id</span>&#39;)-&gt;<span style="color:#d35400">whereAlpha</span>(&#39;<span style="color:#e74c3c">name</span>&#39;);</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/user/{name}</span>&#39;, function ($name) {&nbsp;<br />
&nbsp; <span style="color:#7f8c8d">&nbsp;//&nbsp;</span><br />
})-&gt;<span style="color:#d35400">whereAlphaNumeric</span>(&#39;<span style="color:#e74c3c">name</span>&#39;);</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/user/{id}</span>&#39;, function ($id) {&nbsp;<br />
&nbsp;<span style="color:#7f8c8d"> //</span><br />
})-&gt;<span style="color:#d35400">whereUuid</span>(&#39;<span style="color:#e74c3c">id</span>&#39;);</p></div> 
<p dir="rtl">اگر پارامتری ارسالی با الگوی <span style="color:#f1c40f">regex </span>تعریف کردیم <span style="color:#e74c3c">مطابقت نداشت</span> یک <span style="color:#d35400">404 HTTP response </span>برگشت داده می شود.</p>
<p>&nbsp;</p>
<h2 class="y">------   محدودیت گلوبال روی پارامترهای روت   ------</h2> 
<p>&nbsp;</p>
<p dir="rtl">اگر می خواهیم یک پارامتر مثلا <span style="color:#9b59b6">ایدی </span><span style="color:#e74c3c">همیشه با الگوی regex </span>تعریفی محدود شود باید آن را در&nbsp; <span style="color:#f1c40f">\Providers\RouteServiceProvider</span>&nbsp;مشخص کنیم.بعد از این کار محدودیت الگوی regex تعریفی<span style="color:#f39c12"> به صورت خودکار</span> روی <span style="color:#e74c3c">همه روت ها با پارامتر مدنظر</span> اعمال می شود.</p>

<div class="code"><p><br />
<span style="color:#9b59b6">public </span>function <span style="color:#27ae60">boot</span>() {&nbsp;<br />
&nbsp; &nbsp; <span style="color:#27ae60">Route</span>::<span style="color:#d35400">pattern</span>(&#39;<span style="color:#e74c3c">id</span>&#39;, &#39;<span style="color:#e74c3c">[0-9]+</span>&#39;);&nbsp;<br />
}</p></div> 
<p dir="rtl">&nbsp;</p>
<p dir="rtl"><br />
به طور معمول می توانیم پارامترهای روت می تواند <span style="color:#9b59b6">شامل تمام کاراکترها</span> <span style="color:#e67e22">به جز / </span>باشد اما خودمان می توانیم <span style="color:#e74c3c">اجازه بود / را هم بدهیم</span>. با این کار<span style="color:#d35400"> / کد</span> می شود<span style="color:#e67e22"> با regex </span>و در پارامترها قرار می گیرد به این کار <span style="color:#e74c3c">Encoded forward slashes </span>می گویند.</p>

<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/search/{search}</span>&#39;, function ($search) {&nbsp;<br />
&nbsp; &nbsp;<span style="color:#e74c3c">return </span>$search;<br />
})-&gt;<span style="color:#d35400">where</span>(&#39;<span style="color:#e74c3c">search</span>&#39;, &#39;<span style="color:#d35400">.*</span>&#39;);</p></div> 
<p dir="rtl">البته یک <span style="color:#f39c12">محدودیت </span>وجود دارد و آن این است که <span style="color:#9b59b6">Encoded forward slashes</span> <span style="color:#e74c3c">فقط در آخرین بخش روت پشتیبانی</span> می شود و در<span style="color:#d35400"> وسط روت نمی توانیم </span>از آن استفاده کنیم.</p>
<br />
<h2 class="y">------   Named routes   ------</h2> 
<br />

<p dir="rtl">اختصاص دادن <span style="color:#e74c3c">name </span>به روت ها <span style="color:#d35400">مدیریت آن ها را مراتب آسان تر</span> می کند. زمانی ک<span style="color:#9b59b6">ه یک url را خواستیم تغییر دهیم</span> دیگر نیازی نیست بگردیم هرجه از آن استفاده کردیم، آن را تغییر دهیم.</p>

<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/user/profile</span>&#39;, function () {&nbsp;<br />
<span style="color:#7f8c8d">&nbsp; &nbsp;//&nbsp;</span><br />
})-&gt;<span style="color:#d35400">name</span>(&#39;<span style="color:#e74c3c">profile</span>&#39;);</p>

<p>&nbsp;</p>

<p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>( &#39;<span style="color:#f39c12">/user/profile</span>&#39;, [<span style="color:#27ae60">UserProfileController</span>::<span style="color:#9b59b6">class</span>, &#39;<span style="color:#f39c12">show</span>&#39;] )-&gt;<span style="color:#d35400">name</span>(&#39;<span style="color:#e74c3c">profile</span>&#39;);</p></div> 
<p>&nbsp;</p>
<p dir="rtl">توجه داشته باشید <span style="color:#f39c12">Named routes</span> باید <span style="color:#e74c3c">همیشه یونیک</span> باشد وگرنه تداخل ایجاد می شود.</p>

<p dir="rtl">زمانی که از <span style="color:#f39c12">Named routes </span>استفاده می کنیم می توانیم از <span style="color:#e74c3c">هلپر فانکشن route </span>&nbsp;هم استفاده کنیم دست ما را بسیار زیاد در <span style="color:#d35400">گرفتن یا redirect &nbsp;کردن url </span>ها باز می کند.</p>

<div class="code"><p>$url = <span style="color:#d35400">route</span>(&#39;<span style="color:#f39c12">profile</span>&#39;);<br />
return <span style="color:#e74c3c">redirect</span>()-&gt;<span style="color:#d35400">route</span>(&#39;<span style="color:#f39c12">profile</span>&#39;);</p></div> 

<p>&nbsp;</p>
<p dir="rtl">اکر<span style="color:#f39c12"> پارامتری برای روت</span> تعریف کردیم می توانیم آن را در<span style="color:#e74c3c"> قالب یک array</span> &nbsp;و به <span style="color:#d35400">عنوان پارامتر دوم به هلپر فانکشن route </span>&nbsp;پاس دهیم.</p>
<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/user/{id}/profile</span>&#39;, function ($id) {&nbsp;<br />
&nbsp; &nbsp;<span style="color:#7f8c8d"> //</span><br />
&nbsp;})-&gt;<span style="color:#d35400">name</span>(&#39;<span style="color:#f39c12">profile</span>&#39;);</p>

<p>$url = <span style="color:#d35400">route</span>(&#39;<span style="color:#f39c12">profile</span>&#39;, [&#39;<span style="color:#9b59b6">id</span>&#39; =&gt; <span style="color:#9b59b6">1</span>]);</p></div> 
<p>&nbsp;</p>
<p dir="rtl">اگر <span style="color:#e67e22">پارامتر اضافی تر</span> از آنچه در روت تعریف کردیم به <span style="color:#e74c3c">هلپر فانکشن route &nbsp;پاس دهیم</span>. به <span style="color:#27ae60">طور خودکار</span> آن ها را <span style="color:#e74c3c">به عنوان query string &nbsp;</span>در نظر می گیرد و <span style="color:#3498db">در url اضافه</span> می کند.</p>

<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/user/{id}/profile</span>&#39;, function ($id) {&nbsp;<br />
&nbsp; <span style="color:#7f8c8d">&nbsp; //&nbsp;</span><br />
})-&gt;<span style="color:#d35400">name</span>(&#39;<span style="color:#f39c12">profile</span>&#39;);&nbsp;</p>

<p>$url = <span style="color:#d35400">route</span>(&#39;<span style="color:#f39c12">profile</span>&#39;, [&#39;<span style="color:#f39c12">id</span>&#39; =&gt; <span style="color:#9b59b6">1</span>, &#39;<span style="color:#f39c12">photos</span>&#39; =&gt; &#39;<span style="color:#f39c12">yes</span>&#39;]);&nbsp;</p>

<p><span style="color:#7f8c8d">//&nbsp; &nbsp;/user/1/profile?photos=yes</span></p>

<p>&nbsp;</p></div> 
<p>&nbsp;</p>

<div class="code"><p>inspect &nbsp; &nbsp;بازرسی</p></div> 
<p>&nbsp;</p>
<h2 class="y">------   بررسی روت  کنونی   ------</h2> 
<p>&nbsp;</p>
<p dir="rtl">می توانیم با روش زیر تعیین کنیم که<span style="color:#e74c3c"> درخواست در روت خاصی</span> است.&nbsp;<br />
حتی به کمک این روش می توانیم یک <span style="color:#f39c12">middleware &nbsp;</span>تعریف کنیم و <span style="color:#e74c3c">اجازه دسترسی به روت های مختلف</span> را مدیریت کنیم.</p>

<div class="code"><p><span style="color:#7f8c8d">in middleware&nbsp;</span></p>

<p><span style="color:#9b59b6">public </span><span style="color:#3498db">function </span><span style="color:#27ae60">handle</span>($request, <span style="color:#2980b9">Closure </span>$next){&nbsp;<br />
&nbsp; &nbsp; if ($request-&gt;<span style="color:#d35400">route</span>()-&gt;<span style="color:#e74c3c">named</span>(&#39;<span style="color:#f39c12">profile</span>&#39;)) {<br />
&nbsp; &nbsp; &nbsp;<span style="color:#7f8c8d"> //&nbsp;</span><br />
&nbsp; &nbsp; }<br />
&nbsp; &nbsp;&nbsp;<span style="color:#e74c3c">return </span>$<span style="color:#d35400">next</span>($request);<br />
&nbsp;}</p></div> 
<br />
<h2 class="y">------   Route groups   ------</h2> 
<br />
<p dir="rtl">خاصیت <span style="color:#e74c3c">Route groups </span>به ما امکان می دهد یک خاصیت را به جای تعریف به صورت جداگانه برای <span style="color:#d35400">روت های مختلف تنها یکبار برای یک گروه روت </span>تعریف کنیم.</p>

<p dir="rtl">زمانی که <span style="color:#e67e22">یک میدل ویر یا شرط where </span>&nbsp;را برای یک گروه تعریف می کنیم. این موارد<span style="color:#e74c3c"> روی همه روت های گروه اعمال</span> می شود.</p>

<p dir="rtl">یک <span style="color:#9b59b6">مزیت </span>گروه ها این است که <span style="color:#e74c3c">اسلش و prefix &nbsp;که تعریف کردیم </span>به صورت <span style="color:#2ecc71">خودکار </span>به <span style="color:#d35400">همه روت ها </span>اضافه می شوند و نیازی نیست دوباره خودمان آن ها را به روت ها اضافه کنیم.</p>

<p dir="rtl"><br />
برای اضافه کردن <span style="color:#9b59b6">middleware </span>به <span style="color:#f39c12">تمام روت های داخل یک group</span> می توانیم به شکل زیر عمل کنیم. اگر<span style="color:#e74c3c"> چند middleware</span> داشتیم یک <span style="color:#d35400">array &nbsp;</span>تعریف می کنیم فقط توجه داشته باشید که <span style="color:#ff0099">middleware های داخل آرایه به ترتیب اجرا می شوند</span>.</p>
<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#e74c3c">middleware</span>([&#39;<span style="color:#f39c12">first</span>&#39;, &#39;<span style="color:#f39c12">second</span>&#39;])-&gt;<span style="color:#d35400">group</span>(function () {&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp; &nbsp;<span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/</span>&#39;, function () {&nbsp;<br />
&nbsp; &nbsp;<span style="color:#7f8c8d"> &nbsp;// Uses first &amp; second middleware...&nbsp;</span><br />
&nbsp; &nbsp;});&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp; &nbsp;<span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(<span style="color:#f39c12">&#39;/user/profile</span>&#39;, function () {&nbsp;<br />
&nbsp; &nbsp; <span style="color:#7f8c8d">&nbsp;// Uses first &amp; second middleware...</span><br />
&nbsp; &nbsp;});&nbsp;</p>

<p>&nbsp;</p>

<p>});</p>

<p>&nbsp;</p></div>
<p>&nbsp;</p>
<p dir="rtl">از <span style="color:#9b59b6">Route groups</span> می توانیم برای<span style="color:#e74c3c"> مدیریت sub domains</span> &nbsp;هم استفاده کنیم.<br />
می توانیم<span style="color:#d35400"> بخشی از ساب دامنه &nbsp;</span>را دریافت کنیم تا در روت ها یا <span style="color:#9b59b6">جای دیگر</span> استفاده کنیم.</p>

<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#d35400">domain</span>(&#39;<span style="color:#f39c12">{account}.example.com</span>&#39;)-&gt;<span style="color:#d35400">group</span>(function () {&nbsp;<br />
&nbsp; &nbsp;<span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">user/{id}</span>&#39;, function ($account, $id) {&nbsp;<br />
&nbsp; &nbsp; &nbsp;<span style="color:#7f8c8d"> //</span><br />
&nbsp; &nbsp;});&nbsp;<br />
});</p></div> 
<p dir="rtl"><br />
باید<span style="color:#f1c40f"> ابتدا روت های مربوط به ساب دامنه ها</span> را تعریف کنیم و<span style="color:#e74c3c"> بعد روت های اصلی</span> را تعریف کنیم. این برای این است که<span style="color:#f39c12"> مطمئن باشیم روت های ساب دامنه در دسترس هستند</span> و <span style="color:#e74c3c">جلوگیری از تداخل و overwrite روت های دامنه</span> اصلی با ساب دامنه که<span style="color:#f39c12"> URI path </span>مشابهی دارند.</p>
<br />
<h2 class="y">------   Route Prefix  ------</h2> 
<br />
<p dir="rtl">برای اضافه کردن <span style="color:#e74c3c">prefix </span>به <span style="color:#f39c12">روت ها و url </span>می توانیم به شکل زیر عمل کنیم. این مورد بیشتر برای <span style="color:#3498db">روت های group</span> استفاده می شود و روی <span style="color:#e67e22">تمام روت ها</span> اعمال می شود.</p>

<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#e74c3c">prefix</span>(&#39;<span style="color:#f39c12">admin</span>&#39;)-&gt;<span style="color:#d35400">group</span>(function () {&nbsp;</p>

<p>&nbsp; &nbsp; <span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/users</span>&#39;, function () {&nbsp;<br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#7f8c8d"> // Matches The &quot;/admin/users&quot; URL</span><br />
&nbsp; &nbsp; &nbsp;});&nbsp;</p>

<p>});</p></div> 
<p>&nbsp;</p>

<p>&nbsp;</p>


<p dir="rtl">در این روش از<span style="color:#f39c12"> تابع name</span> است استفاده می شود تا <span style="color:#e74c3c">یک prefix</span> &nbsp;به <span style="color:#d35400">همه name روت های تعریف شده</span> در یگ <span style="color:#9b59b6">group </span>&nbsp;اضافه کنیم.<br />
توجه کنید &nbsp;اضافه کردن<span style="color:#e74c3c"> prefix &nbsp;به name</span> روت ها</p>

<p dir="rtl">بهتر است برای <span style="color:#e74c3c">تفکیک </span>یک <span style="color:#d35400">dot </span>در انتهای آن بگذاریم</p>

<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#e74c3c">name</span>(&#39;a<span style="color:#f39c12">dmin.</span>&#39;)-&gt;<span style="color:#d35400">group</span>(function () {&nbsp;</p>

<p>&nbsp; &nbsp; <span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/users</span>&#39;, function () {&nbsp;</p>

<p>&nbsp; &nbsp; &nbsp; <span style="color:#7f8c8d">&nbsp; // Route assigned name &quot;admin.users&quot;...&nbsp;</span></p>

<p>&nbsp; &nbsp; })-&gt;<span style="color:#d35400">name</span>(&#39;<span style="color:#f39c12">users</span>&#39;);&nbsp;</p>

<p>});</p></div> 
<br />
<h2 class="y">-   Laravel route model binding -</h2> 
<br />
<p dir="rtl">زمانی که یک پارامتر به <span style="color:#9b59b6">کلوژر روت پاس</span> داده می شود شاید نیاز است که با این پارامتر<span style="color:#9b59b6"> کوئری بزنیم به دیتابیس</span> اما لاراول برای راحتی کار ما احازه می دهد تا <span style="color:#e74c3c">model را به همراه ورودی به کلوژر پاس</span> دهیم.</p>

<p dir="rtl">در این صورت اگر ایدی را به کلوژر پاس دهیم و از <span style="color:#f39c12">route model binding</span> استفاده کرده باشیم لاراول <span style="color:#e74c3c">کل اطلاعات آن id را از دیتابیس برمی گرداتد</span> و با آن مانند یک <span style="color:#f1c40f">وابستگی </span>رفتار می کند که کل اطلاعات آن نیاز است و باید <span style="color:#27ae60">inject </span>شود.</p>

<div class="code"><p>function(<span style="color:#2980b9">User </span>$user){<br />
&nbsp; &nbsp; <span style="color:#f1c40f">dd</span>($user);<br />
}</p></div> 
<p dir="rtl"><br />
لاراول <span style="color:#e74c3c">خودش </span>مطابقت می دهد <span style="color:#f39c12">route model binding</span> &nbsp;که نام متغییر آن به <span style="color:#e74c3c">عنوان پارامتر در بخشی از url</span> آمده است.</p>

<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/users/{user}</span>&#39;, function (<span style="color:#2980b9">User </span>$user) {<br />
&nbsp; &nbsp; &nbsp; <span style="color:#e74c3c">return </span>$user-&gt;email;&nbsp;<br />
});</p>

<p>&nbsp;</p>

<p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/users/{user}</span>&#39;, [<span style="color:#27ae60">UserController</span>::<span style="color:#9b59b6">class</span>, &#39;<span style="color:#f39c12">show</span>&#39;]);&nbsp;</p>

<p><span style="color:#7f8c8d">&nbsp;// Controller method definition...&nbsp;</span></p>

<p>&nbsp;</p>

<p><span style="color:#9b59b6">public</span> function <span style="color:#27ae60">show</span>(<span style="color:#2980b9">User </span>$user) {&nbsp;<br />
&nbsp; &nbsp; <span style="color:#e74c3c">return </span><span style="color:#27ae60">view</span>(&#39;<span style="color:#f39c12">user.profile</span>&#39;, [&#39;<span style="color:#f39c12">user</span>&#39; =&gt; $user]);&nbsp;<br />
}</p></div> 
<p dir="rtl">اگر این مطابقت <span style="color:#e74c3c">یافت نشود</span> یک <span style="color:#d35400">404 HTTP response </span>برگشت داده می شود.&nbsp;<br />
پس باید حتما اسم متغییر <span style="color:#f39c12">route model binding</span> &nbsp;و <span style="color:#e74c3c">پارامتر روت match</span> باشد.</p>

<p dir="rtl">&nbsp;</p>

<p dir="rtl">در <span style="color:#3498db">vscode </span>از ترکیب کلیدهای زیر می توانیم برای <span style="color:#d35400">ایمپورت کلاس ها</span> استفاده کنیم.</p>

<p><span style="color:#f39c12">Ctrl </span>+ &nbsp;<span style="color:#f39c12">alt </span>+ &nbsp;<span style="color:#f39c12">i</span></p>

<p>&nbsp;</p>
<p dir="rtl">به طور معمول <span style="color:#d35400">route model binding </span>&nbsp;یا <span style="color:#e67e22">implicit model binding </span>دیتایی که <span style="color:#e74c3c">soft delete </span>شده است را برنمی گرداند.<span style="color:#9b59b6"> برای برگرداند دیتا soft delete شده</span> همراه سایر دیتا ها از متود <span style="color:#e74c3c">withTrashed </span>استفاده می کنیم.</p>

<div class="code">
<p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/users/{user}</span>&#39;, function (User $user) {&nbsp;<br />
&nbsp; &nbsp; &nbsp; <span style="color:#e74c3c">return </span>$user-&gt;email;<br />
&nbsp;})-&gt;<span style="color:#e74c3c">withTrashed</span>();</p></div> 
<p>&nbsp;</p>
<p dir="rtl"><br />
گاهی میخواهیم اطلاعات <span style="color:#e74c3c">سطرهای از دیتابیس را با دیتای ستون دیگری به غیر از id</span> برگردانیم. در این صورت به شکل زیر عمل می کنیم. مانند <span style="color:#f1c40f">slug</span></p>

<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/posts/{post:slug}</span>&#39;, function (<span style="color:#2980b9">Post </span>$post) {&nbsp;<br />
&nbsp; &nbsp; <span style="color:#e74c3c">return </span>$post;<br />
});</p></div>
<p dir="rtl">بعد از <span style="color:#e74c3c">:</span><span style="color:#d35400"> اسم ستون یا همان فیلد</span> را قرار می دهیم.</p>
 <p dir="rtl">&nbsp;</p>

<p dir="rtl">
برای این که<span style="color:#f39c12"> Elequent model</span> مورد نظر برای همیشه از<span style="color:#e74c3c"> فیلد دیگری به غیر از id </span>برای برگرداندن اطلاعات استفاده کند. در این صورت باید در آن مدل متود <span style="color:#e74c3c">getRouteKeyName </span>را <span style="color:#f39c12">override &nbsp;</span>کنیم.</p>

<div class="code"><p><span style="color:#9b59b6">public </span>function <span style="color:#e74c3c">getRouteKeyName</span>() {<br />
&nbsp; &nbsp; <span style="color:#e74c3c">return </span>&#39;<span style="color:#f39c12">slug</span>&#39;;<br />
}</p></div>
<p dir="rtl">در حالت عادی اگر <span style="color:#9b59b6">implicitly bound model </span>&nbsp;یا <span style="color:#9b59b6">route model binding </span>&nbsp;<span style="color:#d35400">یافت نشود</span>. لاراول یک <span style="color:#e74c3c">404 HTTP response </span>برمی گرداند اما می توانیم این رفتار را<span style="color:#e74c3c"> تغییر دهیم.</span></p>
 
<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/locations/{location:slug}</span>&#39;, [<span style="color:#2ecc71">LocationsController</span>::<span style="color:#9b59b6">class</span>, &#39;<span style="color:#f39c12">show</span>&#39;]) -&gt;<span style="color:#d35400">name</span>(&#39;<span style="color:#f39c12">locations.view</span>&#39;) -&gt;<span style="color:#d35400">missing</span>(function (<span style="color:#2980b9">Request </span>$request) {&nbsp;<br />
&nbsp; &nbsp; &nbsp; <span style="color:#e74c3c">return </span><span style="color:#27ae60">Redirect</span>::<span style="color:#3498db">route</span>(&#39;<span style="color:#f39c12">locations.index</span>&#39;);<br />
});</p></div> 
<br />



<p>&nbsp;</p>
<p>&nbsp;</p>

<h2 class="y">------   Customize resolution logic   ------</h2> 
<p dir="rtl">در لاراول به شکل <span style="color:#f1c40f">دیفالت </span>منطق برنامه این گونه است که<span style="color:#9b59b6"> route model binding</span> براساس <span style="color:#e74c3c">id </span>اطلاعات را برمی گرداند اما اگر می خواهیم <span style="color:#f39c12">این منطق را تغییر دهیم</span> می توانیم به شکل زیر در&nbsp;<span style="color:#e67e22">RouteServiceProvider </span>عمل کنیم.</p>
<div class="code"><p><span style="color:#e74c3c">public </span>function boot() {</p>

<p>&nbsp; &nbsp;<span style="color:#27ae60">Route</span>::<span style="color:#d35400">bind</span>(&#39;<span style="color:#f39c12">user</span>&#39;, function ($value) {</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#e74c3c">return </span><span style="color:#27ae60">User</span>::<span style="color:#d35400">where</span>(&#39;<span style="color:#f39c12">name</span>&#39;, $value)-&gt;<span style="color:#3498db">firstOrFail</span>();</p>

<p>&nbsp; &nbsp;});</p>

<p>&nbsp; &nbsp;<span style="color:#7f8c8d">// ...</span></p>

<p>}</p></div>
<p>&nbsp;</p>
<p dir="rtl">به جای استفاده از روش بالا می توانیم همین کار را در <span style="color:#9b59b6">model مورد نظر</span> هم انجام دهیم.</p>
<div class="code">
<p><span style="color:#7f8c8d">// in model</span></p>

<p><span style="color:#e74c3c">public </span>function <span style="color:#3498db">resolveRouteBinding</span>($value, $field = <span style="color:#9b59b6">null</span>) {</p>

<p>&nbsp; &nbsp; &nbsp;<span style="color:#e74c3c">return </span>$this-&gt;<span style="color:#d35400">where</span>(&#39;<span style="color:#f39c12">name</span>&#39;, $value)-&gt;<span style="color:#3498db">firstOrFail</span>();</p>

<p>}</p></div>

<p>&nbsp;</p>

<h2 class="y">------   fallback  routes   ------</h2> 
<p>&nbsp;</p>
<p dir="rtl">در حالت <span style="color:#9b59b6">عادی </span>زمانی که یک <span style="color:#9b59b6">request </span><span style="color:#e74c3c">شکست </span>می خورد و روت آن <span style="color:#f1c40f">پیدا نمی شود</span> به صفحه <span style="color:#d35400">404 </span>منتقل می شود اما می توان <span style="color:#e74c3c">Route::fallback</span> این روند را تغییر داد و <span style="color:#f39c12">یک view دیگر return کرد</span> یا کدهای خاص دیگری را در داخل تابع زیر اجرا کرد.</p>

<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#d35400">fallback</span>(function () {&nbsp;<br />
&nbsp;<span style="color:#7f8c8d"> &nbsp; //&nbsp;</span><br />
});</p></div> 
<p dir="rtl"><br />
<span style="color:#e74c3c">توجه </span>کنید که<span style="color:#e74c3c"> fallback route</span> باید همیشه <span style="color:#e74c3c">همیشه آخرین روتی باشد که در web.php ثبت</span> می شود.</p>

<p>&nbsp;</p>

<h2 class="y">------   Rate Limiter   ------</h2> 
<p>&nbsp;</p>
<p dir="rtl">لاراول یک سیستم <span style="color:#f39c12">قدرتمند </span><span style="color:#d35400">rate limiter </span>&nbsp;دارد که با آن می توان <span style="color:#e74c3c">به راحتی ترافیک ورودی به یک روت یا گروهی از روت ها </span>را <span style="color:#d35400">محدود </span>کرد.</p>

<p dir="rtl"><br />
<span style="color:#9b59b6">تنظیمات </span>مربوط به <span style="color:#2ecc71">rate limiter</span> در <span style="color:#d35400">داخل متود configureRateLimiting</span> در کلاس <span style="color:#e74c3c">App\Providers\ RouteServiceProvider </span>قرار دارد و می توانید آن را تنظیم کنید.</p>

<div class="code"><p>&nbsp;<span style="color:#e74c3c">protected </span>function <span style="color:#d35400">configureRateLimiting</span>() {<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#27ae60">RateLimiter</span>::<span style="color:#e74c3c">for</span>(&#39;<span style="color:#f39c12">api</span>&#39;, function (<span style="color:#2980b9">Request</span> $request) {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#e74c3c">return </span><span style="color:#27ae60">Limit</span>::<span style="color:#8e44ad">perMinute</span>(60)-&gt;<span style="color:#e74c3c">by</span>(<span style="color:#e67e22">optional</span>($request-&gt;user())-&gt;id <span style="color:#e74c3c">?:</span> $request-&gt;ip());<br />
&nbsp; &nbsp; &nbsp; &nbsp; });<br />
&nbsp;}</p>

<p>&nbsp;</p></div> 

<p dir="rtl">برای گرفتن ip کاربر می توانیم از دستور زیر استفاده کنیم.</p>
<div class="code"><p>$request-&gt;<span style="color:#d35400">ip</span>()</p></div> 
<p>&nbsp;</p>
<p dir="rtl">برای<span style="color:#f1c40f"> تعریف rate limiter</span> &nbsp;از <span style="color:#9b59b6">فساد </span><span style="color:#e74c3c">RateLimiter </span>و متود <span style="color:#e74c3c">for </span>آن استفاده می کنیم.</p>

<p dir="rtl">متود <span style="color:#e74c3c">for </span>یک <span style="color:#d35400">name </span>می گیرد و <span style="color:#d35400">یک کلوژر که تنظیمات مربوط به rate limiter </span>&nbsp;در آن قرار دارد.</p>

<p dir="rtl">در اینجا name <span style="color:#f1c40f">اختیاری </span>است.</p>

<p dir="rtl">ابتدا <span style="color:#e67e22">Illuminate\Cache\ RateLimiting\Limit</span> را <span style="color:#2ecc71">use </span>کنید.</p>

<div class="code"><p><span style="color:#e74c3c">protected</span> function <span style="color:#27ae60">configureRateLimiting</span>() {&nbsp;</p>

<p>&nbsp; &nbsp; <span style="color:#27ae60">RateLimiter</span>::<span style="color:#e74c3c">for</span>(&#39;<span style="color:#f39c12">global</span>&#39;, function (<span style="color:#2980b9">Request </span>$request) {&nbsp;</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#e74c3c">return </span><span style="color:#27ae60">Limit</span>::<span style="color:#e67e22">perMinute</span>(<span style="color:#9b59b6">1000</span>);&nbsp;</p>

<p>&nbsp; &nbsp;});&nbsp;</p>

<p>}</p></div> 

<p dir="rtl">اگر<span style="color:#3498db"> تعداد درخواست ها </span>از <span style="color:#f1c40f">تعدادی که به عنوان rate limiter</span> &nbsp;در نظر گرفتیم <span style="color:#e74c3c">فراتر</span> رفت یک <span style="color:#e74c3c">429 HTTP status code (Too Many Requests)</span> توسط لاراول به صورت <span style="color:#f39c12">خودکار </span>برگشت داده می شود و <span style="color:#d35400">اجازه دسترسی به آن روت بسته </span>می شود.</p>

<p dir="rtl">می توانیم <span style="color:#e67e22">response </span>اختصاصی هم تعیین کنیم تا<span style="color:#e67e22"> در صورت فراتر رفتن درخواست ها </span>اجرا شود و مقدار مورد نظر ما را برگرداند.</p>

<div class="code"><p><span style="color:#27ae60">RateLimiter</span>::<span style="color:#e74c3c">for</span>(&#39;<span style="color:#f39c12">global</span>&#39;, function (<span style="color:#2980b9">Request </span>$request) {&nbsp;</p>

<p>&nbsp; &nbsp;<span style="color:#e74c3c">return </span><span style="color:#27ae60">Limit</span>::<span style="color:#d35400">perMinute</span>(<span style="color:#9b59b6">1000</span>)-&gt;<span style="color:#d35400">response</span>(function () {&nbsp;</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#e74c3c">return </span><span style="color:#d35400">response</span>(&#39;<span style="color:#f39c12">Custom response...</span>&#39;, <span style="color:#8e44ad">429</span>);</p>

<p>&nbsp; &nbsp; });</p>

<p>});</p>

<p>&nbsp;</p></div> 
<p>&nbsp;</p>
<p dir="rtl">داخل این تابع می توانیم کارهای دیگری هم انجام دهیم مانند <span style="color:#d35400">برگرداندن یک view سفارشی</span> یا <span style="color:#e74c3c">اجرای notification</span> &nbsp;یا <span style="color:#ff0099">ارسال ایمیل به مدیر سایت و ...</span></p>

<p dir="rtl"><br />
با توجه به اینکه <span style="color:#8e44ad">کلوژر rate limiter</span> &nbsp;یک نمونه از <span style="color:#f39c12">request </span>را دریافت می کند به عنوان ورودی، ما می توانیم<span style="color:#e67e22"> برحسب احراز هویت شده</span> یا <span style="color:#d35400">تمام درخواست ها یا ... محدودکننده را سفارشی سازی</span> کنیم.</p>

<div class="code"><p>&nbsp;</p>

<p><span style="color:#27ae60">RateLimiter</span>::<span style="color:#e74c3c">for</span>(&#39;<span style="color:#f39c12">uploads</span>&#39;, function (<span style="color:#2980b9">Request </span>$request) {&nbsp;</p>

<p>&nbsp; &nbsp; &nbsp;<span style="color:#e74c3c">return </span>$request-&gt;user()-&gt;<span style="color:#d35400">vipCustomer</span>() <span style="color:#e74c3c">?</span> <span style="color:#27ae60">Limit</span>::<span style="color:#d35400">none</span>() <span style="color:#e74c3c">:</span> <span style="color:#27ae60">Limit</span>::<span style="color:#d35400">perMinute</span>(<span style="color:#9b59b6">100</span>);&nbsp;</p>

<p>});</p>

<p>&nbsp;</p></div> 
<p>&nbsp;</p>
<h2 class="y">------   segment rate limits   ------</h2> 
<p>&nbsp;</p>
<p dir="rtl">گاهی میخواهیم <span style="color:#d35400">rate limiter را با مقادیر دلخواه تقسیم بندی</span> کنیم. برای مثال می خواهیم<span style="color:#3498db"> اجازه بدهیم به کاربران تا دسترسی</span> داشته باشند به <span style="color:#f39c12">روت مدنظر 100 بار در هر دقیقه با یک ip&nbsp;</span>&nbsp;در این صورت از متود <span style="color:#e74c3c">by </span>استفاده می کنیم</p>

<div class="code"><p><span style="color:#27ae60">RateLimiter</span>::<span style="color:#e74c3c">for</span>(&#39;<span style="color:#f39c12">uploads</span>&#39;, function (<span style="color:#2980b9">Request </span>$request) {</p>

<p>&nbsp; &nbsp; &nbsp; <span style="color:#e74c3c">return</span> $request-&gt;user()-&gt;<span style="color:#d35400">vipCustomer</span>() <span style="color:#e74c3c">?</span> <span style="color:#27ae60">Limit</span>::<span style="color:#d35400">none</span>() <span style="color:#e74c3c">:</span> <span style="color:#27ae60">Limit</span>::<span style="color:#d35400">perMinute</span>(<span style="color:#9b59b6">100</span>)-&gt;<span style="color:#e74c3c">by</span>($request-&gt;ip());&nbsp;</p>

<p>});</p>

<p>&nbsp;</p></div> 
<p dir="rtl">مثال زیر می گوید که هر کاربر<span style="color:#f39c12"> لاگین کرده</span> می تواند <span style="color:#9b59b6">100 بار در دقیقه </span>به یک روت درخواست بفرستد و<span style="color:#f39c12"> کاربر مهمان</span> تنها <span style="color:#9b59b6">10 بار در دقیقه</span> با یک ip می تواند به یک روت درخواست ارسال کند.</p>

<div class="code"><p><br />
<span style="color:#27ae60">RateLimiter</span>::<span style="color:#e74c3c">for</span>(&#39;<span style="color:#f39c12">uploads</span>&#39;, function (<span style="color:#2980b9">Request </span>$request) {&nbsp;</p>

<p>&nbsp; &nbsp; &nbsp;<span style="color:#e74c3c">return </span>$request-&gt;user() <span style="color:#e74c3c">?</span> <span style="color:#27ae60">Limit</span>::<span style="color:#d35400">perMinute</span>(100)-&gt;<span style="color:#e74c3c">by</span>($request-&gt;user()-&gt;id) <span style="color:#e74c3c">:</span> <span style="color:#27ae60">Limit</span>::<span style="color:#d35400">perMinute</span>(<span style="color:#9b59b6">10</span>)-&gt;<span style="color:#e74c3c">by</span>($request-&gt;ip());&nbsp;</p>

<p>});</p>

<p>&nbsp;</p></div> 
<p>&nbsp;</p>
<h2 class="y">---   Multi Rate Limiter  ---</h2> 
<p>&nbsp;</p>

<div class="code"><p><span style="color:#27ae60">RateLimiter</span>::<span style="color:#e74c3c">for</span>(&#39;<span style="color:#f39c12">login</span>&#39;, function (<span style="color:#2980b9">Request </span>$request) {&nbsp;</p>

<p>&nbsp; &nbsp; &nbsp;<span style="color:#e74c3c">return</span> [&nbsp;</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#27ae60">Limit</span>::<span style="color:#d35400">perMinute</span>(<span style="color:#9b59b6">500</span>),<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="color:#27ae60">Limit</span>::<span style="color:#d35400">perMinute</span>(<span style="color:#9b59b6">3</span>)-&gt;<span style="color:#e74c3c">by</span>($request-&gt;<span style="color:#e74c3c">input</span>(&#39;<span style="color:#f39c12">email</span>&#39;)),&nbsp;</p>

<p>&nbsp; &nbsp; &nbsp; ];&nbsp;<br />
});</p></div> 
<p dir="rtl">به<span style="color:#e74c3c"> ترتیب قرارگیری</span> در آرایه <span style="color:#9b59b6">محدودیت </span>های rate اعمال می شوند.</p>

<p>&nbsp;</p>
<h2 class="y"><p dir="rtl">---
متصل کردن یا attaching یک rate limiter &nbsp;به یک Route  ----</p></h2> 
<p>&nbsp;</p>
<p dir="rtl">برای اتصال <span style="color:#9b59b6">rate limiter</span> به <span style="color:#f1c40f">یک روت یا گروه روت ها</span> به راحتی می توانیم از <span style="color:#e67e22">middleware &nbsp;</span>خود لاراول <span style="color:#e74c3c">throttle </span>استفاده کنیم که<span style="color:#e74c3c"> فقط name rate limiter</span> &nbsp;مورد نظر را دریافت می کند.&nbsp;</p>

<div class="code"><p><br />
<span style="color:#27ae60">Route</span>::<span style="color:#e74c3c">middleware</span>([&#39;<span style="color:#e74c3c">throttle</span>:<span style="color:#d35400">uploads</span>&#39;])-&gt;<span style="color:#3498db">group</span>(function () {&nbsp;</p>

<p>&nbsp; &nbsp; <span style="color:#27ae60">Route</span>::<span style="color:#e67e22">post</span>(&#39;<span style="color:#f39c12">/audio</span>&#39;, function () {<span style="color:#7f8c8d"> //</span> });&nbsp;</p>

<p>&nbsp; &nbsp; <span style="color:#27ae60">Route</span>::<span style="color:#e67e22">post</span>(&#39;<span style="color:#f39c12">/video</span>&#39;, function () {<span style="color:#7f8c8d"> //</span> });&nbsp;</p>

<p>});</p></div> 
<p dir="rtl"><br />
در حالت عادی <span style="color:#e74c3c">throttle</span> از کلاس زیر مشتق می شود.<br />
<span style="color:#3498db">Illuminate\Routing\Middleware\ ThrottleRequests</span></p>

<p dir="rtl">این دستور در<span style="color:#f1c40f"> App\Http\Kernel</span> قرار دارد و جز <span style="color:#e67e22">middleware &nbsp;</span>هایی است که <span style="color:#f39c12">سفارشی </span>هستند و<span style="color:#e74c3c"> خودمان می توانیم روی هر روتی که خواستیم </span>اعمال کنیم.</p>

<p dir="rtl"><br />
اگر از <span style="color:#e74c3c">redis </span>استفاده می کنید باید کد زیر را جایگزین کنید.<br />
<span style="color:#3498db">Illuminate\Routing\Middleware\ ThrottleRequestsWithRedis</span></p>

<div class="code"><p>&#39;<span style="color:#f39c12">throttle</span>&#39; =&gt; <span style="color:#27ae60">\Illuminate\Routing\Middleware\ThrottleRequestsWithRedis</span>::<span style="color:#9b59b6">class</span>,</p></div> 

<p>&nbsp;</p>
<h2 class="y">---   Form Spoofing   ---</h2> 
<p>&nbsp;</p>
<p dir="rtl">در حالت عادی form های html از متودهای &nbsp;<span style="color:#e67e22">put</span> و <span style="color:#e67e22">patch </span>و <span style="color:#e67e22">delete </span><span style="color:#e74c3c">پشتیبانی نمی کنند</span>. به همین دلیل لاراول به<span style="color:#e74c3c"> دو شکل اجازه جعل یا spoofing </span>فرم ها را به ما می دهد.</p>

<p>&nbsp;</p>

<p dir="rtl"><span style="color:#ff0099">&nbsp;1.</span> ایجاد اینپوت <span style="color:#e67e22">hidden</span></p>

<div class="code"><p>&lt;<span style="color:#e74c3c">form </span><span style="color:#27ae60">action</span>=&quot;<span style="color:#f39c12">/example</span>&quot; <span style="color:#27ae60">method</span>=&quot;<span style="color:#f39c12">POST</span>&quot;&gt;&nbsp;</p>

<p>&nbsp; &nbsp; &lt;<span style="color:#e74c3c">input</span> <span style="color:#27ae60">type</span>=&quot;<span style="color:#f39c12">hidden</span>&quot; <span style="color:#27ae60">name</span>=&quot;<span style="color:#f39c12">_method</span>&quot; <span style="color:#27ae60">value</span>=&quot;<span style="color:#f39c12">PUT</span>&quot;&gt;</p>

<p>&nbsp; &nbsp; &lt;<span style="color:#e74c3c">input </span><span style="color:#27ae60">type</span>=&quot;<span style="color:#f39c12">hidden</span>&quot; <span style="color:#27ae60">name</span>=&quot;<span style="color:#f39c12">_token</span>&quot; <span style="color:#27ae60">value</span>=&quot;{{ <span style="color:#d35400">csrf_token</span>() }}&quot;&gt;&nbsp;</p>

<p>&lt;/<span style="color:#e74c3c">form</span>&gt;</p></div>
<p dir="rtl"><span style="color:#ff0099">2.</span> استفاده از <span style="color:#d35400">directive </span>ها که <span style="color:#e74c3c">خودشان اینپوت موردنیاز</span> را ایجاد می کنند.</p>
 
<div class="code"><p>&lt;<span style="color:#e74c3c">form </span><span style="color:#27ae60">action</span>=&quot;<span style="color:#f39c12">/example</span>&quot; <span style="color:#27ae60">method</span>=&quot;<span style="color:#f39c12">POST</span>&quot;&gt;</p>

<p>&nbsp; &nbsp; &nbsp;<span style="color:#e74c3c">@method</span>(&#39;<span style="color:#3498db">PUT</span>&#39;)&nbsp;<br />
&nbsp; &nbsp;<span style="color:#e74c3c"> &nbsp;@csrf&nbsp;</span></p>

<p>&lt;/<span style="color:#e74c3c">form</span>&gt;</p>

<p>&nbsp;</p></div> 
<p>&nbsp;</p>
<h2 class="y">---   Access to current route   ---</h2> 
<p>&nbsp;</p>
<p dir="rtl">دسترسی به <span style="color:#d35400">روت فعلی&nbsp;</span></p>
<p dir="rtl"><br />
می توانیم از متودهای <span style="color:#d35400">current</span>, <span style="color:#d35400">currentRouteName</span>, and <span style="color:#d35400">currentRouteAction &nbsp;</span>که مربوط به <span style="color:#9b59b6">فساد </span><span style="color:#d35400">Route &nbsp;</span>هستند برای <span style="color:#e74c3c">گرفتن اطلاعات در مورد روتی که درخواست</span> از آن آمده است استفاده کنیم.</p>

<div class="code"><p><br />
<span style="color:#e74c3c">use </span>Illuminate\Support\Facades\Route;</p>

<p><br />
$route = <span style="color:#27ae60">Route</span>::<span style="color:#d35400">current</span>();&nbsp; &nbsp;<span style="color:#7f8c8d"> &nbsp;// Illuminate\Routing\Route</span></p>

<p>$name = <span style="color:#27ae60">Route</span>::<span style="color:#d35400">currentRouteName</span>();&nbsp; &nbsp;<span style="color:#7f8c8d"> // string&nbsp;==> name of route </span></p>

<p>$action = <span style="color:#27ae60">Route</span>::<span style="color:#d35400">currentRouteAction</span>();&nbsp; &nbsp; <span style="color:#7f8c8d">&nbsp;// string ==> App\Http\Controllers\NameController@index</span></p>

<p>&nbsp;</p></div>
<p dir="rtl">در&nbsp;()<span style="color:#27ae60">Route</span>::<span style="color:#d35400">current&nbsp;</span>اطلاعات <span style="color:#9b59b6">کاملی</span> از خود<span style="color:#f1c40f"> روت، url، میدل ویرهای روت </span>و ... وجود دارد.</p>



<p>&nbsp;</p>
<h2 class="y">---   Cross Origin Resources Sharing (CORS)   ---</h2> 
<p>&nbsp;</p>
 <p dir="rtl">لاراول به صورت <span style="color:#e67e22">خودکار </span>به <span style="color:#e74c3c">cors </span>پاسخ می دهد. <span style="color:#9b59b6">تنظیمات</span> مربوط به cors در <span style="color:#d35400">config/cors.php</span> قرار دارد.</p>

<p dir="rtl">برای استفاده از <span style="color:#e67e22">تنظیمات cors</span> باید از <span style="color:#e74c3c">middleware &nbsp;</span>زیر <span style="color:#e74c3c">HandleCors </span>استفاده کنید.</p>

<div class="code"><p><span style="color:#7f8c8d">in &nbsp;config/cors.php</span></p>

<p>&#39;<span style="color:#f39c12">paths</span>&#39; =&gt; [&#39;<span style="color:#f39c12">api/*</span>&#39;, &#39;<span style="color:#f39c12">sanctum/csrf-cookie</span>&#39;],&nbsp;<br />
&#39;<span style="color:#f39c12">allowed_methods</span>&#39; =&gt; [&#39;<span style="color:#f39c12">*</span>&#39;],<br />
&#39;<span style="color:#f39c12">allowed_origins</span>&#39; =&gt; [&#39;<span style="color:#f39c12">*</span>&#39;],<br />
&#39;<span style="color:#f39c12">allowed_origins_patterns</span>&#39; =&gt; [],<br />
&#39;<span style="color:#f39c12">allowed_headers</span>&#39; =&gt; [&#39;<span style="color:#f39c12">*</span>&#39;],&nbsp;<br />
&#39;<span style="color:#f39c12">exposed_headers</span>&#39; =&gt; [],<br />
&#39;<span style="color:#f39c12">max_age</span>&#39; =&gt; <span style="color:#9b59b6">0</span>,<br />
&#39;<span style="color:#f39c12">supports_credentials</span>&#39; =&gt; <span style="color:#9b59b6">false</span>,</p></div> 
<p dir="rtl">میدل ویر <span style="color:#27ae60">\Fruitcake\Cors\HandleCors::class</span>, &nbsp;جز <span style="color:#e74c3c">middleware </span>های <span style="color:#f39c12">گلوبال </span>است که <span style="color:#e74c3c">روی همه روت ها</span> لحاظ می شود.</p>

<p dir="rtl"><br />
حتما در<span style="color:#f39c12"> زمان آپلود پروژه</span> دستور زیر را برای <span style="color:#f39c12">route &nbsp;</span>ها باید اجرا کنیم<span style="color:#e74c3c"> تا روت ها را داخل یک فایل کش کند</span>. این کار <span style="color:#d35400">سرعت فراخوانی روت ها</span> را <span style="color:#ff0099">چندین برابر</span> می کند.</p>

<div class="code"><p><br />
<span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#e74c3c">route:cache</span></p></div> 
<p dir="rtl">گاهی بعد از کش کردن<span style="color:#d35400"> نیاز پیدا می کنیم که روت ها را تغییر داده و دوباره کش کنیم</span>. در این صورت<span style="color:#e74c3c"> ابتدا دستور زیر را اجرا می کنیم</span> تا <span style="color:#f39c12">کش قبلی پاک شود</span> و بعد دستور کش کردن می دهیم.</p>

<div class="code">
<p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#e74c3c">route:clear</span></p></div>


<p>&nbsp;</p>
<p>&nbsp;</p>
<h2 class="y">---   Middleware   ---</h2> 
<p>&nbsp;</p>
<p dir="rtl">یک مکانیسم برای <span style="color:#e74c3c">فیلتر و بازرسی</span> <span style="color:#d35400">http request</span> های ورودی به application &nbsp;شما است.</p>

<p dir="rtl">برای مثال لاراول یک <span style="color:#f1c40f">auth middleware</span>&nbsp;دارد که بررسی می کند <span style="color:#27ae60">آیا کاربر لاگین کرده است یا نه</span><br />
اگر لاگین <span style="color:#f39c12">نکرده بود</span> او را به صفحه<span style="color:#e74c3c"> لاگین redirect </span>&nbsp;می کند. در غیر اینصورت <span style="color:#9b59b6">اجازه پردازش درخواست</span> داخل application &nbsp;داده می شود</p>

<p dir="rtl"><br />
<span style="color:#e74c3c">تمام middleware ها</span> در مسیر <span style="color:#f39c12">app/Http/Middleware</span> قرار دارند.</p>

<p dir="rtl"><br />
یکی دیگر از <span style="color:#9b59b6">middleware &nbsp;</span>های خاص لاراول <span style="color:#e74c3c">CSRF protection middleware</span> است.</p>

<p dir="rtl"><br />
می توان برای <span style="color:#f1c40f">یک روت و درخواست تعداد زیاد middleware</span> &nbsp;در نظر گرفت.<br />
مثلا در کنار <span style="color:#3498db">auth middleware</span> &nbsp;می توان یک middleware دیگر قرار داد که از <span style="color:#2ecc71">تمام ورودهای کاربر log</span> می گیرد.</p>

<p dir="rtl">&nbsp;</p>

<p dir="rtl">برای ساخت <span style="color:#f39c12">middleware سفارشی</span> در لاراول از دستور زیر استفاده کنید.</p>
 
<div class="code"><p><span style="color:#9b59b6">php </span><span style="color:#d35400">artisan </span><span style="color:#e74c3c">make:middleware </span><span style="color:#f1c40f">EnsureTokenIsValid</span></p></div> 

<p>&nbsp;</p>

<p dir="rtl">این دستور یک <span style="color:#9b59b6">middleware &nbsp;جدید</span> با نام EnsureTokenValid در مسیر <span style="color:#f39c12">app/Http/Middleware</span> &nbsp;می سازد.</p>

<div class="code">

<p><br />
<span style="color:#27ae60">class </span><span style="color:#3498db">EnsureTokenIsValid </span>{&nbsp;</p>

<p>&nbsp; &nbsp; <span style="color:#3498db">public </span>function <span style="color:#27ae60">handle</span>($request, <span style="color:#2980b9">Closure </span>$next) {&nbsp;<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#e74c3c">if </span>($request-&gt;<span style="color:#d35400">input</span>(&#39;<span style="color:#f39c12">token</span>&#39;) <span style="color:#e74c3c">!==</span> &#39;<span style="color:#f39c12">my-secret-token</span>&#39;) {&nbsp;</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#e74c3c">return </span><span style="color:#27ae60">redirect</span>(&#39;<span style="color:#f39c12">home</span>&#39;);</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; }&nbsp;</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#e74c3c">return </span>$next($request);&nbsp;</p>

<p>&nbsp; &nbsp; }&nbsp;<br />
}</p></div> 
<p>&nbsp;</p>

<p dir="rtl">این بررسی دستور می کند که ایا در درخواست ارسالی <span style="color:#f39c12">input با نام token </span>وجود دارد و مقدار آن <span style="color:#9b59b6">برابر با token مورد نظر ما است یا نه</span>.</p>

<p dir="rtl">اگر برابر نبود <span style="color:#f1c40f">redirect &nbsp;</span>می کند توی home وگرنه&nbsp;(next$) &nbsp;اجازه عبور درخواست می دهد.</p>

<p dir="rtl">در واقع <span style="color:#f39c12">middleware </span>مانند لایه هایی است که در <span style="color:#e74c3c">هر لایه HTTP requests بررسی می شود</span> و اگر<span style="color:#d35400"> درخواست سازگار نبود reject</span> می شود.</p>

<p dir="rtl">&nbsp;</p>

<p dir="rtl"><span style="color:#f39c12">تمام middleware ها</span> تحت کنترل <span style="color:#e67e22">service container</span> هستند و به همین دلیل می توان <span style="color:#f1c40f">هر وابستگی که مورد نیاز است را به middleware تزریق کر</span>د.</p>

<p dir="rtl">یکی از <span style="color:#d35400">ویژگی های خاص middleware ها</span> این است که می توان آن ها را <span style="color:#e74c3c">قبل از ارسال درخواست و بعد از بازگشت پاسخ روی دستورات اعمال</span> کرد.</p>

<p>&nbsp;</p>

<div class="code"><p><span style="color:#27ae60">class </span><span style="color:#3498db">BeforeMiddleware </span>{&nbsp;</p>

<p>&nbsp; &nbsp; &nbsp;<span style="color:#3498db">public </span>function <span style="color:#27ae60">handle</span>($request, <span style="color:#2980b9">Closure </span>$next) {&nbsp;</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#7f8c8d">// Perform action </span></p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#e74c3c">return </span>$<span style="color:#d35400">next</span>($request);&nbsp;</p>

<p>&nbsp; &nbsp; &nbsp;}<br />
}</p></div> 
<p>&nbsp;</p>
<p dir="rtl">این middleware<span style="color:#e74c3c"> قبل از ارسال درخواست به سرور اجرا</span> می شود.</p>

<div class="code"><p>&nbsp;</p>

<p><span style="color:#27ae60">class </span><span style="color:#3498db">AfterMiddleware </span>{&nbsp;</p>

<p>&nbsp; &nbsp; &nbsp; <span style="color:#3498db">public </span>function <span style="color:#27ae60">handle</span>($request, <span style="color:#2980b9">Closure </span>$next) {&nbsp;</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $response = $<span style="color:#d35400">next</span>($request);&nbsp;</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#7f8c8d"> // Perform action</span></p>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#e74c3c">return</span> $response;</p>

<p>&nbsp; &nbsp; &nbsp; &nbsp;}&nbsp;<br />
}</p></div> 
<p dir="rtl">با این حال ، این میان افزار<span style="color:#d35400"> پس از رسیدگی به درخواست</span> توسط برنامه ،<span style="color:#f39c12"> وظیفه خود را انجام</span> می دهد.</p>


<p>&nbsp;</p>
<h2 class="y">------   Restricting Middleware   ------</h2> 
<p>&nbsp;</p>
<p dir="rtl">اگر میخواهید <span style="color:#f39c12">middleware </span>روی<span style="color:#e74c3c"> هر درخواستی</span> اعمال شود و <span style="color:#d35400">global &nbsp;</span>باشد باید <span style="color:#9b59b6">اسم کلاس</span> آن را در لیست <span style="color:#ff0066">middleware$</span> در <span style="color:#f1c40f">app/Http/Kernel.php</span> قرار دهید.</p>

<p dir="rtl">&nbsp;</p>

<p dir="rtl" style="text-align:center"><span style="font-size:22px"><span style="color:#f1c40f">اختصاص دادن middleware به یک روت</span></span></p>


<p dir="rtl"><br />
برای این که<span style="color:#e67e22"> یک middleware</span> را به یک <span style="color:#ff0066">روت </span>نصب دهیم باید ابتدا یک <span style="color:#e67e22">key </span>در <span style="color:#e74c3c">routeMiddleware$</span> در <span style="color:#f39c12">app/Http/Kernel.php </span>نسبت دهیم. سپس با <span style="color:#ff0066">متود middleware</span> آن میدل ویر مورد نظر را به <span style="color:#9b59b6">روت </span>اختصاص می دهیم.</p>

<div class="code"><p><span style="color:#e74c3c">protected </span>$<span style="color:#d35400">routeMiddleware </span>= [&nbsp;</p>

<p>&nbsp; &nbsp; &#39;<span style="color:#f39c12">auth</span>&#39; =&gt;<span style="color:#27ae60"> \App\Http\Middleware\Authenticate</span>::<span style="color:#9b59b6">class</span>,&nbsp;<br />
&nbsp; &nbsp; .<br />
&nbsp; &nbsp; .<br />
&nbsp; &nbsp; .</p>

<p>];</p></div> 
<p dir="rtl">&nbsp;</p>

<div class="code"><p><br />
<span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/profile</span>&#39;, function () { <span style="color:#7f8c8d">//</span> })-&gt;<span style="color:#e74c3c">middleware</span>(&#39;<span style="color:#f39c12">auth</span>&#39;);</p></div> 
<p dir="rtl">&nbsp;</p>
<p dir="rtl">برای اختصاص <span style="color:#e74c3c">چند </span><span style="color:#f39c12">middleware </span>به روش زیر عمل میکنیم.</p>

<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/</span>&#39;, function () {&nbsp; &nbsp;</p>

<p><span style="color:#7f8c8d">&nbsp; &nbsp; //</span>&nbsp;&nbsp;</p>

<p>&nbsp;})-&gt;<span style="color:#e74c3c">middleware</span>([&#39;<span style="color:#f39c12">first</span>&#39;, &#39;<span style="color:#f39c12">second</span>&#39;]);</p>
</div>
<p>&nbsp;</p>

<p dir="rtl">می توانیم به <span style="color:#e67e22">جای اختصاص دادن نام</span> به <span style="color:#f39c12">middleware &nbsp;</span>و استفاده از آن<span style="color:#d35400"> خود کلاس middleware را به روت</span> نسبت دهیم.</p>

<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/profile</span>&#39;, function () {&nbsp;<br />
&nbsp; <span style="color:#7f8c8d">&nbsp;//&nbsp;</span><br />
})-&gt;<span style="color:#e74c3c">middleware</span>(<span style="color:#27ae60">EnsureTokenIsValid</span>::<span style="color:#9b59b6">class</span>);</p></div> 
<p dir="rtl"><br />
گاهی <span style="color:#f1c40f">middleware </span>را به <span style="color:#e67e22">گروهی از روت ها</span> اختصاص می دهیم اما می خواهیم <span style="color:#e74c3c">یکی از روت های گروه middleware &nbsp;روی آن اعمال نشود</span> که در این صورت از <span style="color:#ff0066">متود withoutMiddleware</span> استفاده می کنیم.</p>

<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#e74c3c">middleware</span>([<span style="color:#27ae60">EnsureTokenIsValid</span>::<span style="color:#9b59b6">class</span>])-&gt;<span style="color:#e67e22">group</span>(function () {&nbsp;</p>

<p>&nbsp; &nbsp; <span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/</span>&#39;, function () { <span style="color:#7f8c8d">//</span> });</p>
<br />
<p>&nbsp; &nbsp; <span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/profile</span>&#39;, function () { <span style="color:#7f8c8d">//</span><br /> &nbsp; &nbsp; })-&gt;<span style="color:#e74c3c">withoutMiddleware</span>([&nbsp;<span style="color:#27ae60">EnsureTokenIsValid</span>::<span style="color:#9b59b6">class&nbsp;</span>]);&nbsp;</p>

<p>});</p></div>
<p>&nbsp;</p>

<p dir="rtl">متود <span style="color:#d35400">withoutMiddleware </span><span style="color:#e74c3c">فقط فقط</span>&nbsp;<span style="color:#ff0066">middleware های اختصاص داده شده به روت ها</span> عمل می کند و <span style="color:#d35400">تاثیری روی global middleware&nbsp;ها</span> ندارد.</p>

<p dir="rtl">&nbsp;</p>

<p dir="rtl">گاهی می خواهیم <span style="color:#f1c40f">چند </span><span style="color:#9b59b6">middleware </span>را<span style="color:#ff0066"> تحت یک نام </span>تعریف کنیم تا راحت تر بتوانیم به <span style="color:#f1c40f">همه آن ها تحت یک middleware واحد دسترسی داشته باشیم</span> برای اینکار از <span style="color:#f39c12">کلاس middleware</span> را در <span style="color:#e74c3c">middlewareGroups$</span> در<span style="color:#3498db"> HTTP kernel</span> تعریف کنیم.</p>

<p dir="rtl">&nbsp;</p>

<p dir="rtl">آرایه <span style="color:#f39c12">middlewareGroups$</span> شامل دو بخش <span style="color:#3498db">web </span>و <span style="color:#3498db">api </span>است که میدل ویرهای تعریف شده در <span style="color:#d35400">هر کدام به طور خودکار روی همه روت های مربوط به web یا api اعمال می شود</span>.</p>
 
<div class="code"><p>&nbsp;</p>

<p><span style="color:#e74c3c">protected </span>$<span style="color:#ff0066">middlewareGroups </span>= [&nbsp;<br />
&nbsp; &nbsp;&#39;<span style="color:#f39c12">web</span>&#39; =&gt; [<br />
&nbsp; &nbsp; &nbsp; <span style="color:#27ae60">&nbsp;\App\Http\Middleware\EncryptCookies</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; <span style="color:#27ae60">&nbsp;\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#27ae60">\Illuminate\Session\Middleware\StartSession</span>::<span style="color:#9b59b6">class</span>,&nbsp;<br />
&nbsp; &nbsp; &nbsp;<span style="color:#7f8c8d"> // \Illuminate\Session\Middleware\AuthenticateSession::class,</span><br />
&nbsp; &nbsp; &nbsp;<span style="color:#27ae60"> &nbsp;\Illuminate\View\Middleware\ShareErrorsFromSession</span>::<span style="color:#9b59b6">class</span>,&nbsp;<br />
&nbsp; &nbsp; &nbsp; <span style="color:#27ae60">&nbsp;\App\Http\Middleware\VerifyCsrfToken</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#27ae60">\Illuminate\Routing\Middleware\SubstituteBindings</span>::<span style="color:#9b59b6">class</span>,&nbsp;<br />
&nbsp; &nbsp;],&nbsp;</p>

<p>&nbsp; &nbsp;&#39;<span style="color:#f39c12">api</span>&#39; =&gt; [&nbsp;<br />
&nbsp; &nbsp; &nbsp; &#39;<span style="color:#f39c12">throttle:api</span>&#39;, <span style="color:#27ae60">\Illuminate\Routing\Middleware\SubstituteBindings</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp;],&nbsp;<br />
];</p>
</div> 
<p>&nbsp;</p>
<p dir="rtl"><span style="color:#f39c12">گروه های middleware</span> این چنین به یک <span style="color:#9b59b6">Route </span>یا <span style="color:#f1c40f">گروه Route </span>&nbsp;اختصاص داده می شوند.</p>

<div class="code"><p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/</span>&#39;, function () { <span style="color:#7f8c8d">//</span> })-&gt;<span style="color:#d35400">middleware</span>(&#39;web&#39;);</p>

<p><span style="color:#27ae60">Route</span>::<span style="color:#d35400">middleware</span>([&#39;<span style="color:#f39c12">web</span>&#39;])-&gt;<span style="color:#3498db">group</span>(function () {<span style="color:#7f8c8d"> //</span> });</p></div> 
<p dir="rtl"><br />
گاهی نیاز داریم که <span style="color:#9b59b6">middleware </span>ها را <span style="color:#d35400">به شکلی تعریف کنیم که به ترتیب خاصی اجرا شوند</span> در این صورت می توانیم از ویژگی <span style="color:#ff0066">middlewarePriority$</span> در <span style="color:#f39c12">app/Http/Kernel.php</span> استفاده کنیم.<br />
در لاراول <span style="color:#3498db">8</span> این ویژگی<span style="color:#e74c3c"> به طور پیش فرض در این فایل وجود ندارد اما می توانیم خودمان آن را اضافه کنیم</span>.</p>

<div class="code"><p><span style="color:#e74c3c">protected</span> <span style="color:#d35400">$middlewarePriority</span> = [<br />
&nbsp; &nbsp;<span style="color:#27ae60"> \Illuminate\Cookie\Middleware\EncryptCookies</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; <span style="color:#27ae60">&nbsp; \Illuminate\Session\Middleware\StartSession</span>::<span style="color:#9b59b6">class</span>,&nbsp;<br />
&nbsp; &nbsp;<span style="color:#27ae60"> \Illuminate\View\Middleware\ShareErrorsFromSession</span>::<span style="color:#9b59b6">class</span>,&nbsp;<br />
&nbsp; &nbsp;<span style="color:#27ae60"> \Illuminate\Contracts\Auth\Middleware\AuthenticatesRequests</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; <span style="color:#27ae60">&nbsp; \Illuminate\Routing\Middleware\ThrottleRequests</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp;<span style="color:#27ae60"> \Illuminate\Session\Middleware\AuthenticateSession</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp;<span style="color:#27ae60"> \Illuminate\Routing\Middleware\SubstituteBindings</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp; &nbsp;<span style="color:#27ae60"> \Illuminate\Auth\Middleware\Authorize</span>::<span style="color:#9b59b6">class</span>,<br />
&nbsp;];</p>
</div> 
<p>&nbsp;</p>
<p style="text-align:center"><span style="font-size:22px"><span style="color:#f1c40f">Middleware parameters</span></span></p>

<p dir="rtl"><br />
ما می توانیم<span style="color:#e74c3c"> پارامترهای اضافی</span> به <span style="color:#f39c12">middleware </span>ارسال کنیم. برای مثال اگر برنامه شما<span style="color:#3498db"> قبل از انجام یک عمل خاص باید تأیید کند </span>که کاربر تأیید شده دارای &quot;<span style="color:#e74c3c">نقش</span>&quot; خاصی است ، <span style="color:#d35400">می توانید یک middleware &nbsp;ایجاد کنید که یک نام نقش به عنوان یک آرگومان اضافی دریافت می کند</span>.</p>

<p dir="rtl">پارامتر <span style="color:#ff0066">اضافی </span>را می توانیم به عنوان<span style="color:#e74c3c"> پارامتر سوم</span> بعد از <span style="color:#ff0066">next$ </span>به <span style="color:#f1c40f">middleware </span>پاس دهیم.</p>

<div class="code"><p><br />
<span style="color:#e74c3c">public </span><span style="color:#3498db">function </span><span style="color:#27ae60">handle</span>($request, <span style="color:#2980b9">Closure </span>$next, $role) {&nbsp;</p>

<p>&nbsp; &nbsp;<span style="color:#e74c3c">if</span> (<span style="color:#e74c3c">!</span> $request-&gt;<span style="color:#f39c12">user</span>()-&gt;<span style="color:#d35400">hasRole</span>($role)) {&nbsp;<br />
&nbsp; &nbsp; &nbsp; <span style="color:#7f8c8d">&nbsp;// Redirect...&nbsp;</span><br />
&nbsp; &nbsp;}&nbsp;</p>

<p><br />
&nbsp; &nbsp;<span style="color:#e74c3c">return </span><span style="color:#d35400">$next</span>($request);&nbsp;</p>

<p>}</p>

<p><br />
<span style="color:#7f8c8d">//use</span></p>

<p><span style="color:#27ae60">Route</span>::<span style="color:#d35400">put</span>(&#39;<span style="color:#f39c12">/post/{id}</span>&#39;, function ($id) {&nbsp;<br />
<span style="color:#7f8c8d">//</span> })-&gt;<span style="color:#d35400">middleware</span>(&#39;<span style="color:#ff0066">role:editor</span>&#39;);</p>

<p>&nbsp;</p>

<p><span style="color:#7f8c8d">//multi</span></p>

<p><span style="color:#27ae60">Route</span>::<span style="color:#d35400">put</span>(&#39;<span style="color:#f39c12">/post/{id}</span>&#39;, function ($id) {&nbsp;<br />
//&nbsp;<br />
})-&gt;<span style="color:#d35400">middleware</span>(&#39;<span style="color:#ff0066">role:editor,second</span>&#39;);</p></div> 
<p>&nbsp;</p>

<p style="text-align:center"><span style="font-size:22px"><span style="color:#f1c40f">terminate middleware&nbsp;</span></span></p>

<p dir="rtl">&nbsp;</p>

<p dir="rtl">گاهی می خواهیم یک <span style="color:#f1c40f">middleware </span><span style="color:#e74c3c">بعد از رسیدن</span> <span style="color:#9b59b6">HTTP response </span>به <span style="color:#f1c40f">مرورگر </span>اجرا شود.</p>

<p dir="rtl">اگر <span style="color:#ff0066">متود terminate</span> در <span style="color:#f39c12">middleware</span> &nbsp;تعریف شود دستورات <span style="color:#3498db">داخل آن پس از ارسال پاسخ به مرورگر</span> ، به <span style="color:#e67e22">طور خودکار فراخوانی </span>می شود.</p>

<p dir="rtl">&nbsp;</p>

<p><span style="color:#e74c3c">public </span>function <span style="color:#d35400">terminate</span>($request, $response) {<span style="color:#7f8c8d"> // ...</span> }</p>

<p dir="rtl">باید <span style="color:#d35400">terminate middleware</span> &nbsp;را به لیست <span style="color:#f39c12">middleware </span>های <span style="color:#ff0066">global &nbsp;</span>اضافه کنیم.</p>

<p dir="rtl">در <span style="color:#f39c12">terminate middleware</span> &nbsp;<span style="color:#e74c3c">هم به request &nbsp;و هم به response &nbsp;دسترسی داریم</span>.</p>


<p dir="rtl">&nbsp;</p>
<h2 class="y">------   CSRF   ------</h2> 
<p dir="rtl">&nbsp;</p>
<p><br />
<span style="color:#d35400">Cross-site request forgeries</span></p>

<p dir="rtl">عبور از <span style="color:#e74c3c">چارچوب سایت</span> با <span style="color:#f1c40f">درخواست های جعلی</span></p>

<p dir="rtl"><br />
<span style="color:#f39c12">حمله csrf</span> نوعی سوء استفاده <span style="color:#9b59b6">مخرب </span>است که در آن<span style="color:#e74c3c"> دستورات غیر مجاز به نمایندگی از یک کاربر تأیید شده انجام می شود</span>.</p>

<p dir="rtl"><br />
فرض کنید که یک روت دارید که<span style="color:#9b59b6"> وظیفه آن تغییر دسترسی های کاربر</span> است.<br />
این روت با<span style="color:#f39c12"> متود post یک پارامتر ایمیل </span>می گیرد.<br />
<span style="color:#ff0066">بدون محافظت از CSRF</span> ،<span style="color:#3498db"> یک وب سایت مخرب می تواند یک فرم HTML ایجاد کند که به مسیر برنامه /کاربر /ایمیل شما اشاره می کند و آدرس ایمیل خود کاربر مخرب را ارسال می کند</span></p>

<div class="code"><p><br />
&lt;<span style="color:#e74c3c">form </span>action=&quot;<span style="color:#f39c12">https://your-application.com/user/email</span>&quot; method=&quot;<span style="color:#f39c12">POST</span>&quot;&gt;&nbsp;<br />
&nbsp; &nbsp; &lt;<span style="color:#e74c3c">input </span>type=&quot;<span style="color:#f39c12">email</span>&quot; value=&quot;<span style="color:#f39c12">malicious-email@example.com</span>&quot;&gt;&nbsp;<br />
&lt;/<span style="color:#e74c3c">form</span>&gt;&nbsp;<br />
&lt;<span style="color:#e74c3c">script</span>&gt;<br />
&nbsp; &nbsp; <span style="color:#3498db">document</span>.<span style="color:#f39c12">forms</span>[<span style="color:#9b59b6">0</span>].<span style="color:#d35400">submit</span>();&nbsp;<br />
&lt;/<span style="color:#e74c3c">script</span>&gt;</p></div> 
<br />

<div class="code"><p>malicious &nbsp; مالی شز &nbsp; &nbsp;مخرب</p>

<p><br />
vulnerability &nbsp; &nbsp; آسیب پذیری</p></div>
<br />
 <p dir="rtl"><br />
برای <span style="color:#ff0066">جلوگیری از این آسیب پذیری</span> ، باید <span style="color:#f39c12">هر</span> درخواست <span style="color:#d35400">POST </span>، <span style="color:#d35400">PUT </span>، <span style="color:#d35400">PATCH </span>یا <span style="color:#d35400">DELETE </span>ورودی را برای مقدار <span style="color:#e74c3c">session محرمانه</span> که <span style="color:#f1c40f">برنامه مخرب قادر به دسترسی به آن نیست ، بررسی کنیم</span>.</p>

<p dir="rtl">&nbsp;</p>

<p dir="rtl" style="text-align:center"><span style="font-size:22px"><span style="color:#f1c40f">جلوگیری از حملات csrf</span></span></p>

<p dir="rtl"><br />
لاراول به<span style="color:#9b59b6"> طور خودکار</span> برای <span style="color:#d35400">هر کاربر فعال که توسط برنامه مدیریت می شود </span>، <span style="color:#ff0066">CSRF token</span> تولید می کند.<br />
از این <span style="color:#d35400">توکن برای تایید کاربری که احراز هویت شده است</span> استفاده می شود. در واقع با این توکن بررسی می شود که<span style="color:#f1c40f"> کاربر و درخواست ارسالی حقیقی هستند یا نه</span>.</p>

<p dir="rtl">از آنجا که این<span style="color:#e74c3c"> توکن در session کاربر ذخیره می شود</span> و با <span style="color:#d35400">هر بار ایجاد مجدد جلسه تغییر می کند ، یک برنامه مخرب نمی تواند به آن دسترسی پیدا کن</span>د.</p>

<p dir="rtl"><br />
<span style="color:#f39c12">توکن CSRF </span>&nbsp;جاری از طریق تابع <span style="color:#e74c3c">csrf_token</span> <span style="color:#f1c40f">helper </span>قابل <span style="color:#9b59b6">دسترسی </span>است.</p>

<div class="code"><p><span style="color:#d35400">csrf_token</span>();</p>

<p>&nbsp;</p>

<p><span style="color:#27ae60">Route</span>::<span style="color:#3498db">get</span>(&#39;<span style="color:#f39c12">/token</span>&#39;, function (<span style="color:#2980b9">Request </span>$request) {&nbsp;</p>

<p>&nbsp; &nbsp; $token = $request-&gt;<span style="color:#f39c12">session</span>()-&gt;<span style="color:#d35400">token</span>();&nbsp;</p>

<p>&nbsp; &nbsp; $token = <span style="color:#d35400">csrf_token</span>();&nbsp;</p>

<p>&nbsp; <span style="color:#7f8c8d">&nbsp; &nbsp;// ...&nbsp;</span></p>

<p>});</p></div> 
<p>&nbsp;</p>

<p dir="rtl">هر زمان که فرم <span style="color:#f39c12">HTML </span>&quot;<span style="color:#f39c12">POST</span>&quot; ، &quot;<span style="color:#f39c12">PUT</span>&quot; ، &quot;<span style="color:#f39c12">PATCH</span>&quot; یا &quot;<span style="color:#f39c12">DELETE</span>&quot; را در برنامه خود تعریف می کنید ، باید <span style="color:#e74c3c">یک فیلد token CSRF </span>مخفی را در فرم قرار دهید تا <span style="color:#f1c40f">middleware</span> &nbsp;<span style="color:#ff0066">محافظت CSRF بتواند درخواست را تأیید کند</span>.</p>

<p dir="rtl">&nbsp;برای راحتی ، می توانید از دستور<span style="color:#e74c3c">csrf Blade</span> برای <span style="color:#ff0066">ایجاد فیلد ورودی توکن مخفی </span>استفاده کنید</p>


<div class="code"><p><br />
&lt;<span style="color:#e74c3c">form </span>method=&quot;<span style="color:#f39c12">POST</span>&quot; action=&quot;<span style="color:#f39c12">/profile</span>&quot;&gt;&nbsp;</p>

<p>&nbsp; &nbsp; &nbsp; <span style="color:#d35400">@csrf&nbsp;</span></p>

<p>&nbsp; &nbsp; <span style="color:#7f8c8d">&nbsp;&lt;!-- Equivalent to... --&gt;&nbsp;</span></p>

<p>&nbsp; &nbsp; &nbsp;&lt;<span style="color:#e74c3c">input </span>type=&quot;<span style="color:#f39c12">hidden</span>&quot; name=&quot;<span style="color:#f39c12">_token</span>&quot; value=&quot;{{ <span style="color:#d35400">csrf_token</span>() }}&quot; /&gt;&nbsp;</p>

<p>&lt;/<span style="color:#e74c3c">form</span>&gt;</p>
</div>
<p>&nbsp;</p>

<p dir="rtl">میدل ویر <span style="color:#d35400">App\Http\ Middleware\VerifyCsrfToken</span> در گروه<span style="color:#ff0066"> web middleware</span> &nbsp;قرار دارد و <span style="color:#e74c3c">به طور خودکار تایید می کن</span>د که ایا <span style="color:#d35400">توکن فرستاده شده در request با توکن ذخیره شده در session &nbsp;کاربر برابر است یا نه</span></p>

<p dir="rtl"><br />
زمانی که این<span style="color:#e74c3c"> دوتا برابر بودن مطمئن می شویم که کاربر احراز هویت شده و می توانیم بقیه روند رسیدگی به request را شروع کنیم</span>.</p>

<p dir="rtl">&nbsp;</p>
<h2 class="y">------   Csrf token in SPA   ------</h2> 
<p dir="rtl">&nbsp;</p>






<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 
<div class="code"></div> 

<!--           

 

<div class="code"></div>  

<h2 class="y">------   Title   ------</h2> 
           
-->

</div>  <!-- main -->

</body>
</html>



























